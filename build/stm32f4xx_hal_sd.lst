ARM GAS  /tmp/cceblRej.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 2
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"stm32f4xx_hal_sd.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.SD_IsCardProgramming,"ax",%progbits
  18              		.align	1
  19              		.p2align 2,,3
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	SD_IsCardProgramming:
  26              	.LFB170:
  27              		.file 1 "Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c"
   1:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
   2:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ******************************************************************************
   3:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @file    stm32f4xx_hal_sd.c
   4:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @author  MCD Application Team
   5:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @version V1.6.0
   6:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @date    04-November-2016
   7:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief   SD card HAL module driver.
   8:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *          This file provides firmware functions to manage the following 
   9:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *          functionalities of the Secure Digital (SD) peripheral:
  10:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *           + Initialization and de-initialization functions
  11:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *           + IO operation functions
  12:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *           + Peripheral Control functions 
  13:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *           + Peripheral State functions
  14:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         
  15:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   @verbatim
  16:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
  17:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                         ##### How to use this driver #####
  18:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
  19:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
  20:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This driver implements a high level communication layer for read and write from/to 
  21:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     this memory. The needed STM32 hardware resources (SDIO and GPIO) are performed by 
  22:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     the user in HAL_SD_MspInit() function (MSP layer).                             
  23:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Basically, the MSP layer configuration should be the same as we provide in the 
  24:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     examples.
  25:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     You can easily tailor this configuration according to hardware resources.
  26:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
  27:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
  28:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This driver is a generic layered driver for SDIO memories which uses the HAL 
  29:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO driver functions to interface with SD and uSD cards devices. 
  30:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     It is used as follows:
  31:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  
ARM GAS  /tmp/cceblRej.s 			page 2


  32:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#)Initialize the SDIO low level resources by implement the HAL_SD_MspInit() API:
  33:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         (##) Enable the SDIO interface clock using __HAL_RCC_SDIO_CLK_ENABLE(); 
  34:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         (##) SDIO pins configuration for SD card
  35:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) Enable the clock for the SDIO GPIOs using the functions __HAL_RCC_GPIOx_CLK_ENABL
  36:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) Configure these SDIO pins as alternate function pull-up using HAL_GPIO_Init()
  37:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                   and according to your pin assignment;
  38:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         (##) DMA Configuration if you need to use DMA process (HAL_SD_ReadBlocks_DMA()
  39:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****              and HAL_SD_WriteBlocks_DMA() APIs).
  40:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) Enable the DMAx interface clock using __HAL_RCC_DMAx_CLK_ENABLE(); 
  41:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) Configure the DMA using the function HAL_DMA_Init() with predeclared and filled. 
  42:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         (##) NVIC configuration if you need to use interrupt process when using DMA transfer.
  43:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) Configure the SDIO and DMA interrupt priorities using functions
  44:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                   HAL_NVIC_SetPriority(); DMA priority is superior to SDIO's priority
  45:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) Enable the NVIC DMA and SDIO IRQs using function HAL_NVIC_EnableIRQ()
  46:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) SDIO interrupts are managed using the macros __HAL_SD_SDIO_ENABLE_IT() 
  47:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                   and __HAL_SD_SDIO_DISABLE_IT() inside the communication process.
  48:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) SDIO interrupts pending bits are managed using the macros __HAL_SD_SDIO_GET_IT()
  49:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                   and __HAL_SD_SDIO_CLEAR_IT()
  50:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#) At this stage, you can perform SD read/write/erase operations after SD card initialization 
  51:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
  52:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****          
  53:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *** SD Card Initialization and configuration ***
  54:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ================================================    
  55:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
  56:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     To initialize the SD Card, use the HAL_SD_Init() function.  It Initializes 
  57:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     the SD Card and put it into Standby State (Ready for data transfer). 
  58:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This function provide the following operations:
  59:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
  60:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#) Apply the SD Card initialization process at 400KHz and check the SD Card 
  61:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         type (Standard Capacity or High Capacity). You can change or adapt this 
  62:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         frequency by adjusting the "ClockDiv" field. 
  63:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         The SD Card frequency (SDIO_CK) is computed as follows:
  64:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
  65:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****            SDIO_CK = SDIOCLK / (ClockDiv + 2)
  66:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
  67:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         In initialization mode and according to the SD Card standard, 
  68:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         make sure that the SDIO_CK frequency doesn't exceed 400KHz.
  69:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
  70:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#) Get the SD CID and CSD data. All these information are managed by the SDCardInfo 
  71:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         structure. This structure provide also ready computed SD Card capacity 
  72:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         and Block size.
  73:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         
  74:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         -@- These information are stored in SD handle structure in case of future use.  
  75:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
  76:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#) Configure the SD Card Data transfer frequency. By Default, the card transfer 
  77:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         frequency is set to 24MHz. You can change or adapt this frequency by adjusting 
  78:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         the "ClockDiv" field.
  79:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         In transfer mode and according to the SD Card standard, make sure that the 
  80:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         SDIO_CK frequency doesn't exceed 25MHz and 50MHz in High-speed mode switch.
  81:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         To be able to use a frequency higher than 24MHz, you should use the SDIO 
  82:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         peripheral in bypass mode. Refer to the corresponding reference manual 
  83:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         for more details.
  84:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
  85:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#) Select the corresponding SD Card according to the address read with the step 2.
  86:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
  87:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#) Configure the SD Card in wide bus mode: 4-bits data.
  88:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
ARM GAS  /tmp/cceblRej.s 			page 3


  89:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *** SD Card Read operation ***
  90:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================
  91:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..] 
  92:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) You can read from SD card in polling mode by using function HAL_SD_ReadBlocks(). 
  93:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be 
  94:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         chosen as 512 bytes).
  95:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation 
  96:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
  97:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
  98:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) You can read from SD card in DMA mode by using function HAL_SD_ReadBlocks_DMA().
  99:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be 
 100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         chosen as 512 bytes).
 101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation 
 102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         After this, you have to call the function HAL_SD_CheckReadOperation(), to insure
 104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         that the read transfer is done correctly in both DMA and SD sides.
 105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *** SD Card Write operation ***
 107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   =============================== 
 108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..] 
 109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) You can write to SD card in polling mode by using function HAL_SD_WriteBlocks(). 
 110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be 
 111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         chosen as 512 bytes).
 112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation 
 113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) You can write to SD card in DMA mode by using function HAL_SD_WriteBlocks_DMA().
 116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be 
 117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         chosen as 512 byte).
 118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation 
 119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         After this, you have to call the function HAL_SD_CheckWriteOperation(), to insure
 121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         that the write transfer is done correctly in both DMA and SD sides.  
 122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *** SD card status ***
 124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ====================== 
 125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
 126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) At any time, you can check the SD Card status and get the SD card state 
 127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         by using the HAL_SD_GetStatus() function. This function checks first if the 
 128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         SD card is still connected and then get the internal SD Card transfer state.     
 129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) You can also get the SD card SD Status register by using the HAL_SD_SendSDStatus() 
 130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         function.    
 131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *** SD HAL driver macros list ***
 133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==================================
 134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
 135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Below the list of most used macros in SD HAL driver.
 136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_SDIO_ENABLE : Enable the SD device
 138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_SDIO_DISABLE : Disable the SD device
 139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_SDIO_DMA_ENABLE: Enable the SDIO DMA transfer
 140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_SDIO_DMA_DISABLE: Disable the SDIO DMA transfer
 141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_SDIO_ENABLE_IT: Enable the SD device interrupt
 142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_SDIO_DISABLE_IT: Disable the SD device interrupt
 143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_SDIO_GET_FLAG:Check whether the specified SD flag is set or not
 144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_SDIO_CLEAR_FLAG: Clear the SD's pending flags
 145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
ARM GAS  /tmp/cceblRej.s 			page 4


 146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (@) You can refer to the SD HAL driver header file for more useful macros 
 147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   @endverbatim
 149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ******************************************************************************
 150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @attention
 151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *
 152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * <h2><center>&copy; COPYRIGHT(c) 2016 STMicroelectronics</center></h2>
 153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *
 154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * Redistribution and use in source and binary forms, with or without modification,
 155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * are permitted provided that the following conditions are met:
 156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *   1. Redistributions of source code must retain the above copyright notice,
 157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *      this list of conditions and the following disclaimer.
 158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *   2. Redistributions in binary form must reproduce the above copyright notice,
 159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *      this list of conditions and the following disclaimer in the documentation
 160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *      and/or other materials provided with the distribution.
 161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *   3. Neither the name of STMicroelectronics nor the names of its contributors
 162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *      may be used to endorse or promote products derived from this software
 163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *      without specific prior written permission.
 164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *
 165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
 169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *
 176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ******************************************************************************
 177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */ 
 178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Includes ------------------------------------------------------------------*/
 180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #include "stm32f4xx_hal.h"
 181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef HAL_SD_MODULE_ENABLED
 183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined(STM32F405xx) || defined(STM32F415xx) || defined(STM32F407xx) || defined(STM32F417xx) ||
 184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     defined(STM32F427xx) || defined(STM32F437xx) || defined(STM32F429xx) || defined(STM32F439xx) ||
 185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     defined(STM32F401xC) || defined(STM32F401xE) || defined(STM32F411xE) || defined(STM32F446xx) ||
 186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412Zx) || defined(STM32F412Vx) ||
 187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     defined(STM32F412Rx) || defined(STM32F412Cx) || defined(STM32F413xx) || defined(STM32F423xx)
 188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup STM32F4xx_HAL_Driver
 189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
 190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD 
 193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
 194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Private typedef -----------------------------------------------------------*/
 197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Private define ------------------------------------------------------------*/
 198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Private_Defines
 199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
 200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** 
 202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SDIO Data block size 
ARM GAS  /tmp/cceblRej.s 			page 5


 203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */ 
 204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define DATA_BLOCK_SIZE                  ((uint32_t)(9U << 4U))
 205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** 
 206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SDIO Static flags, Timeout, FIFO Address  
 207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SDIO_STATIC_FLAGS               ((uint32_t)(SDIO_FLAG_CCRCFAIL | SDIO_FLAG_DCRCFAIL | SDIO_
 209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                                     SDIO_FLAG_DTIMEOUT | SDIO_FLAG_TXUNDERR | SDIO_
 210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                                     SDIO_FLAG_CMDREND  | SDIO_FLAG_CMDSENT  | SDIO_
 211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                                     SDIO_FLAG_DBCKEND))  
 212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SDIO_CMD0TIMEOUT                ((uint32_t)0x00010000U)
 214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** 
 216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Mask for errors Card Status R1 (OCR Register) 
 217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_ADDR_OUT_OF_RANGE        ((uint32_t)0x80000000U)
 219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_ADDR_MISALIGNED          ((uint32_t)0x40000000U)
 220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_BLOCK_LEN_ERR            ((uint32_t)0x20000000U)
 221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_ERASE_SEQ_ERR            ((uint32_t)0x10000000U)
 222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_BAD_ERASE_PARAM          ((uint32_t)0x08000000U)
 223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_WRITE_PROT_VIOLATION     ((uint32_t)0x04000000U)
 224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_LOCK_UNLOCK_FAILED       ((uint32_t)0x01000000U)
 225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_COM_CRC_FAILED           ((uint32_t)0x00800000U)
 226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_ILLEGAL_CMD              ((uint32_t)0x00400000U)
 227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_CARD_ECC_FAILED          ((uint32_t)0x00200000U)
 228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_CC_ERROR                 ((uint32_t)0x00100000U)
 229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_GENERAL_UNKNOWN_ERROR    ((uint32_t)0x00080000U)
 230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_STREAM_READ_UNDERRUN     ((uint32_t)0x00040000U)
 231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_STREAM_WRITE_OVERRUN     ((uint32_t)0x00020000U)
 232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_CID_CSD_OVERWRITE        ((uint32_t)0x00010000U)
 233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_WP_ERASE_SKIP            ((uint32_t)0x00008000U)
 234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_CARD_ECC_DISABLED        ((uint32_t)0x00004000U)
 235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_ERASE_RESET              ((uint32_t)0x00002000U)
 236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_AKE_SEQ_ERROR            ((uint32_t)0x00000008U)
 237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_OCR_ERRORBITS                ((uint32_t)0xFDFFE008U)
 238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** 
 240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Masks for R6 Response 
 241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_R6_GENERAL_UNKNOWN_ERROR     ((uint32_t)0x00002000U)
 243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_R6_ILLEGAL_CMD               ((uint32_t)0x00004000U)
 244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_R6_COM_CRC_FAILED            ((uint32_t)0x00008000U)
 245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_VOLTAGE_WINDOW_SD            ((uint32_t)0x80100000U)
 247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_HIGH_CAPACITY                ((uint32_t)0x40000000U)
 248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_STD_CAPACITY                 ((uint32_t)0x00000000U)
 249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_CHECK_PATTERN                ((uint32_t)0x000001AAU)
 250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_MAX_VOLT_TRIAL               ((uint32_t)0x0000FFFFU)
 252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_ALLZERO                      ((uint32_t)0x00000000U)
 253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_WIDE_BUS_SUPPORT             ((uint32_t)0x00040000U)
 255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_SINGLE_BUS_SUPPORT           ((uint32_t)0x00010000U)
 256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_CARD_LOCKED                  ((uint32_t)0x02000000U)
 257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_DATATIMEOUT                  ((uint32_t)0xFFFFFFFFU)
 259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_0TO7BITS                     ((uint32_t)0x000000FFU)
ARM GAS  /tmp/cceblRej.s 			page 6


 260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_8TO15BITS                    ((uint32_t)0x0000FF00U)
 261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_16TO23BITS                   ((uint32_t)0x00FF0000U)
 262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_24TO31BITS                   ((uint32_t)0xFF000000U)
 263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_MAX_DATA_LENGTH              ((uint32_t)0x01FFFFFFU)
 264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_HALFFIFO                     ((uint32_t)0x00000008U)
 266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_HALFFIFOBYTES                ((uint32_t)0x00000020U)
 267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** 
 269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Command Class Supported 
 270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_CCCC_LOCK_UNLOCK             ((uint32_t)0x00000080U)
 272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_CCCC_WRITE_PROT              ((uint32_t)0x00000040U)
 273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_CCCC_ERASE                   ((uint32_t)0x00000020U)
 274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** 
 276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Following commands are SD Card Specific commands.
 277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         SDIO_APP_CMD should be sent before sending these commands. 
 278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #define SD_SDIO_SEND_IF_COND            ((uint32_t)SD_CMD_HS_SEND_EXT_CSD)
 280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @}
 283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Private macro -------------------------------------------------------------*/
 286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Private variables ---------------------------------------------------------*/
 287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Private function prototypes -----------------------------------------------*/
 288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Private_Functions_Prototypes
 289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
 290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_Initialize_Cards(SD_HandleTypeDef *hsd);
 292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_Select_Deselect(SD_HandleTypeDef *hsd, uint64_t addr);
 293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_PowerON(SD_HandleTypeDef *hsd); 
 294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_PowerOFF(SD_HandleTypeDef *hsd);
 295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_SendStatus(SD_HandleTypeDef *hsd, uint32_t *pCardStatus);
 296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_CardStateTypedef SD_GetState(SD_HandleTypeDef *hsd);
 297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_IsCardProgramming(SD_HandleTypeDef *hsd, uint8_t *pStatus);
 298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdError(SD_HandleTypeDef *hsd);
 299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp1Error(SD_HandleTypeDef *hsd, uint8_t SD_CMD);
 300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp7Error(SD_HandleTypeDef *hsd);
 301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp3Error(SD_HandleTypeDef *hsd);
 302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp2Error(SD_HandleTypeDef *hsd);
 303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp6Error(SD_HandleTypeDef *hsd, uint8_t SD_CMD, uint16_t *pRCA);
 304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_WideBus_Enable(SD_HandleTypeDef *hsd);
 305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_WideBus_Disable(SD_HandleTypeDef *hsd);
 306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_FindSCR(SD_HandleTypeDef *hsd, uint32_t *pSCR);  
 307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMA_RxCplt(DMA_HandleTypeDef *hdma);
 308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMA_RxError(DMA_HandleTypeDef *hdma);
 309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMA_TxCplt(DMA_HandleTypeDef *hdma);
 310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMA_TxError(DMA_HandleTypeDef *hdma);
 311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @}
 313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Exported functions --------------------------------------------------------*/
 315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions
 316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
ARM GAS  /tmp/cceblRej.s 			page 7


 317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group1
 320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *  @brief   Initialization and de-initialization functions 
 321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *
 322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @verbatim  
 323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
 324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           ##### Initialization and de-initialization functions #####
 325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
 326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]  
 327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This section provides functions allowing to initialize/de-initialize the SD
 328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     card device to be ready for use.
 329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  
 331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @endverbatim
 332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
 333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Initializes the SD card according to the specified parameters in the 
 337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             SD_HandleTypeDef and create the associated handle.
 338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
 339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  SDCardInfo: HAL_SD_CardInfoTypedef structure for SD card information   
 340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval HAL SD error state
 341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_Init(SD_HandleTypeDef *hsd, HAL_SD_CardInfoTypedef *SDCardInfo)
 343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** { 
 344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __IO HAL_SD_ErrorTypedef errorstate = SD_OK;
 345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_InitTypeDef tmpinit;
 346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Allocate lock resource and initialize it */
 348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Lock = HAL_UNLOCKED;
 349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize the low level hardware (MSP) */
 350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_MspInit(hsd);
 351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Default SDIO peripheral configuration for SD card initialization */
 353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.ClockEdge           = SDIO_CLOCK_EDGE_RISING;
 354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.ClockBypass         = SDIO_CLOCK_BYPASS_DISABLE;
 355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.ClockPowerSave      = SDIO_CLOCK_POWER_SAVE_DISABLE;
 356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.BusWide             = SDIO_BUS_WIDE_1B;
 357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.HardwareFlowControl = SDIO_HARDWARE_FLOW_CONTROL_DISABLE;
 358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.ClockDiv            = SDIO_INIT_CLK_DIV;
 359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize SDIO peripheral interface with default configuration */
 361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_Init(hsd->Instance, tmpinit);
 362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Identify card operating voltage */
 364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_PowerON(hsd); 
 365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)     
 367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize the present SDIO card(s) and put them in idle state */
 372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_Initialize_Cards(hsd);
 373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
ARM GAS  /tmp/cceblRej.s 			page 8


 374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
 375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Read CSD/CID MSD registers */
 380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = HAL_SD_Get_CardInfo(hsd, SDCardInfo);
 381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate == SD_OK)
 383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Select the Card */
 385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_Select_Deselect(hsd, (uint32_t)(((uint32_t)SDCardInfo->RCA) << 16U));
 386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Configure SDIO peripheral interface */
 389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_Init(hsd->Instance, hsd->Init);   
 390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
 392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  De-Initializes the SD card.
 396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
 397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval HAL status
 398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_DeInit(SD_HandleTypeDef *hsd)
 400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set SD power state to off */ 
 403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_PowerOFF(hsd);
 404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* De-Initialize the MSP layer */
 406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_MspDeInit(hsd);
 407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return HAL_OK;
 409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Initializes the SD MSP.
 414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
 415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
 416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_MspInit(SD_HandleTypeDef *hsd)
 418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hsd);
 421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
 422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_MspInit could be implemented in the user file
 423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */
 424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  De-Initialize SD MSP.
 428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
 429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
 430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
ARM GAS  /tmp/cceblRej.s 			page 9


 431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_MspDeInit(SD_HandleTypeDef *hsd)
 432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hsd);
 435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
 436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_MspDeInit could be implemented in the user file
 437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */
 438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @}
 442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group2
 445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *  @brief   Data transfer functions 
 446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *
 447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @verbatim   
 448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
 449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                         ##### IO operation functions #####
 450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================  
 451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
 452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This subsection provides a set of functions allowing to manage the data 
 453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     transfer from/to SD card.
 454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @endverbatim
 456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
 457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer 
 461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         is managed by polling mode.  
 462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
 463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pReadBuffer: pointer to the buffer that will contain the received data
 464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  ReadAddr: Address from where data is to be read  
 465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  BlockSize: SD card Data block size 
 466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   BlockSize must be 512 bytes.
 467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of SD blocks to read   
 468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
 469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_ReadBlocks(SD_HandleTypeDef *hsd, uint32_t *pReadBuffer, uint64_t ReadAd
 471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef  sdio_cmdinitstructure;
 473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef sdio_datainitstructure;
 474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t count = 0U, *tempbuff = (uint32_t *)pReadBuffer;
 476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize data control register */
 478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Instance->DCTRL = 0U;
 479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == HIGH_CAPACITY_SD_CARD)
 481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     BlockSize = 512U;
 483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     ReadAddr /= 512U;
 484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set Block Size for Card */ 
 487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t) BlockSize;
ARM GAS  /tmp/cceblRej.s 			page 10


 488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
 495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
 496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
 498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Configure the SD DPSM (Data Path State Machine) */
 503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
 504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = NumberOfBlocks * BlockSize;
 505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = DATA_BLOCK_SIZE;
 506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1U)
 512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD18 READ_MULT_BLOCK with argument data address */
 514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_READ_MULT_BLOCK;
 515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD17 READ_SINGLE_BLOCK */
 519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_READ_SINGLE_BLOCK;    
 520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)ReadAddr;
 523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Read block(s) in polling mode */
 526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1U)
 527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
 529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_READ_MULT_BLOCK);
 530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate != SD_OK)
 532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
 534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Poll on SDIO flags */
 537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
 538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT 
 539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT 
 541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
 542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXFIFOHF))
 544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
ARM GAS  /tmp/cceblRej.s 			page 11


 545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Read data from SDIO Rx FIFO */
 546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         for (count = 0U; count < 8U; count++)
 547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           *(tempbuff + count) = SDIO_ReadFIFO(hsd->Instance);
 549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         
 551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         tempbuff += 8U;
 552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }      
 554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
 558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_READ_SINGLE_BLOCK); 
 559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate != SD_OK)
 561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
 563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }    
 564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* In case of single block transfer, no need of stop transfer at all */
 566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
 567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT 
 568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT 
 570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
 571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXFIFOHF))
 573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Read data from SDIO Rx FIFO */
 575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         for (count = 0U; count < 8U; count++)
 576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           *(tempbuff + count) = SDIO_ReadFIFO(hsd->Instance);
 578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         
 580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         tempbuff += 8U;
 581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send stop transmission command in case of multiblock read */
 586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DATAEND) && (NumberOfBlocks > 1U))
 587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {    
 588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if ((hsd->CardType == STD_CAPACITY_SD_CARD_V1_1) ||\
 589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (hsd->CardType == STD_CAPACITY_SD_CARD_V2_0) ||\
 590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         (hsd->CardType == HIGH_CAPACITY_SD_CARD))
 591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Send stop transmission command */
 593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = HAL_SD_StopTransfer(hsd);
 594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get error state */
 598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT))
 599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DTIMEOUT);
 601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
ARM GAS  /tmp/cceblRej.s 			page 12


 602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_TIMEOUT;
 603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
 607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DCRCFAIL);
 609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_CRC_FAIL;
 611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR))
 615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_RXOVERR);
 617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_RX_OVERRUN;
 619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
 623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_STBITERR))
 624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_STBITERR);
 626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_START_BIT_ERR;
 628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */ 
 632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No error flag set */
 635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   count = SD_DATATIMEOUT;
 638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Empty FIFO if there is still any data */
 640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXDAVL)) && (count > 0U))
 641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     *tempbuff = SDIO_ReadFIFO(hsd->Instance);
 643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tempbuff++;
 644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     count--;
 645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
 648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
 651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Allows to write block(s) to a specified address in a card. The Data
 655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         transfer is managed by polling mode.  
 656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
 657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pWriteBuffer: pointer to the buffer that will contain the data to transmit
 658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  WriteAddr: Address from where data is to be written 
ARM GAS  /tmp/cceblRej.s 			page 13


 659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  BlockSize: SD card Data block size 
 660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   BlockSize must be 512 bytes.
 661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of SD blocks to write 
 662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
 663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_WriteBlocks(SD_HandleTypeDef *hsd, uint32_t *pWriteBuffer, uint64_t Writ
 665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef sdio_datainitstructure;
 668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t totalnumberofbytes = 0U, bytestransferred = 0U, count = 0U, restwords = 0U;
 670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t *tempbuff = (uint32_t *)pWriteBuffer;
 671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint8_t cardstate  = 0U;
 672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize data control register */
 674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Instance->DCTRL = 0U;
 675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == HIGH_CAPACITY_SD_CARD)
 677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     BlockSize = 512U;
 679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     WriteAddr /= 512U;
 680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set Block Size for Card */ 
 683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)BlockSize;
 684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
 691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
 692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
 694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1U)
 699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD25 WRITE_MULT_BLOCK with argument data address */
 701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_WRITE_MULT_BLOCK;
 702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD24 WRITE_SINGLE_BLOCK */
 706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_WRITE_SINGLE_BLOCK;
 707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)WriteAddr;
 710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
 713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1U)
 714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_WRITE_MULT_BLOCK);
ARM GAS  /tmp/cceblRej.s 			page 14


 716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_WRITE_SINGLE_BLOCK);
 720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }  
 721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
 723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set total number of bytes to write */
 728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   totalnumberofbytes = NumberOfBlocks * BlockSize;
 729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Configure the SD DPSM (Data Path State Machine) */ 
 731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
 732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = NumberOfBlocks * BlockSize;
 733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
 735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Write block(s) in polling mode */
 740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1U)
 741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
 743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT
 744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT
 746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */     
 747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXFIFOHE))
 749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         if ((totalnumberofbytes - bytestransferred) < 32U)
 751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           restwords = ((totalnumberofbytes - bytestransferred) % 4U == 0U) ? ((totalnumberofbytes -
 753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           
 754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           /* Write data to SDIO Tx FIFO */
 755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           for (count = 0U; count < restwords; count++)
 756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           {
 757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             SDIO_WriteFIFO(hsd->Instance, tempbuff);
 758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             tempbuff++;
 759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             bytestransferred += 4U;
 760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           }
 761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         else
 763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           /* Write data to SDIO Tx FIFO */
 765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           for (count = 0U; count < 8U; count++)
 766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           {
 767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             SDIO_WriteFIFO(hsd->Instance, (tempbuff + count));
 768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           }
 769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           
 770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff += 8U;
 771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           bytestransferred += 32U;
 772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
ARM GAS  /tmp/cceblRej.s 			page 15


 773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }   
 775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* In case of single data block transfer no need of stop command at all */
 779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
 780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT
 781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT
 783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
 784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXFIFOHE))
 786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         if ((totalnumberofbytes - bytestransferred) < 32U)
 788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           restwords = ((totalnumberofbytes - bytestransferred) % 4U == 0U) ? ((totalnumberofbytes -
 790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           
 791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           /* Write data to SDIO Tx FIFO */
 792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           for (count = 0U; count < restwords; count++)
 793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           {
 794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             SDIO_WriteFIFO(hsd->Instance, tempbuff);
 795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             tempbuff++; 
 796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             bytestransferred += 4U;
 797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           }
 798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         else
 800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           /* Write data to SDIO Tx FIFO */
 802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           for (count = 0U; count < 8U; count++)
 803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           {
 804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             SDIO_WriteFIFO(hsd->Instance, (tempbuff + count));
 805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           }
 806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           
 807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff += 8U;
 808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           bytestransferred += 32U;
 809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }  
 812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send stop transmission command in case of multiblock write */
 815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DATAEND) && (NumberOfBlocks > 1U))
 816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {    
 817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if ((hsd->CardType == STD_CAPACITY_SD_CARD_V1_1) || (hsd->CardType == STD_CAPACITY_SD_CARD_V2_0
 818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (hsd->CardType == HIGH_CAPACITY_SD_CARD))
 819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Send stop transmission command */
 821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = HAL_SD_StopTransfer(hsd);
 822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get error state */
 826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT))
 827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DTIMEOUT);
 829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
ARM GAS  /tmp/cceblRej.s 			page 16


 830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_TIMEOUT;
 831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
 835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DCRCFAIL);
 837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_CRC_FAIL;
 839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR))
 843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_TXUNDERR);
 845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_TX_UNDERRUN;
 847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
 851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_STBITERR))
 852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_STBITERR);
 854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_START_BIT_ERR;
 856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
 860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No error flag set */
 863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
 866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Wait till the card is in programming state */
 869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_IsCardProgramming(hsd, &cardstate);
 870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((errorstate == SD_OK) && ((cardstate == SD_CARD_PROGRAMMING) || (cardstate == SD_CARD_RECE
 872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_IsCardProgramming(hsd, &cardstate);
 874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
 877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer 
 881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         is managed by DMA mode. 
 882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   This API should be followed by the function HAL_SD_CheckReadOperation()
 883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         to check the completion of the read process   
 884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle                 
 885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pReadBuffer: Pointer to the buffer that will contain the received data
 886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  ReadAddr: Address from where data is to be read  
ARM GAS  /tmp/cceblRej.s 			page 17


 887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  BlockSize: SD card Data block size 
 888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   BlockSize must be 512 bytes.
 889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to read.
 890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
 891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_ReadBlocks_DMA(SD_HandleTypeDef *hsd, uint32_t *pReadBuffer, uint64_t Re
 893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef sdio_datainitstructure;
 896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize data control register */
 899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Instance->DCTRL = 0U;
 900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize handle flags */
 902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferCplt  = 0U;
 903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->DmaTransferCplt = 0U;
 904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferErr   = SD_OK; 
 905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize SD Read operation */
 907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1U)
 908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdOperation = SD_READ_MULTIPLE_BLOCK;
 910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdOperation = SD_READ_SINGLE_BLOCK;
 914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Enable transfer interrupts */
 917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
 918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL |\
 919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DTIMEOUT |\
 920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DATAEND  |\
 921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_RXOVERR  |\
 922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_STBITERR));
 923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL |\
 925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DTIMEOUT |\
 926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DATAEND  |\
 927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_RXOVERR));
 928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
 929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Enable SDIO DMA transfer */
 931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_DMA_ENABLE();
 932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Configure DMA user callbacks */
 934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->hdmarx->XferCpltCallback  = SD_DMA_RxCplt;
 935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->hdmarx->XferErrorCallback = SD_DMA_RxError;
 936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Enable the DMA Stream */
 938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_DMA_Start_IT(hsd->hdmarx, (uint32_t)&hsd->Instance->FIFO, (uint32_t)pReadBuffer, (uint32_t)(B
 939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == HIGH_CAPACITY_SD_CARD)
 941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     BlockSize = 512U;
 943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     ReadAddr /= 512U;
ARM GAS  /tmp/cceblRej.s 			page 18


 944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set Block Size for Card */ 
 947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)BlockSize;
 948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
 955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
 956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
 958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Configure the SD DPSM (Data Path State Machine) */ 
 963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
 964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = BlockSize * NumberOfBlocks;
 965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check number of blocks command */
 972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1U)
 973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD18 READ_MULT_BLOCK with argument data address */
 975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_READ_MULT_BLOCK;
 976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD17 READ_SINGLE_BLOCK */
 980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_READ_SINGLE_BLOCK;
 981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument = (uint32_t)ReadAddr;
 984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
 987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1U)
 988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_READ_MULT_BLOCK);
 990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_READ_SINGLE_BLOCK);
 994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Update the SD transfer error in SD handle */
 997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferErr = errorstate;
 998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
1000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
ARM GAS  /tmp/cceblRej.s 			page 19


1001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Writes block(s) to a specified address in a card. The Data transfer 
1005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         is managed by DMA mode. 
1006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   This API should be followed by the function HAL_SD_CheckWriteOperation()
1007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         to check the completion of the write process (by SD current status polling).  
1008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
1009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pWriteBuffer: pointer to the buffer that will contain the data to transmit
1010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  WriteAddr: Address from where data is to be read   
1011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  BlockSize: the SD card Data block size 
1012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   BlockSize must be 512 bytes.
1013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to write
1014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
1015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_WriteBlocks_DMA(SD_HandleTypeDef *hsd, uint32_t *pWriteBuffer, uint64_t 
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
1019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef sdio_datainitstructure;
1020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
1021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize data control register */
1023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Instance->DCTRL = 0U;
1024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize handle flags */
1026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferCplt  = 0U;
1027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->DmaTransferCplt = 0U;
1028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferErr   = SD_OK;
1029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize SD Write operation */
1031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1U)
1032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdOperation = SD_WRITE_MULTIPLE_BLOCK;
1034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
1036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdOperation = SD_WRITE_SINGLE_BLOCK;
1038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }  
1039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Enable transfer interrupts */
1041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
1042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL |\
1043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DTIMEOUT |\
1044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DATAEND  |\
1045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_TXUNDERR |\
1046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_STBITERR));
1047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
1048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL |\
1049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DTIMEOUT |\
1050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DATAEND  |\
1051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_TXUNDERR));
1052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
1053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Configure DMA user callbacks */
1055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->hdmatx->XferCpltCallback  = SD_DMA_TxCplt;
1056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->hdmatx->XferErrorCallback = SD_DMA_TxError;
1057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
ARM GAS  /tmp/cceblRej.s 			page 20


1058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Enable the DMA Stream */
1059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_DMA_Start_IT(hsd->hdmatx, (uint32_t)pWriteBuffer, (uint32_t)&hsd->Instance->FIFO, (uint32_t)(
1060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Enable SDIO DMA transfer */
1062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_DMA_ENABLE();
1063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == HIGH_CAPACITY_SD_CARD)
1065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     BlockSize = 512U;
1067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     WriteAddr /= 512U;
1068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set Block Size for Card */ 
1071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)BlockSize;
1072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
1073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
1074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
1075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
1076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
1077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
1079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
1080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
1082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
1084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check number of blocks command */
1087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks <= 1U)
1088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD24 WRITE_SINGLE_BLOCK */
1090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_WRITE_SINGLE_BLOCK;
1091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
1093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD25 WRITE_MULT_BLOCK with argument data address */
1095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex = SD_CMD_WRITE_MULT_BLOCK;
1096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)WriteAddr;
1099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
1100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
1102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NumberOfBlocks > 1U)
1103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_WRITE_MULT_BLOCK);
1105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
1107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_WRITE_SINGLE_BLOCK);
1109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
1112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
1114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  /tmp/cceblRej.s 			page 21


1115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Configure the SD DPSM (Data Path State Machine) */ 
1117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
1118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = BlockSize * NumberOfBlocks;
1119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
1120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
1121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
1122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
1123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
1124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferErr = errorstate;
1126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
1128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  This function waits until the SD DMA data read transfer is finished. 
1132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         This API should be called after HAL_SD_ReadBlocks_DMA() function
1133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         to insure that all data sent by the card is already transferred by the 
1134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         DMA controller.
1135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
1136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  Timeout: Timeout duration  
1137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
1138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_CheckReadOperation(SD_HandleTypeDef *hsd, uint32_t Timeout)
1140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
1142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t timeout = Timeout;
1143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tmp1, tmp2;
1144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef tmp3;
1145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Wait for DMA/SD transfer end or SD error variables to be in SD handle */
1147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp1 = hsd->DmaTransferCplt; 
1148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp2 = hsd->SdTransferCplt;
1149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;
1150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((tmp1 == 0U) && (tmp2 == 0U) && (tmp3 == SD_OK) && (timeout > 0U))
1152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp1 = hsd->DmaTransferCplt; 
1154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp2 = hsd->SdTransferCplt;
1155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;    
1156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
1157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   timeout = Timeout;
1160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Wait until the Rx transfer is no longer active */
1162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while((__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXACT)) && (timeout > 0U))
1163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;  
1165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send stop command in multiblock read */
1168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->SdOperation == SD_READ_MULTIPLE_BLOCK)
1169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = HAL_SD_StopTransfer(hsd);
1171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  /tmp/cceblRej.s 			page 22


1172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if ((timeout == 0U) && (errorstate == SD_OK))
1174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_TIMEOUT;
1176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
1179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Return error state */
1182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->SdTransferErr != SD_OK)
1183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return (HAL_SD_ErrorTypedef)(hsd->SdTransferErr);
1185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
1188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  This function waits until the SD DMA data write transfer is finished. 
1192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         This API should be called after HAL_SD_WriteBlocks_DMA() function
1193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         to insure that all data sent by the card is already transferred by the 
1194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         DMA controller.
1195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
1196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  Timeout: Timeout duration  
1197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
1198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_CheckWriteOperation(SD_HandleTypeDef *hsd, uint32_t Timeout)
1200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
1202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t timeout = Timeout;
1203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tmp1, tmp2;
1204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef tmp3;
1205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Wait for DMA/SD transfer end or SD error variables to be in SD handle */
1207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp1 = hsd->DmaTransferCplt; 
1208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp2 = hsd->SdTransferCplt;
1209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;
1210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((tmp1 == 0U) && (tmp2 == 0U) && (tmp3 == SD_OK) && (timeout > 0U))
1212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp1 = hsd->DmaTransferCplt; 
1214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp2 = hsd->SdTransferCplt;
1215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;
1216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
1217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   timeout = Timeout;
1220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Wait until the Tx transfer is no longer active */
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while((__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_TXACT))  && (timeout > 0U))
1223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;  
1225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send stop command in multiblock write */
1228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->SdOperation == SD_WRITE_MULTIPLE_BLOCK)
ARM GAS  /tmp/cceblRej.s 			page 23


1229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = HAL_SD_StopTransfer(hsd);
1231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if ((timeout == 0U) && (errorstate == SD_OK))
1234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_TIMEOUT;
1236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
1239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Return error state */
1242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->SdTransferErr != SD_OK)
1243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return (HAL_SD_ErrorTypedef)(hsd->SdTransferErr);
1245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Wait until write is complete */
1248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(HAL_SD_GetStatus(hsd) != SD_TRANSFER_OK)
1249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {    
1250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate; 
1253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Erases the specified memory area of the given SD card.
1257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle 
1258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  startaddr: Start byte address
1259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  endaddr: End byte address
1260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
1261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_Erase(SD_HandleTypeDef *hsd, uint64_t startaddr, uint64_t endaddr)
1263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
1265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
1266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t delay         = 0U;
1268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __IO uint32_t maxdelay = 0U;
1269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint8_t cardstate      = 0U;
1270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check if the card command class supports erase command */
1272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (((hsd->CSD[1U] >> 20U) & SD_CCCC_ERASE) == 0U)
1273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_REQUEST_NOT_APPLICABLE;
1275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
1277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get max delay value */
1280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   maxdelay = 120000U / (((hsd->Instance->CLKCR) & 0xFFU) + 2U);
1281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((SDIO_GetResponse(SDIO_RESP1) & SD_CARD_LOCKED) == SD_CARD_LOCKED)
1283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_LOCK_UNLOCK_FAILED;
1285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
ARM GAS  /tmp/cceblRej.s 			page 24


1286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
1287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get start and end block for high capacity cards */
1290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == HIGH_CAPACITY_SD_CARD)
1291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     startaddr /= 512U;
1293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     endaddr   /= 512U;
1294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* According to sd-card spec 1.0 ERASE_GROUP_START (CMD32) and erase_group_end(CMD33) */
1297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if ((hsd->CardType == STD_CAPACITY_SD_CARD_V1_1) || (hsd->CardType == STD_CAPACITY_SD_CARD_V2_0) 
1298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (hsd->CardType == HIGH_CAPACITY_SD_CARD))
1299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD32 SD_ERASE_GRP_START with argument as addr  */
1301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         =(uint32_t)startaddr;
1302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_ERASE_GRP_START;
1303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
1304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
1305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
1306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
1307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
1309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_SD_ERASE_GRP_START);
1310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate != SD_OK)
1312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
1314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD33 SD_ERASE_GRP_END with argument as addr  */
1317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = (uint32_t)endaddr;
1318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_ERASE_GRP_END;
1319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
1320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
1322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_SD_ERASE_GRP_END);
1323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate != SD_OK)
1325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
1327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send CMD38 ERASE */
1331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 0U;
1332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_ERASE;
1333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
1334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
1336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_ERASE);
1337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
1339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
1341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
ARM GAS  /tmp/cceblRej.s 			page 25


1343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   for (; delay < maxdelay; delay++)
1344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Wait until the card is in programming state */
1348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_IsCardProgramming(hsd, &cardstate);
1349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   delay = SD_DATATIMEOUT;
1351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((delay > 0U) && (errorstate == SD_OK) && ((cardstate == SD_CARD_PROGRAMMING) || (cardstate
1353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_IsCardProgramming(hsd, &cardstate);
1355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     delay--;
1356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
1359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  This function handles SD card interrupt request.
1363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
1364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
1365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** void HAL_SD_IRQHandler(SD_HandleTypeDef *hsd)
1367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {  
1368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for SDIO interrupt flags */
1369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_IT_DATAEND))
1370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_IT_DATAEND);  
1372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* SD transfer is complete */
1374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferCplt = 1U;
1375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No transfer error */ 
1377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferErr  = SD_OK;
1378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     HAL_SD_XferCpltCallback(hsd);  
1380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }  
1381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_IT_DCRCFAIL))
1382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DCRCFAIL);
1384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferErr = SD_DATA_CRC_FAIL;
1386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     HAL_SD_XferErrorCallback(hsd);
1388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_IT_DTIMEOUT))
1391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DTIMEOUT);
1393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferErr = SD_DATA_TIMEOUT;
1395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     HAL_SD_XferErrorCallback(hsd);
1397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_IT_RXOVERR))
1399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  /tmp/cceblRej.s 			page 26


1400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_RXOVERR);
1401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferErr = SD_RX_OVERRUN;
1403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     HAL_SD_XferErrorCallback(hsd);
1405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_IT_TXUNDERR))
1407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_TXUNDERR);
1409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferErr = SD_TX_UNDERRUN;
1411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     HAL_SD_XferErrorCallback(hsd);
1413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
1415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_IT_STBITERR))
1416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_STBITERR);
1418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdTransferErr = SD_START_BIT_ERR;
1420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     HAL_SD_XferErrorCallback(hsd);
1422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
1424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
1425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No error flag set */
1427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Disable all SDIO peripheral interrupt sources */
1430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
1431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_DISABLE_IT(hsd, SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT | SDIO_IT_DATAEND  |\
1432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_TXFIFOHE | SDIO_IT_RXFIFOHF | SDIO_IT_TXUNDERR |\
1433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_RXOVERR  | SDIO_IT_STBITERR);
1434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
1435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_DISABLE_IT(hsd, SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT | SDIO_IT_DATAEND  |\
1436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_TXFIFOHE | SDIO_IT_RXFIFOHF | SDIO_IT_TXUNDERR |\
1437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_RXOVERR);
1438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
1439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD end of transfer callback.
1444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle 
1445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
1446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_XferCpltCallback(SD_HandleTypeDef *hsd)
1448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hsd);
1451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
1452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_XferCpltCallback could be implemented in the user file
1453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */ 
1454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
ARM GAS  /tmp/cceblRej.s 			page 27


1457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD Transfer Error callback.
1458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
1459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
1460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_XferErrorCallback(SD_HandleTypeDef *hsd)
1462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hsd);
1465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
1466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_XferErrorCallback could be implemented in the user file
1467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */ 
1468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD Transfer complete Rx callback in non blocking mode.
1472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
1473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *                the configuration information for the specified DMA module.
1474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
1475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_DMA_RxCpltCallback(DMA_HandleTypeDef *hdma)
1477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hdma);
1480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
1481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_DMA_RxCpltCallback could be implemented in the user file
1482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */ 
1483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }  
1484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD DMA transfer complete Rx error callback.
1487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
1488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *                the configuration information for the specified DMA module.
1489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
1490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_DMA_RxErrorCallback(DMA_HandleTypeDef *hdma)
1492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hdma);
1495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
1496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_DMA_RxErrorCallback could be implemented in the user file
1497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */ 
1498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD Transfer complete Tx callback in non blocking mode.
1502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
1503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *                the configuration information for the specified DMA module.
1504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
1505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_DMA_TxCpltCallback(DMA_HandleTypeDef *hdma)
1507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hdma);
1510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
1511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_DMA_TxCpltCallback could be implemented in the user file
1512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */ 
1513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }  
ARM GAS  /tmp/cceblRej.s 			page 28


1514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD DMA transfer complete error Tx callback.
1517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
1518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *                the configuration information for the specified DMA module.
1519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
1520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_DMA_TxErrorCallback(DMA_HandleTypeDef *hdma)
1522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hdma);
1525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
1526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_DMA_TxErrorCallback could be implemented in the user file
1527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */ 
1528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @}
1532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group3
1535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *  @brief   management functions 
1536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *
1537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @verbatim   
1538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
1539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                       ##### Peripheral Control functions #####
1540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================  
1541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
1542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This subsection provides a set of functions allowing to control the SD card 
1543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     operations.
1544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @endverbatim
1546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
1547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Returns information about specific card.
1551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
1552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pCardInfo: Pointer to a HAL_SD_CardInfoTypedef structure that  
1553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         contains all SD cardinformation  
1554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
1555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_Get_CardInfo(SD_HandleTypeDef *hsd, HAL_SD_CardInfoTypedef *pCardInfo)
1557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
1559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tmp = 0U;
1560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->CardType = (uint8_t)(hsd->CardType);
1562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->RCA      = (uint16_t)(hsd->RCA);
1563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 0 */
1565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (hsd->CSD[0U] & 0xFF000000U) >> 24U;
1566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CSDStruct      = (uint8_t)((tmp & 0xC0U) >> 6U);
1567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.SysSpecVersion = (uint8_t)((tmp & 0x3CU) >> 2U);
1568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved1      = tmp & 0x03U;
1569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 1 */
ARM GAS  /tmp/cceblRej.s 			page 29


1571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (hsd->CSD[0U] & 0x00FF0000U) >> 16U;
1572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.TAAC = (uint8_t)tmp;
1573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 2 */
1575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (hsd->CSD[0U] & 0x0000FF00U) >> 8U;
1576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.NSAC = (uint8_t)tmp;
1577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 3 */
1579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = hsd->CSD[0U] & 0x000000FFU;
1580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.MaxBusClkFrec = (uint8_t)tmp;
1581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 4 */
1583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (hsd->CSD[1U] & 0xFF000000U) >> 24U;
1584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CardComdClasses = (uint16_t)(tmp << 4U);
1585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 5 */
1587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (hsd->CSD[1U] & 0x00FF0000U) >> 16U;
1588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CardComdClasses |= (uint16_t)((tmp & 0xF0) >> 4U);
1589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.RdBlockLen       = (uint8_t)(tmp & 0x0FU);
1590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 6 */
1592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (hsd->CSD[1U] & 0x0000FF00U) >> 8U;
1593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.PartBlockRead   = (uint8_t)((tmp & 0x80U) >> 7U);
1594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrBlockMisalign = (uint8_t)((tmp & 0x40U) >> 6U);
1595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.RdBlockMisalign = (uint8_t)((tmp & 0x20U) >> 5U);
1596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.DSRImpl         = (uint8_t)((tmp & 0x10U) >> 4U);
1597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved2       = 0U; /*!< Reserved */
1598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if ((hsd->CardType == STD_CAPACITY_SD_CARD_V1_1) || (hsd->CardType == STD_CAPACITY_SD_CARD_V2_0))
1600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize = (tmp & 0x03U) << 10U;
1602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 7 */
1604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)(hsd->CSD[1U] & 0x000000FFU);
1605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize |= (tmp) << 2U;
1606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 8 */
1608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)((hsd->CSD[2U] & 0xFF000000U) >> 24U);
1609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize |= (tmp & 0xC0U) >> 6U;
1610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.MaxRdCurrentVDDMin = (tmp & 0x38U) >> 3U;
1612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.MaxRdCurrentVDDMax = (tmp & 0x07U);
1613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 9 */
1615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)((hsd->CSD[2U] & 0x00FF0000U) >> 16U);
1616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.MaxWrCurrentVDDMin = (tmp & 0xE0U) >> 5U;
1617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.MaxWrCurrentVDDMax = (tmp & 0x1CU) >> 2U;
1618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSizeMul      = (tmp & 0x03U) << 1U;
1619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 10 */
1620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)((hsd->CSD[2U] & 0x0000FF00U) >> 8U);
1621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSizeMul |= (tmp & 0x80U) >> 7U;
1622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity  = (pCardInfo->SD_csd.DeviceSize + 1U) ;
1624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity *= (1U << (pCardInfo->SD_csd.DeviceSizeMul + 2U));
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardBlockSize = 1U << (pCardInfo->SD_csd.RdBlockLen);
1626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity *= pCardInfo->CardBlockSize;
1627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  /tmp/cceblRej.s 			page 30


1628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (hsd->CardType == HIGH_CAPACITY_SD_CARD)
1629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 7 */
1631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)(hsd->CSD[1U] & 0x000000FFU);
1632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize = (tmp & 0x3FU) << 16U;
1633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 8 */
1635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)((hsd->CSD[2U] & 0xFF000000U) >> 24U);
1636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize |= (tmp << 8U);
1638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 9 */
1640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)((hsd->CSD[2U] & 0x00FF0000U) >> 16U);
1641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize |= (tmp);
1643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 10 */
1645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = (uint8_t)((hsd->CSD[2U] & 0x0000FF00U) >> 8U);
1646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity = (uint64_t)((((uint64_t)pCardInfo->SD_csd.DeviceSize + 1U)) * 512U * 1
1648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardBlockSize = 512U;    
1649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
1651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Not supported card type */
1653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_ERROR;
1654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.EraseGrSize = (tmp & 0x40U) >> 6U;
1657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.EraseGrMul  = (tmp & 0x3FU) << 1U;
1658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 11 */
1660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)(hsd->CSD[2U] & 0x000000FFU);
1661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.EraseGrMul     |= (tmp & 0x80U) >> 7U;
1662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrProtectGrSize = (tmp & 0x7FU);
1663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 12 */
1665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CSD[3U] & 0xFF000000U) >> 24U);
1666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrProtectGrEnable = (tmp & 0x80U) >> 7U;
1667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.ManDeflECC        = (tmp & 0x60U) >> 5U;
1668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrSpeedFact       = (tmp & 0x1CU) >> 2U;
1669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.MaxWrBlockLen     = (tmp & 0x03U) << 2U;
1670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 13 */
1672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CSD[3U] & 0x00FF0000U) >> 16U);
1673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.MaxWrBlockLen      |= (tmp & 0xC0U) >> 6U;
1674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WriteBlockPaPartial = (tmp & 0x20U) >> 5U;
1675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved3           = 0U;
1676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.ContentProtectAppli = (tmp & 0x01U);
1677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 14 */
1679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CSD[3U] & 0x0000FF00U) >> 8U);
1680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.FileFormatGrouop = (tmp & 0x80U) >> 7U;
1681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CopyFlag         = (tmp & 0x40U) >> 6U;
1682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.PermWrProtect    = (tmp & 0x20U) >> 5U;
1683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.TempWrProtect    = (tmp & 0x10U) >> 4U;
1684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.FileFormat       = (tmp & 0x0CU) >> 2U;
ARM GAS  /tmp/cceblRej.s 			page 31


1685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.ECC              = (tmp & 0x03U);
1686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 15 */
1688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)(hsd->CSD[3U] & 0x000000FFU);
1689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CSD_CRC   = (tmp & 0xFEU) >> 1U;
1690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved4 = 1U;
1691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 0 */
1693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[0U] & 0xFF000000U) >> 24U);
1694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ManufacturerID = tmp;
1695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 1 */
1697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[0U] & 0x00FF0000U) >> 16U);
1698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.OEM_AppliID = tmp << 8U;
1699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 2 */
1701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[0U] & 0x0000FF00U) >> 8U);
1702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.OEM_AppliID |= tmp;
1703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 3 */
1705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)(hsd->CID[0U] & 0x000000FFU);
1706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName1 = tmp << 24U;
1707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 4 */
1709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[1U] & 0xFF000000U) >> 24U);
1710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName1 |= tmp << 16U;
1711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 5 */
1713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[1U] & 0x00FF0000U) >> 16U);
1714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName1 |= tmp << 8U;
1715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 6 */
1717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[1U] & 0x0000FF00U) >> 8U);
1718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName1 |= tmp;
1719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 7 */
1721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)(hsd->CID[1U] & 0x000000FFU);
1722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName2 = tmp;
1723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 8 */
1725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[2U] & 0xFF000000U) >> 24U);
1726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdRev = tmp;
1727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 9 */
1729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[2U] & 0x00FF0000U) >> 16U);
1730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdSN = tmp << 24U;
1731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 10 */
1733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[2U] & 0x0000FF00U) >> 8U);
1734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdSN |= tmp << 16U;
1735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 11 */
1737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)(hsd->CID[2U] & 0x000000FFU);
1738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdSN |= tmp << 8U;
1739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 12 */
1741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[3U] & 0xFF000000U) >> 24U);
ARM GAS  /tmp/cceblRej.s 			page 32


1742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdSN |= tmp;
1743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 13 */
1745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[3U] & 0x00FF0000U) >> 16U);
1746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.Reserved1   |= (tmp & 0xF0U) >> 4U;
1747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ManufactDate = (tmp & 0x0FU) << 8U;
1748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 14 */
1750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)((hsd->CID[3U] & 0x0000FF00U) >> 8U);
1751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ManufactDate |= tmp;
1752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 15 */
1754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (uint8_t)(hsd->CID[3U] & 0x000000FFU);
1755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.CID_CRC   = (tmp & 0xFEU) >> 1U;
1756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.Reserved2 = 1U;
1757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
1759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Enables wide bus operation for the requested card if supported by 
1763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         card.
1764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle       
1765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  WideMode: Specifies the SD card wide bus mode 
1766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *          This parameter can be one of the following values:
1767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *            @arg SDIO_BUS_WIDE_8B: 8-bit data transfer (Only for MMC)
1768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *            @arg SDIO_BUS_WIDE_4B: 4-bit data transfer
1769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *            @arg SDIO_BUS_WIDE_1B: 1-bit data transfer
1770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
1771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_WideBusOperation_Config(SD_HandleTypeDef *hsd, uint32_t WideMode)
1773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
1775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_InitTypeDef tmpinit;
1776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* MMC Card does not support this feature */
1778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType == MULTIMEDIA_CARD)
1779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_UNSUPPORTED_FEATURE;
1781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
1783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if ((hsd->CardType == STD_CAPACITY_SD_CARD_V1_1) || (hsd->CardType == STD_CAPACITY_SD_CARD_V
1785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (hsd->CardType == HIGH_CAPACITY_SD_CARD))
1786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (WideMode == SDIO_BUS_WIDE_8B)
1788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_UNSUPPORTED_FEATURE;
1790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if (WideMode == SDIO_BUS_WIDE_4B)
1792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_WideBus_Enable(hsd);
1794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if (WideMode == SDIO_BUS_WIDE_1B)
1796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_WideBus_Disable(hsd);
1798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
ARM GAS  /tmp/cceblRej.s 			page 33


1799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else
1800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* WideMode is not a valid argument*/
1802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_INVALID_PARAMETER;
1803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate == SD_OK)
1806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Configure the SDIO peripheral */
1808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockEdge           = hsd->Init.ClockEdge;
1809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockBypass         = hsd->Init.ClockBypass;
1810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockPowerSave      = hsd->Init.ClockPowerSave;
1811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.BusWide             = WideMode;
1812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.HardwareFlowControl = hsd->Init.HardwareFlowControl;
1813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockDiv            = hsd->Init.ClockDiv;
1814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       SDIO_Init(hsd->Instance, tmpinit);
1815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
1819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Aborts an ongoing data transfer.
1823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
1824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
1825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_StopTransfer(SD_HandleTypeDef *hsd)
1827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
1829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
1830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send CMD12 STOP_TRANSMISSION  */
1832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 0U;
1833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_STOP_TRANSMISSION;
1834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
1835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
1838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
1840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_STOP_TRANSMISSION);
1841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
1843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Switches the SD card to High Speed mode.
1847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         This API must be used after "Transfer State"
1848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   This operation should be followed by the configuration 
1849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         of PLL to have SDIOCK clock between 67 and 75 MHz
1850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
1851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
1852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_HighSpeed (SD_HandleTypeDef *hsd)
1854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
ARM GAS  /tmp/cceblRej.s 			page 34


1856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
1857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef sdio_datainitstructure;
1858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint8_t SD_hs[64U]  = {0U};
1860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t SD_scr[2U] = {0U, 0U};
1861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t SD_SPEC    = 0U;
1862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t count = 0U, *tempbuff = (uint32_t *)SD_hs;
1863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize the Data control register */
1865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Instance->DCTRL = 0U;
1866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get SCR Register */
1868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, SD_scr);
1869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
1871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
1873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Test the Version supported by the card*/ 
1876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_SPEC = (SD_scr[1U]  & 0x01000000U) | (SD_scr[1U]  & 0x02000000U);
1877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (SD_SPEC != SD_ALLZERO)
1879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Set Block Size for Card */
1881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = (uint32_t)64U;
1882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
1883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
1884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
1885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
1886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
1887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
1889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
1890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate != SD_OK)
1892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
1894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
1898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.DataLength    = 64U;
1899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_64B ;
1900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
1901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
1902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
1903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
1904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD6 switch mode */
1906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = 0x80FFFF01U;
1907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_HS_SWITCH;
1908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure); 
1909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
1911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_HS_SWITCH);
1912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
ARM GAS  /tmp/cceblRej.s 			page 35


1913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (errorstate != SD_OK)
1914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
1916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR        
1918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT 
1919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR */
1920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT 
1921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
1922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXFIFOHF))
1924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
1925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         for (count = 0U; count < 8U; count++)
1926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
1927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           *(tempbuff + count) = SDIO_ReadFIFO(hsd->Instance);
1928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
1929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         
1930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         tempbuff += 8U;
1931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
1932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT))
1935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DTIMEOUT);
1937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_DATA_TIMEOUT;
1939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
1941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
1943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DCRCFAIL);
1945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_DATA_CRC_FAIL;
1947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
1949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR))
1951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_RXOVERR);
1953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_RX_OVERRUN;
1955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
1957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
1959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_STBITERR))
1960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_STBITERR);
1962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_START_BIT_ERR;
1964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
1965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
1966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
1968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else
1969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
ARM GAS  /tmp/cceblRej.s 			page 36


1970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* No error flag set */
1971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     count = SD_DATATIMEOUT;
1974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while ((__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXDAVL)) && (count > 0U))
1976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       *tempbuff = SDIO_ReadFIFO(hsd->Instance);
1978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tempbuff++;
1979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       count--;
1980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Clear all the static flags */
1983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Test if the switch mode HS is ok */
1986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if ((SD_hs[13U]& 2U) != 2U)
1987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_UNSUPPORTED_FEATURE;
1989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     } 
1990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
1992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
1993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @}
1997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group4
2000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *  @brief   Peripheral State functions 
2001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *
2002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @verbatim   
2003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
2004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                       ##### Peripheral State functions #####
2005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================  
2006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
2007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This subsection permits to get in runtime the status of the peripheral 
2008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     and the data flow.
2009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @endverbatim
2011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
2012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Returns the current SD card's status.
2016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pSDstatus: Pointer to the buffer that will contain the SD card status 
2018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         SD Status register)
2019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_SendSDStatus(SD_HandleTypeDef *hsd, uint32_t *pSDstatus)
2022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef  sdio_cmdinitstructure;
2024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef sdio_datainitstructure;
2025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t count = 0U;
ARM GAS  /tmp/cceblRej.s 			page 37


2027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check SD response */
2029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if ((SDIO_GetResponse(SDIO_RESP1) & SD_CARD_LOCKED) == SD_CARD_LOCKED)
2030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_LOCK_UNLOCK_FAILED;
2032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set block size for card if it is not equal to current block size for card */
2037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 64U;
2038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
2039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
2040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
2041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
2042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
2045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
2046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
2048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send CMD55 */
2053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16U);
2054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
2055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
2058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_CMD);
2059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
2061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Configure the SD DPSM (Data Path State Machine) */ 
2066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
2067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = 64U;
2068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_64B;
2069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
2070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
2071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
2072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
2073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send ACMD13 (SD_APP_STATUS)  with argument as card's RCA */
2075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 0U;
2076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_APP_STATUS;
2077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
2080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SD_APP_STATUS);
2081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate != SD_OK)
2083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  /tmp/cceblRej.s 			page 38


2084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get status data */
2088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR 
2089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | 
2090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
2091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | 
2092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
2093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXFIFOHF))
2095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       for (count = 0U; count < 8U; count++)
2097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
2098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         *(pSDstatus + count) = SDIO_ReadFIFO(hsd->Instance);
2099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
2100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       pSDstatus += 8U;
2102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT))
2106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DTIMEOUT);
2108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_TIMEOUT;
2110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
2114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DCRCFAIL);
2116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_CRC_FAIL;
2118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR))
2122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_RXOVERR);
2124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_RX_OVERRUN;
2126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
2130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_STBITERR))
2131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_STBITERR);
2133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_START_BIT_ERR;
2135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
2139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
2140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  /tmp/cceblRej.s 			page 39


2141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No error flag set */
2142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }  
2143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   count = SD_DATATIMEOUT;
2145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXDAVL)) && (count > 0U))
2146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     *pSDstatus = SDIO_ReadFIFO(hsd->Instance);
2148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pSDstatus++;
2149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     count--;
2150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static status flags*/
2153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
2154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Gets the current sd card data status.
2160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval Data Transfer state
2162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_TransferStateTypedef HAL_SD_GetStatus(SD_HandleTypeDef *hsd)
2164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_CardStateTypedef cardstate =  SD_CARD_TRANSFER;
2166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get SD card state */
2168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   cardstate = SD_GetState(hsd);
2169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Find SD status according to card state*/
2171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (cardstate == SD_CARD_TRANSFER)
2172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return SD_TRANSFER_OK;
2174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(cardstate == SD_CARD_ERROR)
2176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return SD_TRANSFER_ERROR;
2178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
2180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return SD_TRANSFER_BUSY;
2182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Gets the SD card status.
2187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle      
2188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pCardStatus: Pointer to the HAL_SD_CardStatusTypedef structure that 
2189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         will contain the SD card status information 
2190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_ErrorTypedef HAL_SD_GetCardStatus(SD_HandleTypeDef *hsd, HAL_SD_CardStatusTypedef *pCardStat
2193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tmp = 0U;
2196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t sd_status[16U];
2197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
ARM GAS  /tmp/cceblRej.s 			page 40


2198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = HAL_SD_SendSDStatus(hsd, sd_status);
2199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate  != SD_OK)
2201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 0 */
2206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[0U] & 0xC0U) >> 6U;
2207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->DAT_BUS_WIDTH = (uint8_t)tmp;
2208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 0 */
2210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[0U] & 0x20U) >> 5U;
2211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SECURED_MODE = (uint8_t)tmp;
2212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 2 */
2214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[2U] & 0xFFU);
2215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SD_CARD_TYPE = (uint8_t)(tmp << 8U);
2216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 3 */
2218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[3U] & 0xFFU);
2219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SD_CARD_TYPE |= (uint8_t)tmp;
2220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 4 */
2222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[4U] & 0xFFU);
2223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SIZE_OF_PROTECTED_AREA = (uint8_t)(tmp << 24U);
2224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 5 */
2226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[5U] & 0xFFU);
2227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SIZE_OF_PROTECTED_AREA |= (uint8_t)(tmp << 16U);
2228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 6 */
2230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[6U] & 0xFFU);
2231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SIZE_OF_PROTECTED_AREA |= (uint8_t)(tmp << 8U);
2232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 7 */
2234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[7U] & 0xFFU);
2235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SIZE_OF_PROTECTED_AREA |= (uint8_t)tmp;
2236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 8 */
2238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[8U] & 0xFFU);
2239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SPEED_CLASS = (uint8_t)tmp;
2240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 9 */
2242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[9U] & 0xFFU);
2243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->PERFORMANCE_MOVE = (uint8_t)tmp;
2244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 10 */
2246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[10U] & 0xF0U) >> 4U;
2247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->AU_SIZE = (uint8_t)tmp;
2248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 11 */
2250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[11U] & 0xFFU);
2251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->ERASE_SIZE = (uint8_t)(tmp << 8U);
2252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 12 */
2254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[12U] & 0xFFU);
ARM GAS  /tmp/cceblRej.s 			page 41


2255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->ERASE_SIZE |= (uint8_t)tmp;
2256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 13 */
2258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[13U] & 0xFCU) >> 2U;
2259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->ERASE_TIMEOUT = (uint8_t)tmp;
2260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Byte 13 */
2262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = (sd_status[13U] & 0x3U);
2263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->ERASE_OFFSET = (uint8_t)tmp;
2264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****          
2268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @}
2270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @}
2274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Private function ----------------------------------------------------------*/  
2277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Private_Functions
2278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
2279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD DMA transfer complete Rx callback.
2283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
2284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *                the configuration information for the specified DMA module.
2285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
2286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMA_RxCplt(DMA_HandleTypeDef *hdma)
2288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = (SD_HandleTypeDef*)((DMA_HandleTypeDef*)hdma)->Parent;
2290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* DMA transfer is complete */
2292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->DmaTransferCplt = 1U;
2293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Wait until SD transfer is complete */
2295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(hsd->SdTransferCplt == 0U)
2296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Disable the DMA channel */
2300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_DMA_Abort(hdma);
2301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Transfer complete user callback */
2303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_DMA_RxCpltCallback(hsd->hdmarx);   
2304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD DMA transfer Error Rx callback.
2308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
2309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *                the configuration information for the specified DMA module.
2310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
2311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
ARM GAS  /tmp/cceblRej.s 			page 42


2312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMA_RxError(DMA_HandleTypeDef *hdma)
2313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = (SD_HandleTypeDef*)((DMA_HandleTypeDef*)hdma)->Parent;
2315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Transfer complete user callback */
2317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_DMA_RxErrorCallback(hsd->hdmarx);
2318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD DMA transfer complete Tx callback.
2322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
2323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *                the configuration information for the specified DMA module.
2324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
2325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMA_TxCplt(DMA_HandleTypeDef *hdma)
2327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = (SD_HandleTypeDef*)((DMA_HandleTypeDef*)hdma)->Parent;
2329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* DMA transfer is complete */
2331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->DmaTransferCplt = 1U;
2332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Wait until SD transfer is complete */
2334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(hsd->SdTransferCplt == 0U)
2335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  
2338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Disable the DMA channel */
2339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_DMA_Abort(hdma);
2340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Transfer complete user callback */
2342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_DMA_TxCpltCallback(hsd->hdmatx);  
2343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  SD DMA transfer Error Tx callback.
2347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: pointer to a DMA_HandleTypeDef structure that contains
2348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *                the configuration information for the specified DMA module.
2349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
2350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMA_TxError(DMA_HandleTypeDef *hdma)
2352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = ( SD_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
2354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Transfer complete user callback */
2356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_DMA_TxErrorCallback(hsd->hdmatx);
2357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Returns the SD current state.
2361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD card current state
2363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_CardStateTypedef SD_GetState(SD_HandleTypeDef *hsd)
2365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t resp1 = 0U;
2367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (SD_SendStatus(hsd, &resp1) != SD_OK)
ARM GAS  /tmp/cceblRej.s 			page 43


2369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return SD_CARD_ERROR;
2371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
2373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return (HAL_SD_CardStateTypedef)((resp1 >> 9U) & 0x0FU);
2375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Initializes all cards or single card as the case may be Card(s) come 
2380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         into standby state.
2381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_Initialize_Cards(SD_HandleTypeDef *hsd)
2385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure; 
2387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint16_t sd_rca = 1U;
2389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(SDIO_GetPowerState(hsd->Instance) == 0U) /* Power off */
2391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_REQUEST_NOT_APPLICABLE;
2393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(hsd->CardType != SECURE_DIGITAL_IO_CARD)
2398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD2 ALL_SEND_CID */
2400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = 0U;
2401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_ALL_SEND_CID;
2402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_LONG;
2403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
2404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
2405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
2408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp2Error(hsd);
2409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != SD_OK)
2411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
2413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Get Card identification number data */
2416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CID[0U] = SDIO_GetResponse(SDIO_RESP1);
2417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CID[1U] = SDIO_GetResponse(SDIO_RESP2);
2418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CID[2U] = SDIO_GetResponse(SDIO_RESP3);
2419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CID[3U] = SDIO_GetResponse(SDIO_RESP4);
2420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((hsd->CardType == STD_CAPACITY_SD_CARD_V1_1)    || (hsd->CardType == STD_CAPACITY_SD_CARD_V2_0
2423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****      (hsd->CardType == SECURE_DIGITAL_IO_COMBO_CARD) || (hsd->CardType == HIGH_CAPACITY_SD_CARD))
2424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD3 SET_REL_ADDR with argument 0 */
ARM GAS  /tmp/cceblRej.s 			page 44


2426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* SD Card publishes its RCA. */
2427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_REL_ADDR;
2428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
2429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
2432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp6Error(hsd, SD_CMD_SET_REL_ADDR, &sd_rca);
2433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != SD_OK)
2435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
2437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (hsd->CardType != SECURE_DIGITAL_IO_CARD)
2441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Get the SD card RCA */
2443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->RCA = sd_rca;
2444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD9 SEND_CSD with argument as card's RCA */
2446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16U);
2447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_CSD;
2448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_LONG;
2449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
2452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp2Error(hsd);
2453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != SD_OK)
2455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
2457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Get Card Specific Data */
2460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CSD[0U] = SDIO_GetResponse(SDIO_RESP1);
2461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CSD[1U] = SDIO_GetResponse(SDIO_RESP2);
2462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CSD[2U] = SDIO_GetResponse(SDIO_RESP3);
2463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CSD[3U] = SDIO_GetResponse(SDIO_RESP4);
2464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* All cards are initialized */
2467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Selects of Deselects the corresponding card.
2472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  addr: Address of the card to be selected  
2474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_Select_Deselect(SD_HandleTypeDef *hsd, uint64_t addr)
2477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
2479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send CMD7 SDIO_SEL_DESEL_CARD */
2482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)addr;
ARM GAS  /tmp/cceblRej.s 			page 45


2483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEL_DESEL_CARD;
2484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
2485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
2486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
2487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
2490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SEL_DESEL_CARD);
2491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Enquires cards about their operating voltage and configures clock
2497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         controls and stores SD information that will be needed in future
2498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         in the SD handle.
2499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_PowerON(SD_HandleTypeDef *hsd)
2503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure; 
2505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __IO HAL_SD_ErrorTypedef errorstate = SD_OK; 
2506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t response = 0U, count = 0U, validvoltage = 0U;
2507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t sdtype = SD_STD_CAPACITY;
2508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Power ON Sequence -------------------------------------------------------*/
2510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Disable SDIO Clock */
2511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_DISABLE(); 
2512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set Power State to ON */
2514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_PowerState_ON(hsd->Instance);
2515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* 1ms: required power up waiting time before starting the SD initialization 
2517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****      sequence */
2518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_Delay(1);
2519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Enable SDIO Clock */
2521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_ENABLE();
2522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* CMD0: GO_IDLE_STATE -----------------------------------------------------*/
2524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* No CMD response required */
2525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 0U;
2526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_GO_IDLE_STATE;
2527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_NO;
2528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
2529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
2530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
2533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdError(hsd);
2534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
2536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* CMD Response Timeout (wait for CMDSENT flag) */
2538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  /tmp/cceblRej.s 			page 46


2540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* CMD8: SEND_IF_COND ------------------------------------------------------*/
2542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send CMD8 to verify SD card interface operating condition */
2543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Argument: - [31:12]: Reserved (shall be set to '0')
2544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   - [11:8]: Supply Voltage (VHS) 0x1 (Range: 2.7-3.6 V)
2545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   - [7:0]: Check Pattern (recommended 0xAA) */
2546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* CMD Response: R7 */
2547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = SD_CHECK_PATTERN;
2548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_SDIO_SEND_IF_COND;
2549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
2550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */ 
2553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp7Error(hsd);
2554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (errorstate == SD_OK)
2556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* SD Card 2.0 */
2558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CardType = STD_CAPACITY_SD_CARD_V2_0; 
2559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdtype        = SD_HIGH_CAPACITY;
2560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send CMD55 */
2563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 0U;
2564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
2565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
2568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_CMD);
2569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* If errorstate is Command Timeout, it is a MMC card */
2571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* If errorstate is SD_OK it is a SD card: SD card 2.0 (voltage range mismatch)
2572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****      or SD card 1.x */
2573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate == SD_OK)
2574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* SD CARD */
2576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send ACMD41 SD_APP_OP_COND with Argument 0x80100000 */
2577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while((!validvoltage) && (count < SD_MAX_VOLT_TRIAL))
2578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* SEND CMD55 APP_CMD with RCA as 0 */
2581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.Argument         = 0U;
2582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
2583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
2584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
2585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
2586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Check for error conditions */
2589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_CMD);
2590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(errorstate != SD_OK)
2592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
2593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return errorstate;
2594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
2595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Send CMD41 */
ARM GAS  /tmp/cceblRej.s 			page 47


2597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.Argument         = SD_VOLTAGE_WINDOW_SD | sdtype;
2598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_APP_OP_COND;
2599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
2600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
2601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
2602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Check for error conditions */
2605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_CmdResp3Error(hsd);
2606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(errorstate != SD_OK)
2608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
2609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return errorstate;
2610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
2611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Get command response */
2613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       response = SDIO_GetResponse(SDIO_RESP1);
2614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Get operating voltage*/
2616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       validvoltage = (((response >> 31U) == 1U) ? 1U : 0U);
2617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       count++;
2619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(count >= SD_MAX_VOLT_TRIAL)
2622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_INVALID_VOLTRANGE;
2624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
2625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
2626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if((response & SD_HIGH_CAPACITY) == SD_HIGH_CAPACITY) /* (response &= SD_HIGH_CAPACITY) */
2629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CardType = HIGH_CAPACITY_SD_CARD;
2631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   } /* else MMC Card */
2634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Turns the SDIO output signals off.
2640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_PowerOFF(SD_HandleTypeDef *hsd)
2644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set Power State to OFF */
2648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_PowerState_OFF(hsd->Instance);
2649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
ARM GAS  /tmp/cceblRej.s 			page 48


2654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Returns the current card's status.
2655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pCardStatus: pointer to the buffer that will contain the SD card 
2657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         status (Card Status register)  
2658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_SendStatus(SD_HandleTypeDef *hsd, uint32_t *pCardStatus)
2661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
2663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(pCardStatus == NULL)
2666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_INVALID_PARAMETER;
2668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send Status command */
2673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16U);
2674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_STATUS;
2675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
2676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
2677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
2678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
2679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
2681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SEND_STATUS);
2682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
2684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get SD card status */
2689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *pCardStatus = SDIO_GetResponse(SDIO_RESP1);
2690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Checks for error conditions for CMD0.
2696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdError(SD_HandleTypeDef *hsd)
2700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t timeout, tmp;
2703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   timeout = SDIO_CMD0TIMEOUT;
2705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = __HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CMDSENT);
2707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while((timeout > 0U) && (!tmp))
2709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = __HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CMDSENT);
ARM GAS  /tmp/cceblRej.s 			page 49


2711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
2712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(timeout == 0U)
2715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_RSP_TIMEOUT;
2717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
2721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
2722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Checks for error conditions for R7 response.
2728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp7Error(SD_HandleTypeDef *hsd)
2732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_ERROR;
2734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t timeout = SDIO_CMD0TIMEOUT, tmp;
2735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = __HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT); 
2737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while((!tmp) && (timeout > 0U))
2739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp = __HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT);
2741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
2742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = __HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CTIMEOUT); 
2745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((timeout == 0U) || tmp)
2747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Card is not V2.0 compliant or card does not support the set voltage range */
2749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_RSP_TIMEOUT;
2750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CTIMEOUT);
2752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CMDREND))
2757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Card is SD V2.0 compliant */
2759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_OK;
2760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CMDREND);
2762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
ARM GAS  /tmp/cceblRej.s 			page 50


2768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Checks for error conditions for R1 response.
2771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  SD_CMD: The sent command index  
2773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp1Error(SD_HandleTypeDef *hsd, uint8_t SD_CMD)
2776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t response_r1;
2779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT))
2781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CTIMEOUT))
2785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_RSP_TIMEOUT;
2787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CTIMEOUT);
2789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL))
2793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_CRC_FAIL;
2795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CCRCFAIL);
2797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check response received is of desired command */
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(SDIO_GetCommandResponse(hsd->Instance) != SD_CMD)
2803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_ILLEGAL_CMD;
2805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
2810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
2811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* We have received response, retrieve it for analysis  */
2813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   response_r1 = SDIO_GetResponse(SDIO_RESP1);
2814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_ERRORBITS) == SD_ALLZERO)
2816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_ADDR_OUT_OF_RANGE) == SD_OCR_ADDR_OUT_OF_RANGE)
2821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ADDR_OUT_OF_RANGE);
2823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
ARM GAS  /tmp/cceblRej.s 			page 51


2825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_ADDR_MISALIGNED) == SD_OCR_ADDR_MISALIGNED)
2826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ADDR_MISALIGNED);
2828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_BLOCK_LEN_ERR) == SD_OCR_BLOCK_LEN_ERR)
2831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_BLOCK_LEN_ERR);
2833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_ERASE_SEQ_ERR) == SD_OCR_ERASE_SEQ_ERR)
2836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ERASE_SEQ_ERR);
2838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_BAD_ERASE_PARAM) == SD_OCR_BAD_ERASE_PARAM)
2841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_BAD_ERASE_PARAM);
2843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_WRITE_PROT_VIOLATION) == SD_OCR_WRITE_PROT_VIOLATION)
2846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_WRITE_PROT_VIOLATION);
2848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_LOCK_UNLOCK_FAILED) == SD_OCR_LOCK_UNLOCK_FAILED)
2851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_LOCK_UNLOCK_FAILED);
2853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_COM_CRC_FAILED) == SD_OCR_COM_CRC_FAILED)
2856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_COM_CRC_FAILED);
2858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_ILLEGAL_CMD) == SD_OCR_ILLEGAL_CMD)
2861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ILLEGAL_CMD);
2863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_CARD_ECC_FAILED) == SD_OCR_CARD_ECC_FAILED)
2866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CARD_ECC_FAILED);
2868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_CC_ERROR) == SD_OCR_CC_ERROR)
2871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CC_ERROR);
2873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_GENERAL_UNKNOWN_ERROR) == SD_OCR_GENERAL_UNKNOWN_ERROR)
2876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_GENERAL_UNKNOWN_ERROR);
2878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_STREAM_READ_UNDERRUN) == SD_OCR_STREAM_READ_UNDERRUN)
2881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  /tmp/cceblRej.s 			page 52


2882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_STREAM_READ_UNDERRUN);
2883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_STREAM_WRITE_OVERRUN) == SD_OCR_STREAM_WRITE_OVERRUN)
2886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_STREAM_WRITE_OVERRUN);
2888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_CID_CSD_OVERWRITE) == SD_OCR_CID_CSD_OVERWRITE)
2891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CID_CSD_OVERWRITE);
2893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_WP_ERASE_SKIP) == SD_OCR_WP_ERASE_SKIP)
2896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_WP_ERASE_SKIP);
2898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_CARD_ECC_DISABLED) == SD_OCR_CARD_ECC_DISABLED)
2901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CARD_ECC_DISABLED);
2903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_ERASE_RESET) == SD_OCR_ERASE_RESET)
2906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ERASE_RESET);
2908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_OCR_AKE_SEQ_ERROR) == SD_OCR_AKE_SEQ_ERROR)
2911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_AKE_SEQ_ERROR);
2913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Checks for error conditions for R3 (OCR) response.
2920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp3Error(SD_HandleTypeDef *hsd)
2924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while (!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT))
2928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CTIMEOUT))
2932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_RSP_TIMEOUT;
2934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CTIMEOUT);
2936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  /tmp/cceblRej.s 			page 53


2939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
2941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
2942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Checks for error conditions for R2 (CID or CSD) response.
2948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp2Error(SD_HandleTypeDef *hsd)
2952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while (!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT))
2956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CTIMEOUT))
2960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_RSP_TIMEOUT;
2962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CTIMEOUT);
2964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL))
2968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_CRC_FAIL;
2970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CCRCFAIL);
2972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
2973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
2976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No error flag set */
2978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
2981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
2982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
2984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Checks for error conditions for R6 (RCA) response.
2988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
2989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  SD_CMD: The sent command index
2990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pRCA: Pointer to the variable that will contain the SD card relative 
2991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         address RCA   
2992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_CmdResp6Error(SD_HandleTypeDef *hsd, uint8_t SD_CMD, uint16_t *pRCA)
2995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
ARM GAS  /tmp/cceblRej.s 			page 54


2996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
2997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t response_r1;
2998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
2999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT))
3000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CTIMEOUT))
3004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_RSP_TIMEOUT;
3006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CTIMEOUT);
3008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL))
3012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_CRC_FAIL;
3014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CCRCFAIL);
3016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
3020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No error flag set */
3022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check response received is of desired command */
3025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(SDIO_GetCommandResponse(hsd->Instance) != SD_CMD)
3026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_ILLEGAL_CMD;
3028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
3033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
3034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* We have received response, retrieve it.  */
3036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   response_r1 = SDIO_GetResponse(SDIO_RESP1);
3037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & (SD_R6_GENERAL_UNKNOWN_ERROR | SD_R6_ILLEGAL_CMD | SD_R6_COM_CRC_FAILED)) == SD
3039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     *pRCA = (uint16_t) (response_r1 >> 16U);
3041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_R6_GENERAL_UNKNOWN_ERROR) == SD_R6_GENERAL_UNKNOWN_ERROR)
3046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_GENERAL_UNKNOWN_ERROR);
3048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_R6_ILLEGAL_CMD) == SD_R6_ILLEGAL_CMD)
3051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ILLEGAL_CMD);
ARM GAS  /tmp/cceblRej.s 			page 55


3053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response_r1 & SD_R6_COM_CRC_FAILED) == SD_R6_COM_CRC_FAILED)
3056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_COM_CRC_FAILED);
3058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
3061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
3062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
3064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Enables the SDIO wide bus mode.
3065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
3066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
3067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
3068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_WideBus_Enable(SD_HandleTypeDef *hsd)
3069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
3070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
3071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
3072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t scr[2U] = {0U, 0U};
3074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((SDIO_GetResponse(SDIO_RESP1) & SD_CARD_LOCKED) == SD_CARD_LOCKED)
3076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_LOCK_UNLOCK_FAILED;
3078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get SCR Register */
3083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, scr);
3084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
3086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* If requested card supports wide bus operation */
3091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((scr[1U] & SD_WIDE_BUS_SUPPORT) != SD_ALLZERO)
3092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD55 APP_CMD with argument as card's RCA.*/
3094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16U);
3095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
3096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
3097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
3098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
3099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
3100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
3102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_CMD);
3103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != SD_OK)
3105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
3106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
3107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
3108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send ACMD6 APP_CMD with argument as 2 for wide bus mode */
ARM GAS  /tmp/cceblRej.s 			page 56


3110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = 2U;
3111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_SD_SET_BUSWIDTH;
3112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
3113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
3115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_SD_SET_BUSWIDTH);
3116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != SD_OK)
3118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
3119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
3120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
3121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
3125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_REQUEST_NOT_APPLICABLE;
3127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }   
3131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
3133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Disables the SDIO wide bus mode.
3134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
3135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
3136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
3137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_WideBus_Disable(SD_HandleTypeDef *hsd)
3138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
3139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
3140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
3141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t scr[2U] = {0U, 0U};
3143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((SDIO_GetResponse(SDIO_RESP1) & SD_CARD_LOCKED) == SD_CARD_LOCKED)
3145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_LOCK_UNLOCK_FAILED;
3147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get SCR Register */
3152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, scr);
3153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
3155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* If requested card supports 1 bit mode operation */
3160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((scr[1U] & SD_SINGLE_BUS_SUPPORT) != SD_ALLZERO)
3161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD55 APP_CMD with argument as card's RCA */
3163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16U);
3164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
3165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
3166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
ARM GAS  /tmp/cceblRej.s 			page 57


3167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
3168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
3169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
3171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_CMD);
3172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != SD_OK)
3174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
3175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
3176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
3177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send ACMD6 APP_CMD with argument as 0 for single bus mode */
3179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Argument         = 0U;
3180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_SD_SET_BUSWIDTH;
3181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
3182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check for error conditions */
3184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_SD_SET_BUSWIDTH);
3185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != SD_OK)
3187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
3188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
3189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
3190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
3194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_REQUEST_NOT_APPLICABLE;
3196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
3200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
3203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Finds the SD card SCR register value.
3204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
3205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pSCR: pointer to the buffer that will contain the SCR value  
3206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
3207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
3208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_FindSCR(SD_HandleTypeDef *hsd, uint32_t *pSCR)
3209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
3210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef  sdio_cmdinitstructure;
3211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef sdio_datainitstructure;
3212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
3213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t index = 0U;
3214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tempscr[2U] = {0U, 0U};
3215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set Block Size To 8 Bytes */
3217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send CMD55 APP_CMD with argument as card's RCA */
3218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)8U;
3219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
3220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
3221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
3222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
3223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
ARM GAS  /tmp/cceblRej.s 			page 58


3224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
3226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SET_BLOCKLEN);
3227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
3229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send CMD55 APP_CMD with argument as card's RCA */
3234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)((hsd->RCA) << 16U);
3235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
3236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
3237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
3239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_APP_CMD);
3240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
3242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataTimeOut   = SD_DATATIMEOUT;
3246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = 8U;
3247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_8B;
3248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
3249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
3250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
3251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
3252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send ACMD51 SD_APP_SEND_SCR with argument as 0 */
3254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = 0U;
3255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_APP_SEND_SCR;
3256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
3257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for error conditions */
3259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_CmdResp1Error(hsd, SD_CMD_SD_APP_SEND_SCR);
3260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != SD_OK)
3262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR  
3266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | 
3267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
3268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | 
3269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
3270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXDAVL))
3272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
3273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       *(tempscr + index) = SDIO_ReadFIFO(hsd->Instance);
3274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       index++;
3275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
3276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT))
3279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DTIMEOUT);
ARM GAS  /tmp/cceblRej.s 			page 59


3281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_TIMEOUT;
3283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
3287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_DCRCFAIL);
3289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_DATA_CRC_FAIL;
3291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_RXOVERR))
3295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_RXOVERR);
3297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_RX_OVERRUN;
3299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef SDIO_STA_STBITERR
3303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_STBITERR))
3304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_STBITERR);
3306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_START_BIT_ERR;
3308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
3312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
3313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No error flag set */
3315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
3318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
3319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *(pSCR + 1U) = ((tempscr[0U] & SD_0TO7BITS) << 24U)  | ((tempscr[0U] & SD_8TO15BITS) << 8U) |\
3321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     ((tempscr[0U] & SD_16TO23BITS) >> 8U) | ((tempscr[0U] & SD_24TO31BITS) >> 24U);
3322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *(pSCR) = ((tempscr[1U] & SD_0TO7BITS) << 24U)  | ((tempscr[1U] & SD_8TO15BITS) << 8U) |\
3324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     ((tempscr[1U] & SD_16TO23BITS) >> 8U) | ((tempscr[1U] & SD_24TO31BITS) >> 24U);
3325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
3327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
3328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
3330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Checks if the SD card is in programming state.
3331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: SD handle
3332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pStatus: pointer to the variable that will contain the SD card state  
3333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
3334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
3335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static HAL_SD_ErrorTypedef SD_IsCardProgramming(SD_HandleTypeDef *hsd, uint8_t *pStatus)
3336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
  28              		.loc 1 3336 0
ARM GAS  /tmp/cceblRej.s 			page 60


  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 24
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              	.LVL0:
  33 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 20
  36              		.cfi_offset 4, -20
  37              		.cfi_offset 5, -16
  38              		.cfi_offset 6, -12
  39              		.cfi_offset 7, -8
  40              		.cfi_offset 14, -4
3337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
3338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
3339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __IO uint32_t responseR1 = 0U;
3340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Argument         = (uint32_t)(hsd->RCA << 16U);
  41              		.loc 1 3341 0
  42 0002 436A     		ldr	r3, [r0, #36]
3336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
  43              		.loc 1 3336 0
  44 0004 87B0     		sub	sp, sp, #28
  45              	.LCFI1:
  46              		.cfi_def_cfa_offset 48
3336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
  47              		.loc 1 3336 0
  48 0006 0446     		mov	r4, r0
3339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
  49              		.loc 1 3339 0
  50 0008 0022     		movs	r2, #0
  51              		.loc 1 3341 0
  52 000a 1B04     		lsls	r3, r3, #16
3342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_STATUS;
  53              		.loc 1 3342 0
  54 000c 4FF00D0E 		mov	lr, #13
3336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
  55              		.loc 1 3336 0
  56 0010 0D46     		mov	r5, r1
3343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
3344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
3345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
3346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
  57              		.loc 1 3346 0
  58 0012 0068     		ldr	r0, [r0]
  59              	.LVL1:
3341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_STATUS;
  60              		.loc 1 3341 0
  61 0014 0193     		str	r3, [sp, #4]
3343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
  62              		.loc 1 3343 0
  63 0016 4027     		movs	r7, #64
3345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
  64              		.loc 1 3345 0
  65 0018 4FF48066 		mov	r6, #1024
  66              		.loc 1 3346 0
  67 001c 01A9     		add	r1, sp, #4
  68              	.LVL2:
ARM GAS  /tmp/cceblRej.s 			page 61


3339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
  69              		.loc 1 3339 0
  70 001e 0092     		str	r2, [sp]
3344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
  71              		.loc 1 3344 0
  72 0020 0492     		str	r2, [sp, #16]
3342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
  73              		.loc 1 3342 0
  74 0022 CDF808E0 		str	lr, [sp, #8]
3343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
  75              		.loc 1 3343 0
  76 0026 0397     		str	r7, [sp, #12]
3345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
  77              		.loc 1 3345 0
  78 0028 0596     		str	r6, [sp, #20]
  79              		.loc 1 3346 0
  80 002a FFF7FEFF 		bl	SDIO_SendCommand
  81              	.LVL3:
  82 002e 2068     		ldr	r0, [r4]
  83              	.L2:
3347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL | SDIO_FLAG_CMDREND | SDIO_FLAG_CTIMEOUT))
  84              		.loc 1 3348 0 discriminator 1
  85 0030 436B     		ldr	r3, [r0, #52]
  86 0032 13F0450F 		tst	r3, #69
  87 0036 FBD0     		beq	.L2
3349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CTIMEOUT))
  88              		.loc 1 3352 0
  89 0038 436B     		ldr	r3, [r0, #52]
  90 003a 5E07     		lsls	r6, r3, #29
  91 003c 04D5     		bpl	.L3
  92              	.LVL4:
3353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_RSP_TIMEOUT;
3355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CTIMEOUT);
  93              		.loc 1 3356 0
  94 003e 0423     		movs	r3, #4
  95 0040 8363     		str	r3, [r0, #56]
3357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
  96              		.loc 1 3358 0
  97 0042 0320     		movs	r0, #3
  98              	.LVL5:
  99              	.L4:
3359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_SDIO_GET_FLAG(hsd, SDIO_FLAG_CCRCFAIL))
3361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_CMD_CRC_FAIL;
3363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_FLAG_CCRCFAIL);
3365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  /tmp/cceblRej.s 			page 62


3368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
3369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No error flag set */
3371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check response received is of desired command */
3374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((uint32_t)SDIO_GetCommandResponse(hsd->Instance) != SD_CMD_SEND_STATUS)
3375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SD_ILLEGAL_CMD;
3377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
3378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
3382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_SDIO_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
3383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* We have received response, retrieve it for analysis */
3386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   responseR1 = SDIO_GetResponse(SDIO_RESP1);
3387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Find out card status */
3389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *pStatus = (uint8_t)((responseR1 >> 9U) & 0x0000000FU);
3390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_ERRORBITS) == SD_ALLZERO)
3392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_ADDR_OUT_OF_RANGE) == SD_OCR_ADDR_OUT_OF_RANGE)
3397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ADDR_OUT_OF_RANGE);
3399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_ADDR_MISALIGNED) == SD_OCR_ADDR_MISALIGNED)
3402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ADDR_MISALIGNED);
3404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_BLOCK_LEN_ERR) == SD_OCR_BLOCK_LEN_ERR)
3407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_BLOCK_LEN_ERR);
3409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_ERASE_SEQ_ERR) == SD_OCR_ERASE_SEQ_ERR)
3412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ERASE_SEQ_ERR);
3414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_BAD_ERASE_PARAM) == SD_OCR_BAD_ERASE_PARAM)
3417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_BAD_ERASE_PARAM);
3419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_WRITE_PROT_VIOLATION) == SD_OCR_WRITE_PROT_VIOLATION)
3422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_WRITE_PROT_VIOLATION);
3424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  /tmp/cceblRej.s 			page 63


3425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_LOCK_UNLOCK_FAILED) == SD_OCR_LOCK_UNLOCK_FAILED)
3427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_LOCK_UNLOCK_FAILED);
3429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_COM_CRC_FAILED) == SD_OCR_COM_CRC_FAILED)
3432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_COM_CRC_FAILED);
3434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_ILLEGAL_CMD) == SD_OCR_ILLEGAL_CMD)
3437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ILLEGAL_CMD);
3439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_CARD_ECC_FAILED) == SD_OCR_CARD_ECC_FAILED)
3442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CARD_ECC_FAILED);
3444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_CC_ERROR) == SD_OCR_CC_ERROR)
3447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CC_ERROR);
3449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_GENERAL_UNKNOWN_ERROR) == SD_OCR_GENERAL_UNKNOWN_ERROR)
3452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_GENERAL_UNKNOWN_ERROR);
3454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_STREAM_READ_UNDERRUN) == SD_OCR_STREAM_READ_UNDERRUN)
3457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_STREAM_READ_UNDERRUN);
3459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_STREAM_WRITE_OVERRUN) == SD_OCR_STREAM_WRITE_OVERRUN)
3462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_STREAM_WRITE_OVERRUN);
3464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_CID_CSD_OVERWRITE) == SD_OCR_CID_CSD_OVERWRITE)
3467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CID_CSD_OVERWRITE);
3469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_WP_ERASE_SKIP) == SD_OCR_WP_ERASE_SKIP)
3472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_WP_ERASE_SKIP);
3474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_CARD_ECC_DISABLED) == SD_OCR_CARD_ECC_DISABLED)
3477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_CARD_ECC_DISABLED);
3479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_ERASE_RESET) == SD_OCR_ERASE_RESET)
ARM GAS  /tmp/cceblRej.s 			page 64


3482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_ERASE_RESET);
3484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((responseR1 & SD_OCR_AKE_SEQ_ERROR) == SD_OCR_AKE_SEQ_ERROR)
3487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return(SD_AKE_SEQ_ERROR);
3489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
3491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return errorstate;
3492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }   
 100              		.loc 1 3492 0
 101 0044 07B0     		add	sp, sp, #28
 102              	.LCFI2:
 103              		.cfi_remember_state
 104              		.cfi_def_cfa_offset 20
 105              		@ sp needed
 106 0046 F0BD     		pop	{r4, r5, r6, r7, pc}
 107              	.LVL6:
 108              	.L3:
 109              	.LCFI3:
 110              		.cfi_restore_state
3360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 111              		.loc 1 3360 0
 112 0048 466B     		ldr	r6, [r0, #52]
 113 004a 16F00106 		ands	r6, r6, #1
 114 004e 04D0     		beq	.L5
 115              	.LVL7:
3364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 116              		.loc 1 3364 0
 117 0050 0123     		movs	r3, #1
 118 0052 8363     		str	r3, [r0, #56]
3366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 119              		.loc 1 3366 0
 120 0054 1846     		mov	r0, r3
 121              		.loc 1 3492 0
 122 0056 07B0     		add	sp, sp, #28
 123              	.LCFI4:
 124              		.cfi_remember_state
 125              		.cfi_def_cfa_offset 20
 126              		@ sp needed
 127 0058 F0BD     		pop	{r4, r5, r6, r7, pc}
 128              	.LVL8:
 129              	.L5:
 130              	.LCFI5:
 131              		.cfi_restore_state
3374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 132              		.loc 1 3374 0
 133 005a FFF7FEFF 		bl	SDIO_GetCommandResponse
 134              	.LVL9:
 135 005e 0D28     		cmp	r0, #13
 136 0060 02D0     		beq	.L6
 137              	.LVL10:
 138              	.L7:
3378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 139              		.loc 1 3378 0
 140 0062 1020     		movs	r0, #16
ARM GAS  /tmp/cceblRej.s 			page 65


 141              		.loc 1 3492 0
 142 0064 07B0     		add	sp, sp, #28
 143              	.LCFI6:
 144              		.cfi_remember_state
 145              		.cfi_def_cfa_offset 20
 146              		@ sp needed
 147 0066 F0BD     		pop	{r4, r5, r6, r7, pc}
 148              	.LVL11:
 149              	.L6:
 150              	.LCFI7:
 151              		.cfi_restore_state
3382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 152              		.loc 1 3382 0
 153 0068 2368     		ldr	r3, [r4]
 154 006a 40F2FF52 		movw	r2, #1535
 155 006e 9A63     		str	r2, [r3, #56]
3386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 156              		.loc 1 3386 0
 157 0070 3046     		mov	r0, r6
 158 0072 FFF7FEFF 		bl	SDIO_GetResponse
 159              	.LVL12:
 160 0076 0090     		str	r0, [sp]
3389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 161              		.loc 1 3389 0
 162 0078 009B     		ldr	r3, [sp]
3391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 163              		.loc 1 3391 0
 164 007a 3348     		ldr	r0, .L47
 165 007c 009A     		ldr	r2, [sp]
3389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 166              		.loc 1 3389 0
 167 007e C3F34323 		ubfx	r3, r3, #9, #4
3391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 168              		.loc 1 3391 0
 169 0082 1040     		ands	r0, r0, r2
3389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 170              		.loc 1 3389 0
 171 0084 2B70     		strb	r3, [r5]
3391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 172              		.loc 1 3391 0
 173 0086 0028     		cmp	r0, #0
 174 0088 DCD0     		beq	.L4
3396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 175              		.loc 1 3396 0
 176 008a 009B     		ldr	r3, [sp]
 177 008c 002B     		cmp	r3, #0
 178 008e 04DB     		blt	.L9
3401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 179              		.loc 1 3401 0
 180 0090 009B     		ldr	r3, [sp]
 181 0092 5900     		lsls	r1, r3, #1
 182 0094 03D5     		bpl	.L31
3403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 183              		.loc 1 3403 0
 184 0096 0920     		movs	r0, #9
 185 0098 D4E7     		b	.L4
 186              	.L9:
ARM GAS  /tmp/cceblRej.s 			page 66


3398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 187              		.loc 1 3398 0
 188 009a 1C20     		movs	r0, #28
 189 009c D2E7     		b	.L4
 190              	.L31:
3406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 191              		.loc 1 3406 0
 192 009e 009B     		ldr	r3, [sp]
 193 00a0 9A00     		lsls	r2, r3, #2
 194 00a2 01D5     		bpl	.L32
3408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 195              		.loc 1 3408 0
 196 00a4 0A20     		movs	r0, #10
 197 00a6 CDE7     		b	.L4
 198              	.L32:
3411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 199              		.loc 1 3411 0
 200 00a8 009B     		ldr	r3, [sp]
 201 00aa DB00     		lsls	r3, r3, #3
 202 00ac 01D5     		bpl	.L33
3413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 203              		.loc 1 3413 0
 204 00ae 0B20     		movs	r0, #11
 205 00b0 C8E7     		b	.L4
 206              	.L33:
3416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 207              		.loc 1 3416 0
 208 00b2 009B     		ldr	r3, [sp]
 209 00b4 1F01     		lsls	r7, r3, #4
 210 00b6 01D5     		bpl	.L34
3418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 211              		.loc 1 3418 0
 212 00b8 0C20     		movs	r0, #12
 213 00ba C3E7     		b	.L4
 214              	.L34:
3421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 215              		.loc 1 3421 0
 216 00bc 009B     		ldr	r3, [sp]
 217 00be 5E01     		lsls	r6, r3, #5
 218 00c0 01D5     		bpl	.L35
3423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 219              		.loc 1 3423 0
 220 00c2 0D20     		movs	r0, #13
 221 00c4 BEE7     		b	.L4
 222              	.L35:
3426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 223              		.loc 1 3426 0
 224 00c6 009B     		ldr	r3, [sp]
 225 00c8 DD01     		lsls	r5, r3, #7
 226              	.LVL13:
 227 00ca 01D5     		bpl	.L36
3428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 228              		.loc 1 3428 0
 229 00cc 0E20     		movs	r0, #14
 230 00ce B9E7     		b	.L4
 231              	.L36:
3431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  /tmp/cceblRej.s 			page 67


 232              		.loc 1 3431 0
 233 00d0 009B     		ldr	r3, [sp]
 234 00d2 1C02     		lsls	r4, r3, #8
 235              	.LVL14:
 236 00d4 01D5     		bpl	.L37
3433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 237              		.loc 1 3433 0
 238 00d6 0F20     		movs	r0, #15
 239 00d8 B4E7     		b	.L4
 240              	.L37:
3436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 241              		.loc 1 3436 0
 242 00da 009B     		ldr	r3, [sp]
 243 00dc 5902     		lsls	r1, r3, #9
 244 00de C0D4     		bmi	.L7
3441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 245              		.loc 1 3441 0
 246 00e0 009B     		ldr	r3, [sp]
 247 00e2 9A02     		lsls	r2, r3, #10
 248 00e4 01D5     		bpl	.L38
3443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 249              		.loc 1 3443 0
 250 00e6 1120     		movs	r0, #17
 251 00e8 ACE7     		b	.L4
 252              	.L38:
3446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 253              		.loc 1 3446 0
 254 00ea 009B     		ldr	r3, [sp]
 255 00ec DB02     		lsls	r3, r3, #11
 256 00ee 01D5     		bpl	.L39
3448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 257              		.loc 1 3448 0
 258 00f0 1220     		movs	r0, #18
 259 00f2 A7E7     		b	.L4
 260              	.L39:
3451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 261              		.loc 1 3451 0
 262 00f4 009B     		ldr	r3, [sp]
 263 00f6 1F03     		lsls	r7, r3, #12
 264 00f8 01D5     		bpl	.L40
3453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 265              		.loc 1 3453 0
 266 00fa 1320     		movs	r0, #19
 267 00fc A2E7     		b	.L4
 268              	.L40:
3456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 269              		.loc 1 3456 0
 270 00fe 009B     		ldr	r3, [sp]
 271 0100 5E03     		lsls	r6, r3, #13
 272 0102 01D5     		bpl	.L41
3458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 273              		.loc 1 3458 0
 274 0104 1420     		movs	r0, #20
 275 0106 9DE7     		b	.L4
 276              	.L41:
3461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 277              		.loc 1 3461 0
ARM GAS  /tmp/cceblRej.s 			page 68


 278 0108 009B     		ldr	r3, [sp]
 279 010a 9D03     		lsls	r5, r3, #14
 280 010c 01D5     		bpl	.L42
3463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 281              		.loc 1 3463 0
 282 010e 1520     		movs	r0, #21
 283 0110 98E7     		b	.L4
 284              	.L42:
3466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 285              		.loc 1 3466 0
 286 0112 009B     		ldr	r3, [sp]
 287 0114 DC03     		lsls	r4, r3, #15
 288 0116 01D5     		bpl	.L43
3468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 289              		.loc 1 3468 0
 290 0118 1620     		movs	r0, #22
 291 011a 93E7     		b	.L4
 292              	.L43:
3471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 293              		.loc 1 3471 0
 294 011c 009B     		ldr	r3, [sp]
 295 011e 1904     		lsls	r1, r3, #16
 296 0120 01D5     		bpl	.L44
3473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 297              		.loc 1 3473 0
 298 0122 1720     		movs	r0, #23
 299 0124 8EE7     		b	.L4
 300              	.L44:
3476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 301              		.loc 1 3476 0
 302 0126 009B     		ldr	r3, [sp]
 303 0128 5A04     		lsls	r2, r3, #17
 304 012a 01D5     		bpl	.L45
3478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 305              		.loc 1 3478 0
 306 012c 1820     		movs	r0, #24
 307 012e 89E7     		b	.L4
 308              	.L45:
3481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 309              		.loc 1 3481 0
 310 0130 009B     		ldr	r3, [sp]
 311 0132 9B04     		lsls	r3, r3, #18
 312 0134 01D5     		bpl	.L46
3483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 313              		.loc 1 3483 0
 314 0136 1920     		movs	r0, #25
 315 0138 84E7     		b	.L4
 316              	.L46:
3486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 317              		.loc 1 3486 0
 318 013a 009B     		ldr	r3, [sp]
3488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 319              		.loc 1 3488 0
 320 013c 13F0080F 		tst	r3, #8
 321 0140 0CBF     		ite	eq
 322 0142 0020     		moveq	r0, #0
 323 0144 1A20     		movne	r0, #26
ARM GAS  /tmp/cceblRej.s 			page 69


 324 0146 7DE7     		b	.L4
 325              	.L48:
 326              		.align	2
 327              	.L47:
 328 0148 08E0FFFD 		.word	-33562616
 329              		.cfi_endproc
 330              	.LFE170:
 332              		.section	.text.SD_CmdResp1Error,"ax",%progbits
 333              		.align	1
 334              		.p2align 2,,3
 335              		.syntax unified
 336              		.thumb
 337              		.thumb_func
 338              		.fpu fpv4-sp-d16
 340              	SD_CmdResp1Error:
 341              	.LFB163:
2776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 342              		.loc 1 2776 0
 343              		.cfi_startproc
 344              		@ args = 0, pretend = 0, frame = 0
 345              		@ frame_needed = 0, uses_anonymous_args = 0
 346              	.LVL15:
 347 0000 0268     		ldr	r2, [r0]
 348              	.L50:
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 349              		.loc 1 2780 0 discriminator 1
 350 0002 536B     		ldr	r3, [r2, #52]
 351 0004 13F0450F 		tst	r3, #69
 352 0008 FBD0     		beq	.L50
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 353              		.loc 1 2784 0
 354 000a 536B     		ldr	r3, [r2, #52]
 355 000c 5B07     		lsls	r3, r3, #29
 356 000e 03D5     		bpl	.L51
 357              	.LVL16:
2788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 358              		.loc 1 2788 0
 359 0010 0423     		movs	r3, #4
 360 0012 9363     		str	r3, [r2, #56]
2790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 361              		.loc 1 2790 0
 362 0014 0320     		movs	r0, #3
 363              	.LVL17:
 364 0016 7047     		bx	lr
 365              	.LVL18:
 366              	.L51:
2776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 367              		.loc 1 2776 0
 368 0018 70B5     		push	{r4, r5, r6, lr}
 369              	.LCFI8:
 370              		.cfi_def_cfa_offset 16
 371              		.cfi_offset 4, -16
 372              		.cfi_offset 5, -12
 373              		.cfi_offset 6, -8
 374              		.cfi_offset 14, -4
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 375              		.loc 1 2792 0
ARM GAS  /tmp/cceblRej.s 			page 70


 376 001a 566B     		ldr	r6, [r2, #52]
 377 001c 16F00106 		ands	r6, r6, #1
 378 0020 02D0     		beq	.L53
 379              	.LVL19:
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 380              		.loc 1 2796 0
 381 0022 0120     		movs	r0, #1
 382              	.LVL20:
 383 0024 9063     		str	r0, [r2, #56]
2798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 384              		.loc 1 2798 0
 385 0026 70BD     		pop	{r4, r5, r6, pc}
 386              	.LVL21:
 387              	.L53:
 388 0028 0446     		mov	r4, r0
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 389              		.loc 1 2802 0
 390 002a 1046     		mov	r0, r2
 391              	.LVL22:
 392 002c 0D46     		mov	r5, r1
 393 002e FFF7FEFF 		bl	SDIO_GetCommandResponse
 394              	.LVL23:
 395 0032 A842     		cmp	r0, r5
 396 0034 01D0     		beq	.L54
 397              	.LVL24:
 398              	.L55:
2806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 399              		.loc 1 2806 0
 400 0036 1020     		movs	r0, #16
 401 0038 70BD     		pop	{r4, r5, r6, pc}
 402              	.LVL25:
 403              	.L54:
 404              	.LBB16:
 405              	.LBB17:
2810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 406              		.loc 1 2810 0
 407 003a 2368     		ldr	r3, [r4]
 408 003c 40F2FF52 		movw	r2, #1535
 409 0040 9A63     		str	r2, [r3, #56]
2813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 410              		.loc 1 2813 0
 411 0042 3046     		mov	r0, r6
 412 0044 FFF7FEFF 		bl	SDIO_GetResponse
 413              	.LVL26:
2815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 414              		.loc 1 2815 0
 415 0048 284B     		ldr	r3, .L96
 416 004a 0340     		ands	r3, r3, r0
 417 004c 2BB1     		cbz	r3, .L56
2820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 418              		.loc 1 2820 0
 419 004e 0028     		cmp	r0, #0
 420 0050 05DB     		blt	.L57
2825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 421              		.loc 1 2825 0
 422 0052 4500     		lsls	r5, r0, #1
 423              	.LVL27:
ARM GAS  /tmp/cceblRej.s 			page 71


 424 0054 05D5     		bpl	.L80
2827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 425              		.loc 1 2827 0
 426 0056 0920     		movs	r0, #9
 427              	.LVL28:
 428 0058 70BD     		pop	{r4, r5, r6, pc}
 429              	.LVL29:
 430              	.L56:
2915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 431              		.loc 1 2915 0
 432 005a 1846     		mov	r0, r3
 433              	.LVL30:
 434 005c 70BD     		pop	{r4, r5, r6, pc}
 435              	.LVL31:
 436              	.L57:
2822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 437              		.loc 1 2822 0
 438 005e 1C20     		movs	r0, #28
 439              	.LVL32:
 440 0060 70BD     		pop	{r4, r5, r6, pc}
 441              	.LVL33:
 442              	.L80:
2830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 443              		.loc 1 2830 0
 444 0062 8400     		lsls	r4, r0, #2
 445              	.LVL34:
 446 0064 01D5     		bpl	.L81
2832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 447              		.loc 1 2832 0
 448 0066 0A20     		movs	r0, #10
 449              	.LVL35:
 450 0068 70BD     		pop	{r4, r5, r6, pc}
 451              	.LVL36:
 452              	.L81:
2835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 453              		.loc 1 2835 0
 454 006a C100     		lsls	r1, r0, #3
 455 006c 01D5     		bpl	.L82
2837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 456              		.loc 1 2837 0
 457 006e 0B20     		movs	r0, #11
 458              	.LVL37:
 459 0070 70BD     		pop	{r4, r5, r6, pc}
 460              	.LVL38:
 461              	.L82:
2840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 462              		.loc 1 2840 0
 463 0072 0201     		lsls	r2, r0, #4
 464 0074 01D5     		bpl	.L83
2842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 465              		.loc 1 2842 0
 466 0076 0C20     		movs	r0, #12
 467              	.LVL39:
 468 0078 70BD     		pop	{r4, r5, r6, pc}
 469              	.LVL40:
 470              	.L83:
2845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  /tmp/cceblRej.s 			page 72


 471              		.loc 1 2845 0
 472 007a 4301     		lsls	r3, r0, #5
 473 007c 01D5     		bpl	.L84
2847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 474              		.loc 1 2847 0
 475 007e 0D20     		movs	r0, #13
 476              	.LVL41:
 477 0080 70BD     		pop	{r4, r5, r6, pc}
 478              	.LVL42:
 479              	.L84:
2850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 480              		.loc 1 2850 0
 481 0082 C601     		lsls	r6, r0, #7
 482 0084 01D5     		bpl	.L85
2852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 483              		.loc 1 2852 0
 484 0086 0E20     		movs	r0, #14
 485              	.LVL43:
 486 0088 70BD     		pop	{r4, r5, r6, pc}
 487              	.LVL44:
 488              	.L85:
2855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 489              		.loc 1 2855 0
 490 008a 0502     		lsls	r5, r0, #8
 491 008c 01D5     		bpl	.L86
2857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 492              		.loc 1 2857 0
 493 008e 0F20     		movs	r0, #15
 494              	.LVL45:
 495 0090 70BD     		pop	{r4, r5, r6, pc}
 496              	.LVL46:
 497              	.L86:
2860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 498              		.loc 1 2860 0
 499 0092 4402     		lsls	r4, r0, #9
 500 0094 CFD4     		bmi	.L55
2865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 501              		.loc 1 2865 0
 502 0096 8102     		lsls	r1, r0, #10
 503 0098 01D5     		bpl	.L87
2867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 504              		.loc 1 2867 0
 505 009a 1120     		movs	r0, #17
 506              	.LVL47:
 507 009c 70BD     		pop	{r4, r5, r6, pc}
 508              	.LVL48:
 509              	.L87:
2870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 510              		.loc 1 2870 0
 511 009e C202     		lsls	r2, r0, #11
 512 00a0 01D5     		bpl	.L88
2872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 513              		.loc 1 2872 0
 514 00a2 1220     		movs	r0, #18
 515              	.LVL49:
 516 00a4 70BD     		pop	{r4, r5, r6, pc}
 517              	.LVL50:
ARM GAS  /tmp/cceblRej.s 			page 73


 518              	.L88:
2875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 519              		.loc 1 2875 0
 520 00a6 0303     		lsls	r3, r0, #12
 521 00a8 01D5     		bpl	.L89
2877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 522              		.loc 1 2877 0
 523 00aa 1320     		movs	r0, #19
 524              	.LVL51:
 525 00ac 70BD     		pop	{r4, r5, r6, pc}
 526              	.LVL52:
 527              	.L89:
2880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 528              		.loc 1 2880 0
 529 00ae 4603     		lsls	r6, r0, #13
 530 00b0 01D5     		bpl	.L90
2882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 531              		.loc 1 2882 0
 532 00b2 1420     		movs	r0, #20
 533              	.LVL53:
 534 00b4 70BD     		pop	{r4, r5, r6, pc}
 535              	.LVL54:
 536              	.L90:
2885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 537              		.loc 1 2885 0
 538 00b6 8503     		lsls	r5, r0, #14
 539 00b8 01D5     		bpl	.L91
2887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 540              		.loc 1 2887 0
 541 00ba 1520     		movs	r0, #21
 542              	.LVL55:
 543 00bc 70BD     		pop	{r4, r5, r6, pc}
 544              	.LVL56:
 545              	.L91:
2890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 546              		.loc 1 2890 0
 547 00be C403     		lsls	r4, r0, #15
 548 00c0 01D5     		bpl	.L92
2892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 549              		.loc 1 2892 0
 550 00c2 1620     		movs	r0, #22
 551              	.LVL57:
 552 00c4 70BD     		pop	{r4, r5, r6, pc}
 553              	.LVL58:
 554              	.L92:
2895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 555              		.loc 1 2895 0
 556 00c6 0104     		lsls	r1, r0, #16
 557 00c8 01D5     		bpl	.L93
2897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 558              		.loc 1 2897 0
 559 00ca 1720     		movs	r0, #23
 560              	.LVL59:
 561 00cc 70BD     		pop	{r4, r5, r6, pc}
 562              	.LVL60:
 563              	.L93:
2900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  /tmp/cceblRej.s 			page 74


 564              		.loc 1 2900 0
 565 00ce 4204     		lsls	r2, r0, #17
 566 00d0 01D5     		bpl	.L94
2902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 567              		.loc 1 2902 0
 568 00d2 1820     		movs	r0, #24
 569              	.LVL61:
 570 00d4 70BD     		pop	{r4, r5, r6, pc}
 571              	.LVL62:
 572              	.L94:
2905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 573              		.loc 1 2905 0
 574 00d6 8304     		lsls	r3, r0, #18
 575 00d8 01D5     		bpl	.L95
2907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 576              		.loc 1 2907 0
 577 00da 1920     		movs	r0, #25
 578              	.LVL63:
 579              	.LBE17:
 580              	.LBE16:
2916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 581              		.loc 1 2916 0
 582 00dc 70BD     		pop	{r4, r5, r6, pc}
 583              	.LVL64:
 584              	.L95:
 585              	.LBB19:
 586              	.LBB18:
2912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 587              		.loc 1 2912 0
 588 00de 10F0080F 		tst	r0, #8
 589 00e2 0CBF     		ite	eq
 590 00e4 0020     		moveq	r0, #0
 591              	.LVL65:
 592 00e6 1A20     		movne	r0, #26
 593 00e8 70BD     		pop	{r4, r5, r6, pc}
 594              	.L97:
 595 00ea 00BF     		.align	2
 596              	.L96:
 597 00ec 08E0FFFD 		.word	-33562616
 598              	.LBE18:
 599              	.LBE19:
 600              		.cfi_endproc
 601              	.LFE163:
 603              		.section	.text.SD_FindSCR,"ax",%progbits
 604              		.align	1
 605              		.p2align 2,,3
 606              		.syntax unified
 607              		.thumb
 608              		.thumb_func
 609              		.fpu fpv4-sp-d16
 611              	SD_FindSCR:
 612              	.LFB169:
3209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef  sdio_cmdinitstructure;
 613              		.loc 1 3209 0
 614              		.cfi_startproc
 615              		@ args = 0, pretend = 0, frame = 56
 616              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/cceblRej.s 			page 75


 617              	.LVL66:
 618 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 619              	.LCFI9:
 620              		.cfi_def_cfa_offset 24
 621              		.cfi_offset 4, -24
 622              		.cfi_offset 5, -20
 623              		.cfi_offset 6, -16
 624              		.cfi_offset 7, -12
 625              		.cfi_offset 8, -8
 626              		.cfi_offset 14, -4
 627 0004 8EB0     		sub	sp, sp, #56
 628              	.LCFI10:
 629              		.cfi_def_cfa_offset 80
3214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 630              		.loc 1 3214 0
 631 0006 0023     		movs	r3, #0
3219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 632              		.loc 1 3219 0
 633 0008 1025     		movs	r5, #16
3220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 634              		.loc 1 3220 0
 635 000a 4022     		movs	r2, #64
3209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef  sdio_cmdinitstructure;
 636              		.loc 1 3209 0
 637 000c 0446     		mov	r4, r0
3214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 638              		.loc 1 3214 0
 639 000e 0193     		str	r3, [sp, #4]
 640 0010 0293     		str	r3, [sp, #8]
3221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 641              		.loc 1 3221 0
 642 0012 0693     		str	r3, [sp, #24]
3209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef  sdio_cmdinitstructure;
 643              		.loc 1 3209 0
 644 0014 0E46     		mov	r6, r1
3222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 645              		.loc 1 3222 0
 646 0016 4FF48063 		mov	r3, #1024
3223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 647              		.loc 1 3223 0
 648 001a 03A9     		add	r1, sp, #12
 649              	.LVL67:
 650 001c 0068     		ldr	r0, [r0]
 651              	.LVL68:
3219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 652              		.loc 1 3219 0
 653 001e 0495     		str	r5, [sp, #16]
3218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 654              		.loc 1 3218 0
 655 0020 0827     		movs	r7, #8
3220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 656              		.loc 1 3220 0
 657 0022 0592     		str	r2, [sp, #20]
3222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 658              		.loc 1 3222 0
 659 0024 0793     		str	r3, [sp, #28]
3218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
ARM GAS  /tmp/cceblRej.s 			page 76


 660              		.loc 1 3218 0
 661 0026 0397     		str	r7, [sp, #12]
3223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 662              		.loc 1 3223 0
 663 0028 FFF7FEFF 		bl	SDIO_SendCommand
 664              	.LVL69:
3226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 665              		.loc 1 3226 0
 666 002c 2946     		mov	r1, r5
 667 002e 2046     		mov	r0, r4
 668 0030 FFF7FEFF 		bl	SD_CmdResp1Error
 669              	.LVL70:
3228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 670              		.loc 1 3228 0
 671 0034 0546     		mov	r5, r0
 672 0036 18B1     		cbz	r0, .L110
 673              	.LVL71:
 674              	.L99:
3327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 675              		.loc 1 3327 0
 676 0038 2846     		mov	r0, r5
 677 003a 0EB0     		add	sp, sp, #56
 678              	.LCFI11:
 679              		.cfi_remember_state
 680              		.cfi_def_cfa_offset 24
 681              		@ sp needed
 682 003c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 683              	.LVL72:
 684              	.L110:
 685              	.LCFI12:
 686              		.cfi_restore_state
3234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 687              		.loc 1 3234 0
 688 0040 636A     		ldr	r3, [r4, #36]
3236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 689              		.loc 1 3236 0
 690 0042 2068     		ldr	r0, [r4]
 691              	.LVL73:
3234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 692              		.loc 1 3234 0
 693 0044 1B04     		lsls	r3, r3, #16
3235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 694              		.loc 1 3235 0
 695 0046 3725     		movs	r5, #55
3236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 696              		.loc 1 3236 0
 697 0048 03A9     		add	r1, sp, #12
3234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 698              		.loc 1 3234 0
 699 004a 0393     		str	r3, [sp, #12]
3235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 700              		.loc 1 3235 0
 701 004c 0495     		str	r5, [sp, #16]
3236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 702              		.loc 1 3236 0
 703 004e FFF7FEFF 		bl	SDIO_SendCommand
 704              	.LVL74:
ARM GAS  /tmp/cceblRej.s 			page 77


3239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 705              		.loc 1 3239 0
 706 0052 2946     		mov	r1, r5
 707 0054 2046     		mov	r0, r4
 708 0056 FFF7FEFF 		bl	SD_CmdResp1Error
 709              	.LVL75:
3241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 710              		.loc 1 3241 0
 711 005a 0546     		mov	r5, r0
 712 005c 0028     		cmp	r0, #0
 713 005e EBD1     		bne	.L99
3245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = 8U;
 714              		.loc 1 3245 0
 715 0060 4FF0FF31 		mov	r1, #-1
3247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 716              		.loc 1 3247 0
 717 0064 3020     		movs	r0, #48
 718              	.LVL76:
3248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 719              		.loc 1 3248 0
 720 0066 0222     		movs	r2, #2
3250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 721              		.loc 1 3250 0
 722 0068 0123     		movs	r3, #1
3245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = 8U;
 723              		.loc 1 3245 0
 724 006a 0891     		str	r1, [sp, #32]
3247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 725              		.loc 1 3247 0
 726 006c 0A90     		str	r0, [sp, #40]
3251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 727              		.loc 1 3251 0
 728 006e 08A9     		add	r1, sp, #32
 729 0070 2068     		ldr	r0, [r4]
3248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 730              		.loc 1 3248 0
 731 0072 0B92     		str	r2, [sp, #44]
3250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 732              		.loc 1 3250 0
 733 0074 0D93     		str	r3, [sp, #52]
3246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_8B;
 734              		.loc 1 3246 0
 735 0076 0997     		str	r7, [sp, #36]
3249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 736              		.loc 1 3249 0
 737 0078 0C95     		str	r5, [sp, #48]
3255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 738              		.loc 1 3255 0
 739 007a 3327     		movs	r7, #51
3251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 740              		.loc 1 3251 0
 741 007c FFF7FEFF 		bl	SDIO_DataConfig
 742              	.LVL77:
3256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 743              		.loc 1 3256 0
 744 0080 03A9     		add	r1, sp, #12
 745 0082 2068     		ldr	r0, [r4]
ARM GAS  /tmp/cceblRej.s 			page 78


3254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_APP_SEND_SCR;
 746              		.loc 1 3254 0
 747 0084 0395     		str	r5, [sp, #12]
3255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 748              		.loc 1 3255 0
 749 0086 0497     		str	r7, [sp, #16]
3256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 750              		.loc 1 3256 0
 751 0088 FFF7FEFF 		bl	SDIO_SendCommand
 752              	.LVL78:
3259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 753              		.loc 1 3259 0
 754 008c 3946     		mov	r1, r7
 755 008e 2046     		mov	r0, r4
 756 0090 FFF7FEFF 		bl	SD_CmdResp1Error
 757              	.LVL79:
3261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 758              		.loc 1 3261 0
 759 0094 0546     		mov	r5, r0
 760 0096 0028     		cmp	r0, #0
 761 0098 CED1     		bne	.L99
 762 009a 0DF10408 		add	r8, sp, #4
3266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 763              		.loc 1 3266 0
 764 009e 40F22A67 		movw	r7, #1578
 765              	.LVL80:
 766              	.L100:
 767 00a2 2068     		ldr	r0, [r4]
 768 00a4 01E0     		b	.L101
 769              	.L102:
3271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 770              		.loc 1 3271 0
 771 00a6 9B02     		lsls	r3, r3, #10
 772 00a8 09D4     		bmi	.L111
 773              	.L101:
3266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 774              		.loc 1 3266 0
 775 00aa 436B     		ldr	r3, [r0, #52]
 776 00ac 3B42     		tst	r3, r7
3271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 777              		.loc 1 3271 0
 778 00ae 436B     		ldr	r3, [r0, #52]
3266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 779              		.loc 1 3266 0
 780 00b0 F9D0     		beq	.L102
3278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 781              		.loc 1 3278 0
 782 00b2 1C07     		lsls	r4, r3, #28
 783              	.LVL81:
 784 00b4 08D5     		bpl	.L103
3280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 785              		.loc 1 3280 0
 786 00b6 0823     		movs	r3, #8
 787 00b8 8363     		str	r3, [r0, #56]
 788              	.LVL82:
3284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 789              		.loc 1 3284 0
ARM GAS  /tmp/cceblRej.s 			page 79


 790 00ba 0425     		movs	r5, #4
 791 00bc BCE7     		b	.L99
 792              	.LVL83:
 793              	.L111:
3273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       index++;
 794              		.loc 1 3273 0
 795 00be FFF7FEFF 		bl	SDIO_ReadFIFO
 796              	.LVL84:
 797 00c2 48F8040B 		str	r0, [r8], #4
 798 00c6 ECE7     		b	.L100
 799              	.LVL85:
 800              	.L103:
3286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 801              		.loc 1 3286 0
 802 00c8 436B     		ldr	r3, [r0, #52]
 803 00ca 9907     		lsls	r1, r3, #30
 804 00cc 02D5     		bpl	.L104
3288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 805              		.loc 1 3288 0
 806 00ce 0225     		movs	r5, #2
 807 00d0 8563     		str	r5, [r0, #56]
 808              	.LVL86:
3292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 809              		.loc 1 3292 0
 810 00d2 B1E7     		b	.L99
 811              	.LVL87:
 812              	.L104:
3294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 813              		.loc 1 3294 0
 814 00d4 436B     		ldr	r3, [r0, #52]
 815 00d6 9A06     		lsls	r2, r3, #26
 816 00d8 03D5     		bpl	.L105
3296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 817              		.loc 1 3296 0
 818 00da 2023     		movs	r3, #32
 819 00dc 8363     		str	r3, [r0, #56]
 820              	.LVL88:
3300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 821              		.loc 1 3300 0
 822 00de 0625     		movs	r5, #6
 823 00e0 AAE7     		b	.L99
 824              	.LVL89:
 825              	.L105:
3303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 826              		.loc 1 3303 0
 827 00e2 436B     		ldr	r3, [r0, #52]
 828 00e4 9B05     		lsls	r3, r3, #22
 829 00e6 04D5     		bpl	.L106
3305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 830              		.loc 1 3305 0
 831 00e8 4FF40073 		mov	r3, #512
 832 00ec 8363     		str	r3, [r0, #56]
 833              	.LVL90:
3309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 834              		.loc 1 3309 0
 835 00ee 0725     		movs	r5, #7
 836 00f0 A2E7     		b	.L99
ARM GAS  /tmp/cceblRej.s 			page 80


 837              	.LVL91:
 838              	.L106:
 839 00f2 019A     		ldr	r2, [sp, #4]
 840 00f4 029B     		ldr	r3, [sp, #8]
 841 00f6 12BA     		rev	r2, r2
3318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 842              		.loc 1 3318 0
 843 00f8 40F2FF51 		movw	r1, #1535
 844 00fc 1BBA     		rev	r3, r3
 845 00fe 8163     		str	r1, [r0, #56]
3320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     ((tempscr[0U] & SD_16TO23BITS) >> 8U) | ((tempscr[0U] & SD_24TO31BITS) >> 24U);
 846              		.loc 1 3320 0
 847 0100 7260     		str	r2, [r6, #4]
3323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     ((tempscr[1U] & SD_16TO23BITS) >> 8U) | ((tempscr[1U] & SD_24TO31BITS) >> 24U);
 848              		.loc 1 3323 0
 849 0102 3360     		str	r3, [r6]
3326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 850              		.loc 1 3326 0
 851 0104 98E7     		b	.L99
 852              		.cfi_endproc
 853              	.LFE169:
 855 0106 00BF     		.section	.text.HAL_SD_MspInit,"ax",%progbits
 856              		.align	1
 857              		.p2align 2,,3
 858              		.weak	HAL_SD_MspInit
 859              		.syntax unified
 860              		.thumb
 861              		.thumb_func
 862              		.fpu fpv4-sp-d16
 864              	HAL_SD_MspInit:
 865              	.LFB186:
 866              		.cfi_startproc
 867              		@ args = 0, pretend = 0, frame = 0
 868              		@ frame_needed = 0, uses_anonymous_args = 0
 869              		@ link register save eliminated.
 870 0000 7047     		bx	lr
 871              		.cfi_endproc
 872              	.LFE186:
 874 0002 00BF     		.section	.text.HAL_SD_MspDeInit,"ax",%progbits
 875              		.align	1
 876              		.p2align 2,,3
 877              		.weak	HAL_SD_MspDeInit
 878              		.syntax unified
 879              		.thumb
 880              		.thumb_func
 881              		.fpu fpv4-sp-d16
 883              	HAL_SD_MspDeInit:
 884              	.LFB184:
 885              		.cfi_startproc
 886              		@ args = 0, pretend = 0, frame = 0
 887              		@ frame_needed = 0, uses_anonymous_args = 0
 888              		@ link register save eliminated.
 889 0000 7047     		bx	lr
 890              		.cfi_endproc
 891              	.LFE184:
 893 0002 00BF     		.section	.text.HAL_SD_DeInit,"ax",%progbits
 894              		.align	1
ARM GAS  /tmp/cceblRej.s 			page 81


 895              		.p2align 2,,3
 896              		.global	HAL_SD_DeInit
 897              		.syntax unified
 898              		.thumb
 899              		.thumb_func
 900              		.fpu fpv4-sp-d16
 902              	HAL_SD_DeInit:
 903              	.LFB127:
 400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 904              		.loc 1 400 0
 905              		.cfi_startproc
 906              		@ args = 0, pretend = 0, frame = 0
 907              		@ frame_needed = 0, uses_anonymous_args = 0
 908              	.LVL92:
 400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 909              		.loc 1 400 0
 910 0000 10B5     		push	{r4, lr}
 911              	.LCFI13:
 912              		.cfi_def_cfa_offset 8
 913              		.cfi_offset 4, -8
 914              		.cfi_offset 14, -4
 400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 915              		.loc 1 400 0
 916 0002 0446     		mov	r4, r0
 917              	.LVL93:
 918              	.LBB20:
 919              	.LBB21:
2648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 920              		.loc 1 2648 0
 921 0004 0068     		ldr	r0, [r0]
 922              	.LVL94:
 923 0006 FFF7FEFF 		bl	SDIO_PowerState_OFF
 924              	.LVL95:
 925              	.LBE21:
 926              	.LBE20:
 406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 927              		.loc 1 406 0
 928 000a 2046     		mov	r0, r4
 929 000c FFF7FEFF 		bl	HAL_SD_MspDeInit
 930              	.LVL96:
 409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 931              		.loc 1 409 0
 932 0010 0020     		movs	r0, #0
 933 0012 10BD     		pop	{r4, pc}
 934              		.cfi_endproc
 935              	.LFE127:
 937              		.section	.text.HAL_SD_ReadBlocks_DMA,"ax",%progbits
 938              		.align	1
 939              		.p2align 2,,3
 940              		.global	HAL_SD_ReadBlocks_DMA
 941              		.syntax unified
 942              		.thumb
 943              		.thumb_func
 944              		.fpu fpv4-sp-d16
 946              	HAL_SD_ReadBlocks_DMA:
 947              	.LFB132:
 893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
ARM GAS  /tmp/cceblRej.s 			page 82


 948              		.loc 1 893 0
 949              		.cfi_startproc
 950              		@ args = 8, pretend = 0, frame = 48
 951              		@ frame_needed = 0, uses_anonymous_args = 0
 952              	.LVL97:
 953 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 954              	.LCFI14:
 955              		.cfi_def_cfa_offset 24
 956              		.cfi_offset 4, -24
 957              		.cfi_offset 5, -20
 958              		.cfi_offset 6, -16
 959              		.cfi_offset 7, -12
 960              		.cfi_offset 8, -8
 961              		.cfi_offset 14, -4
 962 0004 8CB0     		sub	sp, sp, #48
 963              	.LCFI15:
 964              		.cfi_def_cfa_offset 72
 899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 965              		.loc 1 899 0
 966 0006 D0F800E0 		ldr	lr, [r0]
 893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 967              		.loc 1 893 0
 968 000a 139E     		ldr	r6, [sp, #76]
 931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 969              		.loc 1 931 0
 970 000c DFF8E0C0 		ldr	ip, .L126+4
 893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 971              		.loc 1 893 0
 972 0010 129D     		ldr	r5, [sp, #72]
 973 0012 0446     		mov	r4, r0
 907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 974              		.loc 1 907 0
 975 0014 012E     		cmp	r6, #1
 899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 976              		.loc 1 899 0
 977 0016 4FF00000 		mov	r0, #0
 978              	.LVL98:
 893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 979              		.loc 1 893 0
 980 001a 9846     		mov	r8, r3
 909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 981              		.loc 1 909 0
 982 001c 88BF     		it	hi
 983 001e 0123     		movhi	r3, #1
 899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 984              		.loc 1 899 0
 985 0020 CEF82C00 		str	r0, [lr, #44]
 902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->DmaTransferCplt = 0U;
 986              		.loc 1 902 0
 987 0024 A064     		str	r0, [r4, #72]
 903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferErr   = SD_OK; 
 988              		.loc 1 903 0
 989 0026 2065     		str	r0, [r4, #80]
 904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 990              		.loc 1 904 0
 991 0028 E064     		str	r0, [r4, #76]
 913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  /tmp/cceblRej.s 			page 83


 992              		.loc 1 913 0
 993 002a 94BF     		ite	ls
 994 002c 6065     		strls	r0, [r4, #84]
 909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 995              		.loc 1 909 0
 996 002e 6365     		strhi	r3, [r4, #84]
 918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DTIMEOUT |\
 997              		.loc 1 918 0
 998 0030 DEF83C30 		ldr	r3, [lr, #60]
 934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->hdmarx->XferErrorCallback = SD_DMA_RxError;
 999              		.loc 1 934 0
 1000 0034 A06D     		ldr	r0, [r4, #88]
 918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DTIMEOUT |\
 1001              		.loc 1 918 0
 1002 0036 43F44A73 		orr	r3, r3, #808
 1003 003a 43F00203 		orr	r3, r3, #2
 1004 003e CEF83C30 		str	r3, [lr, #60]
 931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1005              		.loc 1 931 0
 1006 0042 0123     		movs	r3, #1
 1007 0044 CCF80030 		str	r3, [ip]
 1008              	.LVL99:
 934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->hdmarx->XferErrorCallback = SD_DMA_RxError;
 1009              		.loc 1 934 0
 1010 0048 284B     		ldr	r3, .L126
 1011 004a C363     		str	r3, [r0, #60]
 893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 1012              		.loc 1 893 0
 1013 004c 1746     		mov	r7, r2
 1014              	.LVL100:
 938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1015              		.loc 1 938 0
 1016 004e 05FB06F3 		mul	r3, r5, r6
 1017 0052 0A46     		mov	r2, r1
 1018              	.LVL101:
 1019 0054 0EF18001 		add	r1, lr, #128
 1020              	.LVL102:
 935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1021              		.loc 1 935 0
 1022 0058 DFF898E0 		ldr	lr, .L126+8
 1023 005c C0F84CE0 		str	lr, [r0, #76]
 938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1024              		.loc 1 938 0
 1025 0060 9B08     		lsrs	r3, r3, #2
 1026 0062 FFF7FEFF 		bl	HAL_DMA_Start_IT
 1027              	.LVL103:
 940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1028              		.loc 1 940 0
 1029 0066 236A     		ldr	r3, [r4, #32]
 1030 0068 022B     		cmp	r3, #2
 1031 006a 39D0     		beq	.L125
 1032              	.LVL104:
 1033              	.L119:
 949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 1034              		.loc 1 949 0
 1035 006c 4023     		movs	r3, #64
 952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
ARM GAS  /tmp/cceblRej.s 			page 84


 1036              		.loc 1 952 0
 1037 006e 01A9     		add	r1, sp, #4
 948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 1038              		.loc 1 948 0
 1039 0070 4FF01008 		mov	r8, #16
 950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 1040              		.loc 1 950 0
 1041 0074 0022     		movs	r2, #0
 949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 1042              		.loc 1 949 0
 1043 0076 0393     		str	r3, [sp, #12]
 952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1044              		.loc 1 952 0
 1045 0078 2068     		ldr	r0, [r4]
 947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 1046              		.loc 1 947 0
 1047 007a 0195     		str	r5, [sp, #4]
 951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1048              		.loc 1 951 0
 1049 007c 4FF48063 		mov	r3, #1024
 948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 1050              		.loc 1 948 0
 1051 0080 CDF80880 		str	r8, [sp, #8]
 950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 1052              		.loc 1 950 0
 1053 0084 0492     		str	r2, [sp, #16]
 951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1054              		.loc 1 951 0
 1055 0086 0593     		str	r3, [sp, #20]
 952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1056              		.loc 1 952 0
 1057 0088 FFF7FEFF 		bl	SDIO_SendCommand
 1058              	.LVL105:
 955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1059              		.loc 1 955 0
 1060 008c 4146     		mov	r1, r8
 1061 008e 2046     		mov	r0, r4
 1062 0090 FFF7FEFF 		bl	SD_CmdResp1Error
 1063              	.LVL106:
 957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1064              		.loc 1 957 0
 1065 0094 08BB     		cbnz	r0, .L120
 963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = BlockSize * NumberOfBlocks;
 1066              		.loc 1 963 0
 1067 0096 4FF0FF31 		mov	r1, #-1
 964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 1068              		.loc 1 964 0
 1069 009a 06FB05F5 		mul	r5, r6, r5
 1070              	.LVL107:
 965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 1071              		.loc 1 965 0
 1072 009e 4FF0900E 		mov	lr, #144
 966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 1073              		.loc 1 966 0
 1074 00a2 0222     		movs	r2, #2
 968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 1075              		.loc 1 968 0
ARM GAS  /tmp/cceblRej.s 			page 85


 1076 00a4 0123     		movs	r3, #1
 967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 1077              		.loc 1 967 0
 1078 00a6 0A90     		str	r0, [sp, #40]
 963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = BlockSize * NumberOfBlocks;
 1079              		.loc 1 963 0
 1080 00a8 0691     		str	r1, [sp, #24]
 969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1081              		.loc 1 969 0
 1082 00aa 2068     		ldr	r0, [r4]
 1083              	.LVL108:
 964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 1084              		.loc 1 964 0
 1085 00ac 0795     		str	r5, [sp, #28]
 969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1086              		.loc 1 969 0
 1087 00ae 06A9     		add	r1, sp, #24
 965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 1088              		.loc 1 965 0
 1089 00b0 CDF820E0 		str	lr, [sp, #32]
 966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 1090              		.loc 1 966 0
 1091 00b4 0992     		str	r2, [sp, #36]
 968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 1092              		.loc 1 968 0
 1093 00b6 0B93     		str	r3, [sp, #44]
 969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1094              		.loc 1 969 0
 1095 00b8 FFF7FEFF 		bl	SDIO_DataConfig
 1096              	.LVL109:
 972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1097              		.loc 1 972 0
 1098 00bc 012E     		cmp	r6, #1
 975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1099              		.loc 1 975 0
 1100 00be 8CBF     		ite	hi
 1101 00c0 1225     		movhi	r5, #18
 980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1102              		.loc 1 980 0
 1103 00c2 1125     		movls	r5, #17
 984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1104              		.loc 1 984 0
 1105 00c4 01A9     		add	r1, sp, #4
 1106 00c6 2068     		ldr	r0, [r4]
 983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1107              		.loc 1 983 0
 1108 00c8 0197     		str	r7, [sp, #4]
 980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1109              		.loc 1 980 0
 1110 00ca 0295     		str	r5, [sp, #8]
 984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1111              		.loc 1 984 0
 1112 00cc FFF7FEFF 		bl	SDIO_SendCommand
 1113              	.LVL110:
 993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1114              		.loc 1 993 0
 1115 00d0 2946     		mov	r1, r5
ARM GAS  /tmp/cceblRej.s 			page 86


 1116 00d2 2046     		mov	r0, r4
 1117 00d4 FFF7FEFF 		bl	SD_CmdResp1Error
 1118              	.LVL111:
 997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1119              		.loc 1 997 0
 1120 00d8 E064     		str	r0, [r4, #76]
 1121              	.L120:
1000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1122              		.loc 1 1000 0
 1123 00da 0CB0     		add	sp, sp, #48
 1124              	.LCFI16:
 1125              		.cfi_remember_state
 1126              		.cfi_def_cfa_offset 24
 1127              		@ sp needed
 1128 00dc BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1129              	.LVL112:
 1130              	.L125:
 1131              	.LCFI17:
 1132              		.cfi_restore_state
 943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1133              		.loc 1 943 0
 1134 00e0 7F0A     		lsrs	r7, r7, #9
 1135 00e2 47EAC857 		orr	r7, r7, r8, lsl #23
 1136              	.LVL113:
 942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     ReadAddr /= 512U;
 1137              		.loc 1 942 0
 1138 00e6 4FF40075 		mov	r5, #512
 1139 00ea BFE7     		b	.L119
 1140              	.L127:
 1141              		.align	2
 1142              	.L126:
 1143 00ec 00000000 		.word	SD_DMA_RxCplt
 1144 00f0 8C852542 		.word	1109755276
 1145 00f4 00000000 		.word	SD_DMA_RxError
 1146              		.cfi_endproc
 1147              	.LFE132:
 1149              		.section	.text.HAL_SD_WriteBlocks_DMA,"ax",%progbits
 1150              		.align	1
 1151              		.p2align 2,,3
 1152              		.global	HAL_SD_WriteBlocks_DMA
 1153              		.syntax unified
 1154              		.thumb
 1155              		.thumb_func
 1156              		.fpu fpv4-sp-d16
 1158              	HAL_SD_WriteBlocks_DMA:
 1159              	.LFB133:
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 1160              		.loc 1 1017 0
 1161              		.cfi_startproc
 1162              		@ args = 8, pretend = 0, frame = 48
 1163              		@ frame_needed = 0, uses_anonymous_args = 0
 1164              	.LVL114:
 1165 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1166              	.LCFI18:
 1167              		.cfi_def_cfa_offset 28
 1168              		.cfi_offset 4, -28
 1169              		.cfi_offset 5, -24
ARM GAS  /tmp/cceblRej.s 			page 87


 1170              		.cfi_offset 6, -20
 1171              		.cfi_offset 7, -16
 1172              		.cfi_offset 8, -12
 1173              		.cfi_offset 9, -8
 1174              		.cfi_offset 14, -4
 1175 0004 8DB0     		sub	sp, sp, #52
 1176              	.LCFI19:
 1177              		.cfi_def_cfa_offset 80
1023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1178              		.loc 1 1023 0
 1179 0006 0568     		ldr	r5, [r0]
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 1180              		.loc 1 1017 0
 1181 0008 159E     		ldr	r6, [sp, #84]
 1182 000a 149F     		ldr	r7, [sp, #80]
1056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1183              		.loc 1 1056 0
 1184 000c DFF8E0E0 		ldr	lr, .L139+8
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 1185              		.loc 1 1017 0
 1186 0010 0446     		mov	r4, r0
1031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1187              		.loc 1 1031 0
 1188 0012 012E     		cmp	r6, #1
1023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1189              		.loc 1 1023 0
 1190 0014 4FF00000 		mov	r0, #0
 1191              	.LVL115:
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 1192              		.loc 1 1017 0
 1193 0018 9946     		mov	r9, r3
1033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1194              		.loc 1 1033 0
 1195 001a 8CBF     		ite	hi
 1196 001c 0323     		movhi	r3, #3
1037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }  
 1197              		.loc 1 1037 0
 1198 001e 0223     		movls	r3, #2
1023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1199              		.loc 1 1023 0
 1200 0020 E862     		str	r0, [r5, #44]
1026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->DmaTransferCplt = 0U;
 1201              		.loc 1 1026 0
 1202 0022 A064     		str	r0, [r4, #72]
1027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdTransferErr   = SD_OK;
 1203              		.loc 1 1027 0
 1204 0024 2065     		str	r0, [r4, #80]
1028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1205              		.loc 1 1028 0
 1206 0026 E064     		str	r0, [r4, #76]
1037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }  
 1207              		.loc 1 1037 0
 1208 0028 6365     		str	r3, [r4, #84]
 1209              	.LVL116:
1042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DTIMEOUT |\
 1210              		.loc 1 1042 0
 1211 002a EB6B     		ldr	r3, [r5, #60]
ARM GAS  /tmp/cceblRej.s 			page 88


1055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->hdmatx->XferErrorCallback = SD_DMA_TxError;
 1212              		.loc 1 1055 0
 1213 002c E06D     		ldr	r0, [r4, #92]
1042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_DTIMEOUT |\
 1214              		.loc 1 1042 0
 1215 002e 43F44673 		orr	r3, r3, #792
 1216 0032 43F00203 		orr	r3, r3, #2
 1217 0036 EB63     		str	r3, [r5, #60]
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 1218              		.loc 1 1017 0
 1219 0038 9046     		mov	r8, r2
 1220              	.LVL117:
1059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1221              		.loc 1 1059 0
 1222 003a 07FB06F3 		mul	r3, r7, r6
1055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->hdmatx->XferErrorCallback = SD_DMA_TxError;
 1223              		.loc 1 1055 0
 1224 003e 2A4A     		ldr	r2, .L139
 1225              	.LVL118:
 1226 0040 C263     		str	r2, [r0, #60]
1059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1227              		.loc 1 1059 0
 1228 0042 9B08     		lsrs	r3, r3, #2
 1229 0044 05F18002 		add	r2, r5, #128
1056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1230              		.loc 1 1056 0
 1231 0048 C0F84CE0 		str	lr, [r0, #76]
1059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1232              		.loc 1 1059 0
 1233 004c FFF7FEFF 		bl	HAL_DMA_Start_IT
 1234              	.LVL119:
1062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1235              		.loc 1 1062 0
 1236 0050 264B     		ldr	r3, .L139+4
 1237 0052 0122     		movs	r2, #1
 1238 0054 1A60     		str	r2, [r3]
1064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1239              		.loc 1 1064 0
 1240 0056 236A     		ldr	r3, [r4, #32]
 1241 0058 022B     		cmp	r3, #2
 1242 005a 3DD0     		beq	.L137
 1243              	.LVL120:
 1244              	.L131:
1073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 1245              		.loc 1 1073 0
 1246 005c 4023     		movs	r3, #64
1072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 1247              		.loc 1 1072 0
 1248 005e 1025     		movs	r5, #16
1074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 1249              		.loc 1 1074 0
 1250 0060 0022     		movs	r2, #0
1076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1251              		.loc 1 1076 0
 1252 0062 01A9     		add	r1, sp, #4
1073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 1253              		.loc 1 1073 0
ARM GAS  /tmp/cceblRej.s 			page 89


 1254 0064 0393     		str	r3, [sp, #12]
1076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1255              		.loc 1 1076 0
 1256 0066 2068     		ldr	r0, [r4]
1072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 1257              		.loc 1 1072 0
 1258 0068 0295     		str	r5, [sp, #8]
1075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1259              		.loc 1 1075 0
 1260 006a 4FF48063 		mov	r3, #1024
1074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 1261              		.loc 1 1074 0
 1262 006e 0492     		str	r2, [sp, #16]
1075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1263              		.loc 1 1075 0
 1264 0070 0593     		str	r3, [sp, #20]
1071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 1265              		.loc 1 1071 0
 1266 0072 0197     		str	r7, [sp, #4]
1076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1267              		.loc 1 1076 0
 1268 0074 FFF7FEFF 		bl	SDIO_SendCommand
 1269              	.LVL121:
1079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1270              		.loc 1 1079 0
 1271 0078 2946     		mov	r1, r5
 1272 007a 2046     		mov	r0, r4
 1273 007c FFF7FEFF 		bl	SD_CmdResp1Error
 1274              	.LVL122:
1081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1275              		.loc 1 1081 0
 1276 0080 0546     		mov	r5, r0
 1277 0082 80B9     		cbnz	r0, .L132
1087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1278              		.loc 1 1087 0
 1279 0084 012E     		cmp	r6, #1
1090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1280              		.loc 1 1090 0
 1281 0086 94BF     		ite	ls
 1282 0088 1825     		movls	r5, #24
1095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1283              		.loc 1 1095 0
 1284 008a 1925     		movhi	r5, #25
1099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1285              		.loc 1 1099 0
 1286 008c 01A9     		add	r1, sp, #4
 1287 008e 2068     		ldr	r0, [r4]
 1288              	.LVL123:
1095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1289              		.loc 1 1095 0
 1290 0090 0295     		str	r5, [sp, #8]
1098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1291              		.loc 1 1098 0
 1292 0092 CDF80480 		str	r8, [sp, #4]
1099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1293              		.loc 1 1099 0
 1294 0096 FFF7FEFF 		bl	SDIO_SendCommand
ARM GAS  /tmp/cceblRej.s 			page 90


 1295              	.LVL124:
1104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1296              		.loc 1 1104 0
 1297 009a 2946     		mov	r1, r5
 1298 009c 2046     		mov	r0, r4
 1299 009e FFF7FEFF 		bl	SD_CmdResp1Error
 1300              	.LVL125:
 1301 00a2 0546     		mov	r5, r0
 1302              	.LVL126:
1111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1303              		.loc 1 1111 0
 1304 00a4 18B1     		cbz	r0, .L138
 1305              	.L132:
1128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1306              		.loc 1 1128 0
 1307 00a6 2846     		mov	r0, r5
 1308              	.LVL127:
 1309 00a8 0DB0     		add	sp, sp, #52
 1310              	.LCFI20:
 1311              		.cfi_remember_state
 1312              		.cfi_def_cfa_offset 28
 1313              		@ sp needed
 1314 00aa BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1315              	.LVL128:
 1316              	.L138:
 1317              	.LCFI21:
 1318              		.cfi_restore_state
1118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 1319              		.loc 1 1118 0
 1320 00ae 06FB07F6 		mul	r6, r6, r7
1119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
 1321              		.loc 1 1119 0
 1322 00b2 9022     		movs	r2, #144
1122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 1323              		.loc 1 1122 0
 1324 00b4 0123     		movs	r3, #1
1117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = BlockSize * NumberOfBlocks;
 1325              		.loc 1 1117 0
 1326 00b6 4FF0FF37 		mov	r7, #-1
 1327              	.LVL129:
1123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1328              		.loc 1 1123 0
 1329 00ba 06A9     		add	r1, sp, #24
 1330 00bc 2068     		ldr	r0, [r4]
 1331              	.LVL130:
1118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 1332              		.loc 1 1118 0
 1333 00be 0796     		str	r6, [sp, #28]
1120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 1334              		.loc 1 1120 0
 1335 00c0 0995     		str	r5, [sp, #36]
1121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 1336              		.loc 1 1121 0
 1337 00c2 0A95     		str	r5, [sp, #40]
1117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = BlockSize * NumberOfBlocks;
 1338              		.loc 1 1117 0
 1339 00c4 0697     		str	r7, [sp, #24]
ARM GAS  /tmp/cceblRej.s 			page 91


1119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
 1340              		.loc 1 1119 0
 1341 00c6 0892     		str	r2, [sp, #32]
1122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 1342              		.loc 1 1122 0
 1343 00c8 0B93     		str	r3, [sp, #44]
1123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1344              		.loc 1 1123 0
 1345 00ca FFF7FEFF 		bl	SDIO_DataConfig
 1346              	.LVL131:
1128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1347              		.loc 1 1128 0
 1348 00ce 2846     		mov	r0, r5
1125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1349              		.loc 1 1125 0
 1350 00d0 E564     		str	r5, [r4, #76]
1128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1351              		.loc 1 1128 0
 1352 00d2 0DB0     		add	sp, sp, #52
 1353              	.LCFI22:
 1354              		.cfi_remember_state
 1355              		.cfi_def_cfa_offset 28
 1356              		@ sp needed
 1357 00d4 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1358              	.LVL132:
 1359              	.L137:
 1360              	.LCFI23:
 1361              		.cfi_restore_state
1067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1362              		.loc 1 1067 0
 1363 00d8 4FEA5828 		lsr	r8, r8, #9
 1364 00dc 48EAC958 		orr	r8, r8, r9, lsl #23
 1365              	.LVL133:
1066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     WriteAddr /= 512U;
 1366              		.loc 1 1066 0
 1367 00e0 4FF40077 		mov	r7, #512
 1368 00e4 BAE7     		b	.L131
 1369              	.L140:
 1370 00e6 00BF     		.align	2
 1371              	.L139:
 1372 00e8 00000000 		.word	SD_DMA_TxCplt
 1373 00ec 8C852542 		.word	1109755276
 1374 00f0 00000000 		.word	SD_DMA_TxError
 1375              		.cfi_endproc
 1376              	.LFE133:
 1378              		.section	.text.HAL_SD_Erase,"ax",%progbits
 1379              		.align	1
 1380              		.p2align 2,,3
 1381              		.global	HAL_SD_Erase
 1382              		.syntax unified
 1383              		.thumb
 1384              		.thumb_func
 1385              		.fpu fpv4-sp-d16
 1387              	HAL_SD_Erase:
 1388              	.LFB136:
1263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 1389              		.loc 1 1263 0
ARM GAS  /tmp/cceblRej.s 			page 92


 1390              		.cfi_startproc
 1391              		@ args = 8, pretend = 0, frame = 40
 1392              		@ frame_needed = 0, uses_anonymous_args = 0
 1393              	.LVL134:
 1394 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1395              	.LCFI24:
 1396              		.cfi_def_cfa_offset 20
 1397              		.cfi_offset 4, -20
 1398              		.cfi_offset 5, -16
 1399              		.cfi_offset 6, -12
 1400              		.cfi_offset 7, -8
 1401              		.cfi_offset 14, -4
 1402 0002 0446     		mov	r4, r0
 1403 0004 8BB0     		sub	sp, sp, #44
 1404              	.LCFI25:
 1405              		.cfi_def_cfa_offset 64
1272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1406              		.loc 1 1272 0
 1407 0006 E16A     		ldr	r1, [r4, #44]
1263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 1408              		.loc 1 1263 0
 1409 0008 109D     		ldr	r5, [sp, #64]
 1410 000a 119E     		ldr	r6, [sp, #68]
1268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint8_t cardstate      = 0U;
 1411              		.loc 1 1268 0
 1412 000c 0020     		movs	r0, #0
 1413              	.LVL135:
1272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1414              		.loc 1 1272 0
 1415 000e 8901     		lsls	r1, r1, #6
1268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint8_t cardstate      = 0U;
 1416              		.loc 1 1268 0
 1417 0010 0490     		str	r0, [sp, #16]
 1418              	.LVL136:
1269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1419              		.loc 1 1269 0
 1420 0012 8DF80F00 		strb	r0, [sp, #15]
1272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1421              		.loc 1 1272 0
 1422 0016 03D4     		bmi	.L166
1276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1423              		.loc 1 1276 0
 1424 0018 2523     		movs	r3, #37
 1425              	.LVL137:
 1426              	.L156:
1359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1427              		.loc 1 1359 0
 1428 001a 1846     		mov	r0, r3
 1429 001c 0BB0     		add	sp, sp, #44
 1430              	.LCFI26:
 1431              		.cfi_remember_state
 1432              		.cfi_def_cfa_offset 20
 1433              		@ sp needed
 1434 001e F0BD     		pop	{r4, r5, r6, r7, pc}
 1435              	.LVL138:
 1436              	.L166:
 1437              	.LCFI27:
ARM GAS  /tmp/cceblRej.s 			page 93


 1438              		.cfi_restore_state
1280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1439              		.loc 1 1280 0
 1440 0020 2168     		ldr	r1, [r4]
 1441 0022 414F     		ldr	r7, .L169
 1442 0024 4968     		ldr	r1, [r1, #4]
 1443 0026 C9B2     		uxtb	r1, r1
 1444 0028 8DE80C00 		stm	sp, {r2, r3}
 1445 002c 0231     		adds	r1, r1, #2
 1446 002e B7FBF1F1 		udiv	r1, r7, r1
 1447 0032 0491     		str	r1, [sp, #16]
1282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1448              		.loc 1 1282 0
 1449 0034 FFF7FEFF 		bl	SDIO_GetResponse
 1450              	.LVL139:
 1451 0038 10F0007F 		tst	r0, #33554432
 1452 003c 9DE80C00 		ldm	sp, {r2, r3}
 1453 0040 03D0     		beq	.L167
1286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1454              		.loc 1 1286 0
 1455 0042 0E23     		movs	r3, #14
1359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1456              		.loc 1 1359 0
 1457 0044 1846     		mov	r0, r3
 1458 0046 0BB0     		add	sp, sp, #44
 1459              	.LCFI28:
 1460              		.cfi_remember_state
 1461              		.cfi_def_cfa_offset 20
 1462              		@ sp needed
 1463 0048 F0BD     		pop	{r4, r5, r6, r7, pc}
 1464              	.LVL140:
 1465              	.L167:
 1466              	.LCFI29:
 1467              		.cfi_restore_state
1290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1468              		.loc 1 1290 0
 1469 004a 216A     		ldr	r1, [r4, #32]
 1470 004c 0229     		cmp	r1, #2
 1471 004e 3CD0     		beq	.L168
 1472              	.LVL141:
1297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (hsd->CardType == HIGH_CAPACITY_SD_CARD))
 1473              		.loc 1 1297 0
 1474 0050 41D9     		bls	.L144
 1475 0052 05AE     		add	r6, sp, #20
 1476              	.LVL142:
 1477              	.L146:
1331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_ERASE;
 1478              		.loc 1 1331 0
 1479 0054 0023     		movs	r3, #0
1333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1480              		.loc 1 1333 0
 1481 0056 3146     		mov	r1, r6
1332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1482              		.loc 1 1332 0
 1483 0058 2625     		movs	r5, #38
1333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1484              		.loc 1 1333 0
ARM GAS  /tmp/cceblRej.s 			page 94


 1485 005a 2068     		ldr	r0, [r4]
1331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_ERASE;
 1486              		.loc 1 1331 0
 1487 005c 0593     		str	r3, [sp, #20]
1332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1488              		.loc 1 1332 0
 1489 005e 0695     		str	r5, [sp, #24]
1333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1490              		.loc 1 1333 0
 1491 0060 FFF7FEFF 		bl	SDIO_SendCommand
 1492              	.LVL143:
1336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1493              		.loc 1 1336 0
 1494 0064 2946     		mov	r1, r5
 1495 0066 2046     		mov	r0, r4
 1496 0068 FFF7FEFF 		bl	SD_CmdResp1Error
 1497              	.LVL144:
1338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1498              		.loc 1 1338 0
 1499 006c 0346     		mov	r3, r0
 1500 006e 0028     		cmp	r0, #0
 1501 0070 D3D1     		bne	.L156
1343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1502              		.loc 1 1343 0 discriminator 1
 1503 0072 049A     		ldr	r2, [sp, #16]
 1504 0074 1AB1     		cbz	r2, .L147
 1505              	.LVL145:
 1506              	.L148:
1343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1507              		.loc 1 1343 0 is_stmt 0 discriminator 2
 1508 0076 049A     		ldr	r2, [sp, #16]
 1509 0078 0133     		adds	r3, r3, #1
 1510              	.LVL146:
 1511 007a 9A42     		cmp	r2, r3
 1512 007c FBD8     		bhi	.L148
 1513              	.LVL147:
 1514              	.L147:
1348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1515              		.loc 1 1348 0 is_stmt 1
 1516 007e 0DF10F01 		add	r1, sp, #15
 1517 0082 2046     		mov	r0, r4
 1518              	.LVL148:
 1519 0084 FFF7FEFF 		bl	SD_IsCardProgramming
 1520              	.LVL149:
1352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1521              		.loc 1 1352 0
 1522 0088 0028     		cmp	r0, #0
 1523 008a 4BD1     		bne	.L155
 1524 008c 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 1525 0090 063B     		subs	r3, r3, #6
 1526 0092 012B     		cmp	r3, #1
 1527 0094 17D8     		bhi	.L151
 1528              	.LVL150:
1354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     delay--;
 1529              		.loc 1 1354 0
 1530 0096 0DF10F01 		add	r1, sp, #15
 1531 009a 2046     		mov	r0, r4
ARM GAS  /tmp/cceblRej.s 			page 95


 1532 009c FFF7FEFF 		bl	SD_IsCardProgramming
 1533              	.LVL151:
 1534 00a0 6FF00105 		mvn	r5, #1
 1535 00a4 0346     		mov	r3, r0
 1536              	.LVL152:
 1537 00a6 04E0     		b	.L152
 1538              	.LVL153:
 1539              	.L150:
 1540 00a8 FFF7FEFF 		bl	SD_IsCardProgramming
 1541              	.LVL154:
1352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1542              		.loc 1 1352 0
 1543 00ac 013D     		subs	r5, r5, #1
 1544              	.LVL155:
1354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     delay--;
 1545              		.loc 1 1354 0
 1546 00ae 0346     		mov	r3, r0
 1547              	.LVL156:
1352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1548              		.loc 1 1352 0
 1549 00b0 B3D0     		beq	.L156
 1550              	.L152:
 1551              	.LVL157:
1354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     delay--;
 1552              		.loc 1 1354 0 discriminator 1
 1553 00b2 0DF10F01 		add	r1, sp, #15
 1554 00b6 2046     		mov	r0, r4
1352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1555              		.loc 1 1352 0 discriminator 1
 1556 00b8 002B     		cmp	r3, #0
 1557 00ba AED1     		bne	.L156
 1558              	.LVL158:
1352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1559              		.loc 1 1352 0 is_stmt 0 discriminator 2
 1560 00bc 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 1561              	.LVL159:
 1562 00c0 063B     		subs	r3, r3, #6
 1563 00c2 012B     		cmp	r3, #1
 1564 00c4 F0D9     		bls	.L150
 1565              	.LVL160:
 1566              	.L151:
1286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1567              		.loc 1 1286 0 is_stmt 1
 1568 00c6 0023     		movs	r3, #0
 1569 00c8 A7E7     		b	.L156
 1570              	.LVL161:
 1571              	.L168:
1292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     endaddr   /= 512U;
 1572              		.loc 1 1292 0
 1573 00ca 520A     		lsrs	r2, r2, #9
1293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1574              		.loc 1 1293 0
 1575 00cc 6D0A     		lsrs	r5, r5, #9
1292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     endaddr   /= 512U;
 1576              		.loc 1 1292 0
 1577 00ce 42EAC352 		orr	r2, r2, r3, lsl #23
 1578              	.LVL162:
ARM GAS  /tmp/cceblRej.s 			page 96


1293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1579              		.loc 1 1293 0
 1580 00d2 45EAC655 		orr	r5, r5, r6, lsl #23
 1581              	.LVL163:
 1582              	.L144:
1303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 1583              		.loc 1 1303 0
 1584 00d6 4020     		movs	r0, #64
1306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1585              		.loc 1 1306 0
 1586 00d8 05AE     		add	r6, sp, #20
1305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1587              		.loc 1 1305 0
 1588 00da 4FF48063 		mov	r3, #1024
1304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 1589              		.loc 1 1304 0
 1590 00de 4FF0000E 		mov	lr, #0
1306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1591              		.loc 1 1306 0
 1592 00e2 3146     		mov	r1, r6
1302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 1593              		.loc 1 1302 0
 1594 00e4 2027     		movs	r7, #32
1303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 1595              		.loc 1 1303 0
 1596 00e6 0790     		str	r0, [sp, #28]
1306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1597              		.loc 1 1306 0
 1598 00e8 2068     		ldr	r0, [r4]
1305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1599              		.loc 1 1305 0
 1600 00ea 0993     		str	r3, [sp, #36]
1301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_ERASE_GRP_START;
 1601              		.loc 1 1301 0
 1602 00ec 0592     		str	r2, [sp, #20]
1304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 1603              		.loc 1 1304 0
 1604 00ee CDF820E0 		str	lr, [sp, #32]
1302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 1605              		.loc 1 1302 0
 1606 00f2 0697     		str	r7, [sp, #24]
1306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1607              		.loc 1 1306 0
 1608 00f4 FFF7FEFF 		bl	SDIO_SendCommand
 1609              	.LVL164:
1309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1610              		.loc 1 1309 0
 1611 00f8 3946     		mov	r1, r7
 1612 00fa 2046     		mov	r0, r4
 1613 00fc FFF7FEFF 		bl	SD_CmdResp1Error
 1614              	.LVL165:
1311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1615              		.loc 1 1311 0
 1616 0100 0346     		mov	r3, r0
 1617 0102 0028     		cmp	r0, #0
 1618 0104 89D1     		bne	.L156
1318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
ARM GAS  /tmp/cceblRej.s 			page 97


 1619              		.loc 1 1318 0
 1620 0106 2127     		movs	r7, #33
1319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1621              		.loc 1 1319 0
 1622 0108 3146     		mov	r1, r6
 1623 010a 2068     		ldr	r0, [r4]
 1624              	.LVL166:
1317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_ERASE_GRP_END;
 1625              		.loc 1 1317 0
 1626 010c 0595     		str	r5, [sp, #20]
1318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 1627              		.loc 1 1318 0
 1628 010e 0697     		str	r7, [sp, #24]
1319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1629              		.loc 1 1319 0
 1630 0110 FFF7FEFF 		bl	SDIO_SendCommand
 1631              	.LVL167:
1322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1632              		.loc 1 1322 0
 1633 0114 3946     		mov	r1, r7
 1634 0116 2046     		mov	r0, r4
 1635 0118 FFF7FEFF 		bl	SD_CmdResp1Error
 1636              	.LVL168:
1324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1637              		.loc 1 1324 0
 1638 011c 0346     		mov	r3, r0
 1639 011e 0028     		cmp	r0, #0
 1640 0120 98D0     		beq	.L146
 1641 0122 7AE7     		b	.L156
 1642              	.LVL169:
 1643              	.L155:
1352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1644              		.loc 1 1352 0
 1645 0124 0346     		mov	r3, r0
 1646 0126 78E7     		b	.L156
 1647              	.L170:
 1648              		.align	2
 1649              	.L169:
 1650 0128 C0D40100 		.word	120000
 1651              		.cfi_endproc
 1652              	.LFE136:
 1654              		.section	.text.HAL_SD_XferCpltCallback,"ax",%progbits
 1655              		.align	1
 1656              		.p2align 2,,3
 1657              		.weak	HAL_SD_XferCpltCallback
 1658              		.syntax unified
 1659              		.thumb
 1660              		.thumb_func
 1661              		.fpu fpv4-sp-d16
 1663              	HAL_SD_XferCpltCallback:
 1664              	.LFB182:
 1665              		.cfi_startproc
 1666              		@ args = 0, pretend = 0, frame = 0
 1667              		@ frame_needed = 0, uses_anonymous_args = 0
 1668              		@ link register save eliminated.
 1669 0000 7047     		bx	lr
 1670              		.cfi_endproc
ARM GAS  /tmp/cceblRej.s 			page 98


 1671              	.LFE182:
 1673 0002 00BF     		.section	.text.HAL_SD_XferErrorCallback,"ax",%progbits
 1674              		.align	1
 1675              		.p2align 2,,3
 1676              		.weak	HAL_SD_XferErrorCallback
 1677              		.syntax unified
 1678              		.thumb
 1679              		.thumb_func
 1680              		.fpu fpv4-sp-d16
 1682              	HAL_SD_XferErrorCallback:
 1683              	.LFB180:
 1684              		.cfi_startproc
 1685              		@ args = 0, pretend = 0, frame = 0
 1686              		@ frame_needed = 0, uses_anonymous_args = 0
 1687              		@ link register save eliminated.
 1688 0000 7047     		bx	lr
 1689              		.cfi_endproc
 1690              	.LFE180:
 1692 0002 00BF     		.section	.text.HAL_SD_IRQHandler,"ax",%progbits
 1693              		.align	1
 1694              		.p2align 2,,3
 1695              		.global	HAL_SD_IRQHandler
 1696              		.syntax unified
 1697              		.thumb
 1698              		.thumb_func
 1699              		.fpu fpv4-sp-d16
 1701              	HAL_SD_IRQHandler:
 1702              	.LFB137:
1367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for SDIO interrupt flags */
 1703              		.loc 1 1367 0
 1704              		.cfi_startproc
 1705              		@ args = 0, pretend = 0, frame = 0
 1706              		@ frame_needed = 0, uses_anonymous_args = 0
 1707              	.LVL170:
1367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for SDIO interrupt flags */
 1708              		.loc 1 1367 0
 1709 0000 38B5     		push	{r3, r4, r5, lr}
 1710              	.LCFI30:
 1711              		.cfi_def_cfa_offset 16
 1712              		.cfi_offset 3, -16
 1713              		.cfi_offset 4, -12
 1714              		.cfi_offset 5, -8
 1715              		.cfi_offset 14, -4
1369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1716              		.loc 1 1369 0
 1717 0002 0368     		ldr	r3, [r0]
 1718 0004 5A6B     		ldr	r2, [r3, #52]
 1719 0006 D505     		lsls	r5, r2, #23
1367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for SDIO interrupt flags */
 1720              		.loc 1 1367 0
 1721 0008 0446     		mov	r4, r0
1369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1722              		.loc 1 1369 0
 1723 000a 15D4     		bmi	.L184
1381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1724              		.loc 1 1381 0
 1725 000c 5A6B     		ldr	r2, [r3, #52]
ARM GAS  /tmp/cceblRej.s 			page 99


 1726 000e 9107     		lsls	r1, r2, #30
 1727 0010 2ED4     		bmi	.L185
1390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1728              		.loc 1 1390 0
 1729 0012 5A6B     		ldr	r2, [r3, #52]
 1730 0014 1207     		lsls	r2, r2, #28
 1731 0016 1AD4     		bmi	.L186
1398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1732              		.loc 1 1398 0
 1733 0018 5A6B     		ldr	r2, [r3, #52]
 1734 001a 9506     		lsls	r5, r2, #26
 1735 001c 2FD4     		bmi	.L187
1406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1736              		.loc 1 1406 0
 1737 001e 5A6B     		ldr	r2, [r3, #52]
 1738 0020 D106     		lsls	r1, r2, #27
 1739 0022 34D4     		bmi	.L188
1415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1740              		.loc 1 1415 0
 1741 0024 5A6B     		ldr	r2, [r3, #52]
 1742 0026 9205     		lsls	r2, r2, #22
 1743 0028 19D4     		bmi	.L189
 1744              	.LVL171:
 1745              	.L175:
1431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                 SDIO_IT_TXFIFOHE | SDIO_IT_RXFIFOHF | SDIO_IT_TXUNDERR |\
 1746              		.loc 1 1431 0
 1747 002a DA6B     		ldr	r2, [r3, #60]
 1748 002c 22F44342 		bic	r2, r2, #49920
 1749 0030 22F03A02 		bic	r2, r2, #58
 1750 0034 DA63     		str	r2, [r3, #60]
 1751 0036 38BD     		pop	{r3, r4, r5, pc}
 1752              	.LVL172:
 1753              	.L184:
1374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1754              		.loc 1 1374 0
 1755 0038 0121     		movs	r1, #1
1377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1756              		.loc 1 1377 0
 1757 003a 0022     		movs	r2, #0
1371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 1758              		.loc 1 1371 0
 1759 003c 4FF48075 		mov	r5, #256
 1760 0040 9D63     		str	r5, [r3, #56]
1374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1761              		.loc 1 1374 0
 1762 0042 8164     		str	r1, [r0, #72]
1377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1763              		.loc 1 1377 0
 1764 0044 C264     		str	r2, [r0, #76]
1379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }  
 1765              		.loc 1 1379 0
 1766 0046 FFF7FEFF 		bl	HAL_SD_XferCpltCallback
 1767              	.LVL173:
 1768 004a 2368     		ldr	r3, [r4]
 1769 004c EDE7     		b	.L175
 1770              	.LVL174:
 1771              	.L186:
ARM GAS  /tmp/cceblRej.s 			page 100


1392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1772              		.loc 1 1392 0
 1773 004e 0821     		movs	r1, #8
1394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1774              		.loc 1 1394 0
 1775 0050 0422     		movs	r2, #4
1392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1776              		.loc 1 1392 0
 1777 0052 9963     		str	r1, [r3, #56]
1394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1778              		.loc 1 1394 0
 1779 0054 C264     		str	r2, [r0, #76]
1396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1780              		.loc 1 1396 0
 1781 0056 FFF7FEFF 		bl	HAL_SD_XferErrorCallback
 1782              	.LVL175:
 1783 005a 2368     		ldr	r3, [r4]
 1784 005c E5E7     		b	.L175
 1785              	.LVL176:
 1786              	.L189:
1417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1787              		.loc 1 1417 0
 1788 005e 4FF40071 		mov	r1, #512
1419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1789              		.loc 1 1419 0
 1790 0062 0722     		movs	r2, #7
1417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1791              		.loc 1 1417 0
 1792 0064 9963     		str	r1, [r3, #56]
1419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1793              		.loc 1 1419 0
 1794 0066 C264     		str	r2, [r0, #76]
1421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1795              		.loc 1 1421 0
 1796 0068 FFF7FEFF 		bl	HAL_SD_XferErrorCallback
 1797              	.LVL177:
 1798 006c 2368     		ldr	r3, [r4]
 1799 006e DCE7     		b	.L175
 1800              	.LVL178:
 1801              	.L185:
1383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1802              		.loc 1 1383 0
 1803 0070 0222     		movs	r2, #2
 1804 0072 9A63     		str	r2, [r3, #56]
1385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1805              		.loc 1 1385 0
 1806 0074 C264     		str	r2, [r0, #76]
1387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1807              		.loc 1 1387 0
 1808 0076 FFF7FEFF 		bl	HAL_SD_XferErrorCallback
 1809              	.LVL179:
 1810 007a 2368     		ldr	r3, [r4]
 1811 007c D5E7     		b	.L175
 1812              	.LVL180:
 1813              	.L187:
1400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1814              		.loc 1 1400 0
ARM GAS  /tmp/cceblRej.s 			page 101


 1815 007e 2021     		movs	r1, #32
1402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1816              		.loc 1 1402 0
 1817 0080 0622     		movs	r2, #6
1400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1818              		.loc 1 1400 0
 1819 0082 9963     		str	r1, [r3, #56]
1402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1820              		.loc 1 1402 0
 1821 0084 C264     		str	r2, [r0, #76]
1404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1822              		.loc 1 1404 0
 1823 0086 FFF7FEFF 		bl	HAL_SD_XferErrorCallback
 1824              	.LVL181:
 1825 008a 2368     		ldr	r3, [r4]
 1826 008c CDE7     		b	.L175
 1827              	.LVL182:
 1828              	.L188:
1408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1829              		.loc 1 1408 0
 1830 008e 1021     		movs	r1, #16
1410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1831              		.loc 1 1410 0
 1832 0090 0522     		movs	r2, #5
1408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1833              		.loc 1 1408 0
 1834 0092 9963     		str	r1, [r3, #56]
1410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 1835              		.loc 1 1410 0
 1836 0094 C264     		str	r2, [r0, #76]
1412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1837              		.loc 1 1412 0
 1838 0096 FFF7FEFF 		bl	HAL_SD_XferErrorCallback
 1839              	.LVL183:
 1840 009a 2368     		ldr	r3, [r4]
 1841 009c C5E7     		b	.L175
 1842              		.cfi_endproc
 1843              	.LFE137:
 1845 009e 00BF     		.section	.text.HAL_SD_DMA_RxCpltCallback,"ax",%progbits
 1846              		.align	1
 1847              		.p2align 2,,3
 1848              		.weak	HAL_SD_DMA_RxCpltCallback
 1849              		.syntax unified
 1850              		.thumb
 1851              		.thumb_func
 1852              		.fpu fpv4-sp-d16
 1854              	HAL_SD_DMA_RxCpltCallback:
 1855              	.LFB178:
 1856              		.cfi_startproc
 1857              		@ args = 0, pretend = 0, frame = 0
 1858              		@ frame_needed = 0, uses_anonymous_args = 0
 1859              		@ link register save eliminated.
 1860 0000 7047     		bx	lr
 1861              		.cfi_endproc
 1862              	.LFE178:
 1864 0002 00BF     		.section	.text.SD_DMA_RxCplt,"ax",%progbits
 1865              		.align	1
ARM GAS  /tmp/cceblRej.s 			page 102


 1866              		.p2align 2,,3
 1867              		.syntax unified
 1868              		.thumb
 1869              		.thumb_func
 1870              		.fpu fpv4-sp-d16
 1872              	SD_DMA_RxCplt:
 1873              	.LFB151:
2288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = (SD_HandleTypeDef*)((DMA_HandleTypeDef*)hdma)->Parent;
 1874              		.loc 1 2288 0
 1875              		.cfi_startproc
 1876              		@ args = 0, pretend = 0, frame = 0
 1877              		@ frame_needed = 0, uses_anonymous_args = 0
 1878              	.LVL184:
2288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = (SD_HandleTypeDef*)((DMA_HandleTypeDef*)hdma)->Parent;
 1879              		.loc 1 2288 0
 1880 0000 10B5     		push	{r4, lr}
 1881              	.LCFI31:
 1882              		.cfi_def_cfa_offset 8
 1883              		.cfi_offset 4, -8
 1884              		.cfi_offset 14, -4
2289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1885              		.loc 1 2289 0
 1886 0002 846B     		ldr	r4, [r0, #56]
 1887              	.LVL185:
2292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1888              		.loc 1 2292 0
 1889 0004 0123     		movs	r3, #1
 1890 0006 2365     		str	r3, [r4, #80]
 1891              	.L192:
2295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1892              		.loc 1 2295 0 discriminator 1
 1893 0008 A36C     		ldr	r3, [r4, #72]
 1894 000a 002B     		cmp	r3, #0
 1895 000c FCD0     		beq	.L192
2300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1896              		.loc 1 2300 0
 1897 000e FFF7FEFF 		bl	HAL_DMA_Abort
 1898              	.LVL186:
2303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 1899              		.loc 1 2303 0
 1900 0012 A06D     		ldr	r0, [r4, #88]
 1901 0014 FFF7FEFF 		bl	HAL_SD_DMA_RxCpltCallback
 1902              	.LVL187:
 1903 0018 10BD     		pop	{r4, pc}
 1904              		.cfi_endproc
 1905              	.LFE151:
 1907 001a 00BF     		.section	.text.HAL_SD_DMA_RxErrorCallback,"ax",%progbits
 1908              		.align	1
 1909              		.p2align 2,,3
 1910              		.weak	HAL_SD_DMA_RxErrorCallback
 1911              		.syntax unified
 1912              		.thumb
 1913              		.thumb_func
 1914              		.fpu fpv4-sp-d16
 1916              	HAL_SD_DMA_RxErrorCallback:
 1917              	.LFB176:
 1918              		.cfi_startproc
ARM GAS  /tmp/cceblRej.s 			page 103


 1919              		@ args = 0, pretend = 0, frame = 0
 1920              		@ frame_needed = 0, uses_anonymous_args = 0
 1921              		@ link register save eliminated.
 1922 0000 7047     		bx	lr
 1923              		.cfi_endproc
 1924              	.LFE176:
 1926 0002 00BF     		.section	.text.SD_DMA_RxError,"ax",%progbits
 1927              		.align	1
 1928              		.p2align 2,,3
 1929              		.syntax unified
 1930              		.thumb
 1931              		.thumb_func
 1932              		.fpu fpv4-sp-d16
 1934              	SD_DMA_RxError:
 1935              	.LFB152:
2313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = (SD_HandleTypeDef*)((DMA_HandleTypeDef*)hdma)->Parent;
 1936              		.loc 1 2313 0
 1937              		.cfi_startproc
 1938              		@ args = 0, pretend = 0, frame = 0
 1939              		@ frame_needed = 0, uses_anonymous_args = 0
 1940              	.LVL188:
2313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = (SD_HandleTypeDef*)((DMA_HandleTypeDef*)hdma)->Parent;
 1941              		.loc 1 2313 0
 1942 0000 08B5     		push	{r3, lr}
 1943              	.LCFI32:
 1944              		.cfi_def_cfa_offset 8
 1945              		.cfi_offset 3, -8
 1946              		.cfi_offset 14, -4
2317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 1947              		.loc 1 2317 0
 1948 0002 836B     		ldr	r3, [r0, #56]
 1949 0004 986D     		ldr	r0, [r3, #88]
 1950              	.LVL189:
 1951 0006 FFF7FEFF 		bl	HAL_SD_DMA_RxErrorCallback
 1952              	.LVL190:
 1953 000a 08BD     		pop	{r3, pc}
 1954              		.cfi_endproc
 1955              	.LFE152:
 1957              		.section	.text.HAL_SD_DMA_TxCpltCallback,"ax",%progbits
 1958              		.align	1
 1959              		.p2align 2,,3
 1960              		.weak	HAL_SD_DMA_TxCpltCallback
 1961              		.syntax unified
 1962              		.thumb
 1963              		.thumb_func
 1964              		.fpu fpv4-sp-d16
 1966              	HAL_SD_DMA_TxCpltCallback:
 1967              	.LFB174:
 1968              		.cfi_startproc
 1969              		@ args = 0, pretend = 0, frame = 0
 1970              		@ frame_needed = 0, uses_anonymous_args = 0
 1971              		@ link register save eliminated.
 1972 0000 7047     		bx	lr
 1973              		.cfi_endproc
 1974              	.LFE174:
 1976 0002 00BF     		.section	.text.SD_DMA_TxCplt,"ax",%progbits
 1977              		.align	1
ARM GAS  /tmp/cceblRej.s 			page 104


 1978              		.p2align 2,,3
 1979              		.syntax unified
 1980              		.thumb
 1981              		.thumb_func
 1982              		.fpu fpv4-sp-d16
 1984              	SD_DMA_TxCplt:
 1985              	.LFB153:
2327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = (SD_HandleTypeDef*)((DMA_HandleTypeDef*)hdma)->Parent;
 1986              		.loc 1 2327 0
 1987              		.cfi_startproc
 1988              		@ args = 0, pretend = 0, frame = 0
 1989              		@ frame_needed = 0, uses_anonymous_args = 0
 1990              	.LVL191:
2327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = (SD_HandleTypeDef*)((DMA_HandleTypeDef*)hdma)->Parent;
 1991              		.loc 1 2327 0
 1992 0000 10B5     		push	{r4, lr}
 1993              	.LCFI33:
 1994              		.cfi_def_cfa_offset 8
 1995              		.cfi_offset 4, -8
 1996              		.cfi_offset 14, -4
2328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 1997              		.loc 1 2328 0
 1998 0002 846B     		ldr	r4, [r0, #56]
 1999              	.LVL192:
2331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2000              		.loc 1 2331 0
 2001 0004 0123     		movs	r3, #1
 2002 0006 2365     		str	r3, [r4, #80]
 2003              	.L201:
2334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2004              		.loc 1 2334 0 discriminator 1
 2005 0008 A36C     		ldr	r3, [r4, #72]
 2006 000a 002B     		cmp	r3, #0
 2007 000c FCD0     		beq	.L201
2339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2008              		.loc 1 2339 0
 2009 000e FFF7FEFF 		bl	HAL_DMA_Abort
 2010              	.LVL193:
2342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 2011              		.loc 1 2342 0
 2012 0012 E06D     		ldr	r0, [r4, #92]
 2013 0014 FFF7FEFF 		bl	HAL_SD_DMA_TxCpltCallback
 2014              	.LVL194:
 2015 0018 10BD     		pop	{r4, pc}
 2016              		.cfi_endproc
 2017              	.LFE153:
 2019 001a 00BF     		.section	.text.HAL_SD_DMA_TxErrorCallback,"ax",%progbits
 2020              		.align	1
 2021              		.p2align 2,,3
 2022              		.weak	HAL_SD_DMA_TxErrorCallback
 2023              		.syntax unified
 2024              		.thumb
 2025              		.thumb_func
 2026              		.fpu fpv4-sp-d16
 2028              	HAL_SD_DMA_TxErrorCallback:
 2029              	.LFB143:
1522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
ARM GAS  /tmp/cceblRej.s 			page 105


 2030              		.loc 1 1522 0
 2031              		.cfi_startproc
 2032              		@ args = 0, pretend = 0, frame = 0
 2033              		@ frame_needed = 0, uses_anonymous_args = 0
 2034              		@ link register save eliminated.
 2035              	.LVL195:
 2036 0000 7047     		bx	lr
 2037              		.cfi_endproc
 2038              	.LFE143:
 2040 0002 00BF     		.section	.text.SD_DMA_TxError,"ax",%progbits
 2041              		.align	1
 2042              		.p2align 2,,3
 2043              		.syntax unified
 2044              		.thumb
 2045              		.thumb_func
 2046              		.fpu fpv4-sp-d16
 2048              	SD_DMA_TxError:
 2049              	.LFB154:
2352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = ( SD_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 2050              		.loc 1 2352 0
 2051              		.cfi_startproc
 2052              		@ args = 0, pretend = 0, frame = 0
 2053              		@ frame_needed = 0, uses_anonymous_args = 0
 2054              	.LVL196:
2352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef *hsd = ( SD_HandleTypeDef* )((DMA_HandleTypeDef* )hdma)->Parent;
 2055              		.loc 1 2352 0
 2056 0000 08B5     		push	{r3, lr}
 2057              	.LCFI34:
 2058              		.cfi_def_cfa_offset 8
 2059              		.cfi_offset 3, -8
 2060              		.cfi_offset 14, -4
2356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 2061              		.loc 1 2356 0
 2062 0002 836B     		ldr	r3, [r0, #56]
 2063 0004 D86D     		ldr	r0, [r3, #92]
 2064              	.LVL197:
 2065 0006 FFF7FEFF 		bl	HAL_SD_DMA_TxErrorCallback
 2066              	.LVL198:
 2067 000a 08BD     		pop	{r3, pc}
 2068              		.cfi_endproc
 2069              	.LFE154:
 2071              		.section	.text.HAL_SD_Get_CardInfo,"ax",%progbits
 2072              		.align	1
 2073              		.p2align 2,,3
 2074              		.global	HAL_SD_Get_CardInfo
 2075              		.syntax unified
 2076              		.thumb
 2077              		.thumb_func
 2078              		.fpu fpv4-sp-d16
 2080              	HAL_SD_Get_CardInfo:
 2081              	.LFB144:
1557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 2082              		.loc 1 1557 0
 2083              		.cfi_startproc
 2084              		@ args = 0, pretend = 0, frame = 0
 2085              		@ frame_needed = 0, uses_anonymous_args = 0
 2086              	.LVL199:
ARM GAS  /tmp/cceblRej.s 			page 106


 2087 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 2088              	.LCFI35:
 2089              		.cfi_def_cfa_offset 28
 2090              		.cfi_offset 4, -28
 2091              		.cfi_offset 5, -24
 2092              		.cfi_offset 6, -20
 2093              		.cfi_offset 7, -16
 2094              		.cfi_offset 8, -12
 2095              		.cfi_offset 9, -8
 2096              		.cfi_offset 14, -4
1561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->RCA      = (uint16_t)(hsd->RCA);
 2097              		.loc 1 1561 0
 2098 0004 056A     		ldr	r5, [r0, #32]
 2099 0006 81F85650 		strb	r5, [r1, #86]
1565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CSDStruct      = (uint8_t)((tmp & 0xC0U) >> 6U);
 2100              		.loc 1 1565 0
 2101 000a 836A     		ldr	r3, [r0, #40]
 2102              	.LVL200:
1557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 2103              		.loc 1 1557 0
 2104 000c 0246     		mov	r2, r0
1562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2105              		.loc 1 1562 0
 2106 000e 406A     		ldr	r0, [r0, #36]
 2107              	.LVL201:
 2108 0010 A1F85400 		strh	r0, [r1, #84]	@ movhi
1566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.SysSpecVersion = (uint8_t)((tmp & 0x3CU) >> 2U);
 2109              		.loc 1 1566 0
 2110 0014 980F     		lsrs	r0, r3, #30
 2111 0016 0870     		strb	r0, [r1]
1567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved1      = tmp & 0x03U;
 2112              		.loc 1 1567 0
 2113 0018 C3F38367 		ubfx	r7, r3, #26, #4
1568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2114              		.loc 1 1568 0
 2115 001c C3F30166 		ubfx	r6, r3, #24, #2
1572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2116              		.loc 1 1572 0
 2117 0020 C3F30744 		ubfx	r4, r3, #16, #8
1576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2118              		.loc 1 1576 0
 2119 0024 C3F30720 		ubfx	r0, r3, #8, #8
1580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2120              		.loc 1 1580 0
 2121 0028 DBB2     		uxtb	r3, r3
 2122              	.LVL202:
1567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved1      = tmp & 0x03U;
 2123              		.loc 1 1567 0
 2124 002a 4F70     		strb	r7, [r1, #1]
1568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2125              		.loc 1 1568 0
 2126 002c 8E70     		strb	r6, [r1, #2]
1572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2127              		.loc 1 1572 0
 2128 002e CC70     		strb	r4, [r1, #3]
1576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2129              		.loc 1 1576 0
ARM GAS  /tmp/cceblRej.s 			page 107


 2130 0030 0871     		strb	r0, [r1, #4]
1580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2131              		.loc 1 1580 0
 2132 0032 4B71     		strb	r3, [r1, #5]
1583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CardComdClasses = (uint16_t)(tmp << 4U);
 2133              		.loc 1 1583 0
 2134 0034 D46A     		ldr	r4, [r2, #44]
 2135              	.LVL203:
 2136 0036 230E     		lsrs	r3, r4, #24
 2137              	.LVL204:
1584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2138              		.loc 1 1584 0
 2139 0038 1B01     		lsls	r3, r3, #4
 2140              	.LVL205:
 2141 003a CB80     		strh	r3, [r1, #6]	@ movhi
 2142              	.LVL206:
1588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.RdBlockLen       = (uint8_t)(tmp & 0x0FU);
 2143              		.loc 1 1588 0
 2144 003c C888     		ldrh	r0, [r1, #6]
 2145 003e C4F30356 		ubfx	r6, r4, #20, #4
 2146 0042 80B2     		uxth	r0, r0
1592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.PartBlockRead   = (uint8_t)((tmp & 0x80U) >> 7U);
 2147              		.loc 1 1592 0
 2148 0044 C4F30723 		ubfx	r3, r4, #8, #8
 2149              	.LVL207:
1588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.RdBlockLen       = (uint8_t)(tmp & 0x0FU);
 2150              		.loc 1 1588 0
 2151 0048 3043     		orrs	r0, r0, r6
1589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2152              		.loc 1 1589 0
 2153 004a C4F30346 		ubfx	r6, r4, #16, #4
1588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.RdBlockLen       = (uint8_t)(tmp & 0x0FU);
 2154              		.loc 1 1588 0
 2155 004e C880     		strh	r0, [r1, #6]	@ movhi
1593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrBlockMisalign = (uint8_t)((tmp & 0x40U) >> 6U);
 2156              		.loc 1 1593 0
 2157 0050 DF09     		lsrs	r7, r3, #7
1589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2158              		.loc 1 1589 0
 2159 0052 0E72     		strb	r6, [r1, #8]
1595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.DSRImpl         = (uint8_t)((tmp & 0x10U) >> 4U);
 2160              		.loc 1 1595 0
 2161 0054 C3F34010 		ubfx	r0, r3, #5, #1
1594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.RdBlockMisalign = (uint8_t)((tmp & 0x20U) >> 5U);
 2162              		.loc 1 1594 0
 2163 0058 C3F38016 		ubfx	r6, r3, #6, #1
1593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrBlockMisalign = (uint8_t)((tmp & 0x40U) >> 6U);
 2164              		.loc 1 1593 0
 2165 005c 4F72     		strb	r7, [r1, #9]
1599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2166              		.loc 1 1599 0
 2167 005e 012D     		cmp	r5, #1
1594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.RdBlockMisalign = (uint8_t)((tmp & 0x20U) >> 5U);
 2168              		.loc 1 1594 0
 2169 0060 8E72     		strb	r6, [r1, #10]
1596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved2       = 0U; /*!< Reserved */
 2170              		.loc 1 1596 0
ARM GAS  /tmp/cceblRej.s 			page 108


 2171 0062 C3F30017 		ubfx	r7, r3, #4, #1
1595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.DSRImpl         = (uint8_t)((tmp & 0x10U) >> 4U);
 2172              		.loc 1 1595 0
 2173 0066 C872     		strb	r0, [r1, #11]
1597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2174              		.loc 1 1597 0
 2175 0068 4FF00000 		mov	r0, #0
1596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved2       = 0U; /*!< Reserved */
 2176              		.loc 1 1596 0
 2177 006c 0F73     		strb	r7, [r1, #12]
1597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2178              		.loc 1 1597 0
 2179 006e 4873     		strb	r0, [r1, #13]
1599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2180              		.loc 1 1599 0
 2181 0070 40F2A280 		bls	.L213
1628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2182              		.loc 1 1628 0
 2183 0074 022D     		cmp	r5, #2
 2184 0076 00F0DD80 		beq	.L211
 2185 007a 156B     		ldr	r5, [r2, #48]
1653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2186              		.loc 1 1653 0
 2187 007c 2920     		movs	r0, #41
 2188              	.L210:
 2189              	.LVL208:
1657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2190              		.loc 1 1657 0
 2191 007e 5B00     		lsls	r3, r3, #1
 2192              	.LVL209:
 2193 0080 03F07E03 		and	r3, r3, #126
1656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.EraseGrMul  = (tmp & 0x3FU) << 1U;
 2194              		.loc 1 1656 0
 2195 0084 4E76     		strb	r6, [r1, #25]
1657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2196              		.loc 1 1657 0
 2197 0086 8B76     		strb	r3, [r1, #26]
 2198              	.LVL210:
1661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrProtectGrSize = (tmp & 0x7FU);
 2199              		.loc 1 1661 0
 2200 0088 8B7E     		ldrb	r3, [r1, #26]	@ zero_extendqisi2
 2201 008a C5F3C014 		ubfx	r4, r5, #7, #1
 2202 008e 2343     		orrs	r3, r3, r4
1662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2203              		.loc 1 1662 0
 2204 0090 05F07F05 		and	r5, r5, #127
1661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrProtectGrSize = (tmp & 0x7FU);
 2205              		.loc 1 1661 0
 2206 0094 8B76     		strb	r3, [r1, #26]
 2207              	.LVL211:
1662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2208              		.loc 1 1662 0
 2209 0096 CD76     		strb	r5, [r1, #27]
1665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrProtectGrEnable = (tmp & 0x80U) >> 7U;
 2210              		.loc 1 1665 0
 2211 0098 536B     		ldr	r3, [r2, #52]
 2212              	.LVL212:
ARM GAS  /tmp/cceblRej.s 			page 109


1669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2213              		.loc 1 1669 0
 2214 009a 9C0D     		lsrs	r4, r3, #22
1666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.ManDeflECC        = (tmp & 0x60U) >> 5U;
 2215              		.loc 1 1666 0
 2216 009c DF0F     		lsrs	r7, r3, #31
1667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrSpeedFact       = (tmp & 0x1CU) >> 2U;
 2217              		.loc 1 1667 0
 2218 009e C3F34176 		ubfx	r6, r3, #29, #2
1668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.MaxWrBlockLen     = (tmp & 0x03U) << 2U;
 2219              		.loc 1 1668 0
 2220 00a2 C3F38265 		ubfx	r5, r3, #26, #3
1669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2221              		.loc 1 1669 0
 2222 00a6 04F00C04 		and	r4, r4, #12
1666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.ManDeflECC        = (tmp & 0x60U) >> 5U;
 2223              		.loc 1 1666 0
 2224 00aa 0F77     		strb	r7, [r1, #28]
1667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WrSpeedFact       = (tmp & 0x1CU) >> 2U;
 2225              		.loc 1 1667 0
 2226 00ac 4E77     		strb	r6, [r1, #29]
1668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.MaxWrBlockLen     = (tmp & 0x03U) << 2U;
 2227              		.loc 1 1668 0
 2228 00ae 8D77     		strb	r5, [r1, #30]
1669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2229              		.loc 1 1669 0
 2230 00b0 CC77     		strb	r4, [r1, #31]
 2231              	.LVL213:
1673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WriteBlockPaPartial = (tmp & 0x20U) >> 5U;
 2232              		.loc 1 1673 0
 2233 00b2 CC7F     		ldrb	r4, [r1, #31]	@ zero_extendqisi2
 2234 00b4 C3F38155 		ubfx	r5, r3, #22, #2
 2235 00b8 2C43     		orrs	r4, r4, r5
1674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved3           = 0U;
 2236              		.loc 1 1674 0
 2237 00ba C3F34057 		ubfx	r7, r3, #21, #1
1676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2238              		.loc 1 1676 0
 2239 00be C3F30045 		ubfx	r5, r3, #16, #1
1675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.ContentProtectAppli = (tmp & 0x01U);
 2240              		.loc 1 1675 0
 2241 00c2 0026     		movs	r6, #0
1673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.WriteBlockPaPartial = (tmp & 0x20U) >> 5U;
 2242              		.loc 1 1673 0
 2243 00c4 CC77     		strb	r4, [r1, #31]
1680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CopyFlag         = (tmp & 0x40U) >> 6U;
 2244              		.loc 1 1680 0
 2245 00c6 C3F3C038 		ubfx	r8, r3, #15, #1
1674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved3           = 0U;
 2246              		.loc 1 1674 0
 2247 00ca 81F82070 		strb	r7, [r1, #32]
1681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.PermWrProtect    = (tmp & 0x20U) >> 5U;
 2248              		.loc 1 1681 0
 2249 00ce C3F3803C 		ubfx	ip, r3, #14, #1
1675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.ContentProtectAppli = (tmp & 0x01U);
 2250              		.loc 1 1675 0
 2251 00d2 81F82160 		strb	r6, [r1, #33]
ARM GAS  /tmp/cceblRej.s 			page 110


1682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.TempWrProtect    = (tmp & 0x10U) >> 4U;
 2252              		.loc 1 1682 0
 2253 00d6 C3F3403E 		ubfx	lr, r3, #13, #1
1676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2254              		.loc 1 1676 0
 2255 00da 81F82250 		strb	r5, [r1, #34]
 2256              	.LVL214:
1683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.FileFormat       = (tmp & 0x0CU) >> 2U;
 2257              		.loc 1 1683 0
 2258 00de C3F30037 		ubfx	r7, r3, #12, #1
1684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.ECC              = (tmp & 0x03U);
 2259              		.loc 1 1684 0
 2260 00e2 C3F38126 		ubfx	r6, r3, #10, #2
1685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2261              		.loc 1 1685 0
 2262 00e6 C3F30125 		ubfx	r5, r3, #8, #2
1690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2263              		.loc 1 1690 0
 2264 00ea 0124     		movs	r4, #1
1689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved4 = 1U;
 2265              		.loc 1 1689 0
 2266 00ec C3F34603 		ubfx	r3, r3, #1, #7
 2267              	.LVL215:
1680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.CopyFlag         = (tmp & 0x40U) >> 6U;
 2268              		.loc 1 1680 0
 2269 00f0 81F82380 		strb	r8, [r1, #35]
1681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.PermWrProtect    = (tmp & 0x20U) >> 5U;
 2270              		.loc 1 1681 0
 2271 00f4 81F824C0 		strb	ip, [r1, #36]
1682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.TempWrProtect    = (tmp & 0x10U) >> 4U;
 2272              		.loc 1 1682 0
 2273 00f8 81F825E0 		strb	lr, [r1, #37]
1683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.FileFormat       = (tmp & 0x0CU) >> 2U;
 2274              		.loc 1 1683 0
 2275 00fc 81F82670 		strb	r7, [r1, #38]
1684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.ECC              = (tmp & 0x03U);
 2276              		.loc 1 1684 0
 2277 0100 81F82760 		strb	r6, [r1, #39]
1685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2278              		.loc 1 1685 0
 2279 0104 81F82850 		strb	r5, [r1, #40]
1689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_csd.Reserved4 = 1U;
 2280              		.loc 1 1689 0
 2281 0108 81F82930 		strb	r3, [r1, #41]
1690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2282              		.loc 1 1690 0
 2283 010c 81F82A40 		strb	r4, [r1, #42]
1693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ManufacturerID = tmp;
 2284              		.loc 1 1693 0
 2285 0110 956B     		ldr	r5, [r2, #56]
1698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2286              		.loc 1 1698 0
 2287 0112 C5F30743 		ubfx	r3, r5, #16, #8
1693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ManufacturerID = tmp;
 2288              		.loc 1 1693 0
 2289 0116 2E0E     		lsrs	r6, r5, #24
 2290              	.LVL216:
ARM GAS  /tmp/cceblRej.s 			page 111


1698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2291              		.loc 1 1698 0
 2292 0118 1B02     		lsls	r3, r3, #8
1694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2293              		.loc 1 1694 0
 2294 011a 81F82C60 		strb	r6, [r1, #44]
 2295              	.LVL217:
1698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2296              		.loc 1 1698 0
 2297 011e CB85     		strh	r3, [r1, #46]	@ movhi
 2298              	.LVL218:
1702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2299              		.loc 1 1702 0
 2300 0120 CE8D     		ldrh	r6, [r1, #46]
1709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName1 |= tmp << 16U;
 2301              		.loc 1 1709 0
 2302 0122 D36B     		ldr	r3, [r2, #60]
1702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2303              		.loc 1 1702 0
 2304 0124 C5F30727 		ubfx	r7, r5, #8, #8
 2305 0128 B6B2     		uxth	r6, r6
 2306 012a 3E43     		orrs	r6, r6, r7
 2307 012c 2D06     		lsls	r5, r5, #24
 2308              	.LVL219:
 2309 012e CE85     		strh	r6, [r1, #46]	@ movhi
 2310              	.LVL220:
1706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2311              		.loc 1 1706 0
 2312 0130 0D63     		str	r5, [r1, #48]
1710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2313              		.loc 1 1710 0
 2314 0132 0D6B     		ldr	r5, [r1, #48]
1709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName1 |= tmp << 16U;
 2315              		.loc 1 1709 0
 2316 0134 1E0E     		lsrs	r6, r3, #24
 2317              	.LVL221:
1710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2318              		.loc 1 1710 0
 2319 0136 45EA0645 		orr	r5, r5, r6, lsl #16
 2320 013a 0D63     		str	r5, [r1, #48]
 2321              	.LVL222:
1714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2322              		.loc 1 1714 0
 2323 013c 0E6B     		ldr	r6, [r1, #48]
 2324 013e 1D0A     		lsrs	r5, r3, #8
 2325 0140 05F47F45 		and	r5, r5, #65280
 2326 0144 3543     		orrs	r5, r5, r6
 2327 0146 0D63     		str	r5, [r1, #48]
 2328              	.LVL223:
1718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2329              		.loc 1 1718 0
 2330 0148 0E6B     		ldr	r6, [r1, #48]
 2331 014a C3F30725 		ubfx	r5, r3, #8, #8
 2332 014e 3543     		orrs	r5, r5, r6
1721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdName2 = tmp;
 2333              		.loc 1 1721 0
 2334 0150 DBB2     		uxtb	r3, r3
ARM GAS  /tmp/cceblRej.s 			page 112


 2335              	.LVL224:
1718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2336              		.loc 1 1718 0
 2337 0152 0D63     		str	r5, [r1, #48]
1722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2338              		.loc 1 1722 0
 2339 0154 81F83430 		strb	r3, [r1, #52]
 2340              	.LVL225:
1725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdRev = tmp;
 2341              		.loc 1 1725 0
 2342 0158 136C     		ldr	r3, [r2, #64]
1729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdSN = tmp << 24U;
 2343              		.loc 1 1729 0
 2344 015a 1D0C     		lsrs	r5, r3, #16
1725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdRev = tmp;
 2345              		.loc 1 1725 0
 2346 015c 1E0E     		lsrs	r6, r3, #24
 2347              	.LVL226:
 2348 015e 2D06     		lsls	r5, r5, #24
1726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2349              		.loc 1 1726 0
 2350 0160 81F83560 		strb	r6, [r1, #53]
 2351              	.LVL227:
1730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2352              		.loc 1 1730 0
 2353 0164 8D63     		str	r5, [r1, #56]
 2354              	.LVL228:
1734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2355              		.loc 1 1734 0
 2356 0166 8E6B     		ldr	r6, [r1, #56]
1741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ProdSN |= tmp;
 2357              		.loc 1 1741 0
 2358 0168 526C     		ldr	r2, [r2, #68]
 2359              	.LVL229:
1734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2360              		.loc 1 1734 0
 2361 016a 1D02     		lsls	r5, r3, #8
 2362 016c 05F47F05 		and	r5, r5, #16711680
 2363 0170 3543     		orrs	r5, r5, r6
 2364 0172 8D63     		str	r5, [r1, #56]
 2365              	.LVL230:
1738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2366              		.loc 1 1738 0
 2367 0174 8D6B     		ldr	r5, [r1, #56]
 2368 0176 1B02     		lsls	r3, r3, #8
 2369 0178 9BB2     		uxth	r3, r3
 2370 017a 2B43     		orrs	r3, r3, r5
 2371 017c 8B63     		str	r3, [r1, #56]
1742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2372              		.loc 1 1742 0
 2373 017e 8B6B     		ldr	r3, [r1, #56]
 2374 0180 43EA1263 		orr	r3, r3, r2, lsr #24
 2375 0184 8B63     		str	r3, [r1, #56]
 2376              	.LVL231:
1746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ManufactDate = (tmp & 0x0FU) << 8U;
 2377              		.loc 1 1746 0
 2378 0186 91F83C50 		ldrb	r5, [r1, #60]	@ zero_extendqisi2
ARM GAS  /tmp/cceblRej.s 			page 113


 2379 018a C2F30356 		ubfx	r6, r2, #20, #4
1747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2380              		.loc 1 1747 0
 2381 018e 130A     		lsrs	r3, r2, #8
1746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ManufactDate = (tmp & 0x0FU) << 8U;
 2382              		.loc 1 1746 0
 2383 0190 3543     		orrs	r5, r5, r6
1747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2384              		.loc 1 1747 0
 2385 0192 03F47063 		and	r3, r3, #3840
1746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.ManufactDate = (tmp & 0x0FU) << 8U;
 2386              		.loc 1 1746 0
 2387 0196 81F83C50 		strb	r5, [r1, #60]
1747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2388              		.loc 1 1747 0
 2389 019a CB87     		strh	r3, [r1, #62]	@ movhi
 2390              	.LVL232:
1751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2391              		.loc 1 1751 0
 2392 019c CB8F     		ldrh	r3, [r1, #62]
 2393 019e C2F30725 		ubfx	r5, r2, #8, #8
 2394 01a2 9BB2     		uxth	r3, r3
 2395 01a4 2B43     		orrs	r3, r3, r5
1755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.Reserved2 = 1U;
 2396              		.loc 1 1755 0
 2397 01a6 C2F34602 		ubfx	r2, r2, #1, #7
 2398              	.LVL233:
1751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2399              		.loc 1 1751 0
 2400 01aa CB87     		strh	r3, [r1, #62]	@ movhi
1755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->SD_cid.Reserved2 = 1U;
 2401              		.loc 1 1755 0
 2402 01ac 81F84020 		strb	r2, [r1, #64]
1756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2403              		.loc 1 1756 0
 2404 01b0 81F84140 		strb	r4, [r1, #65]
1759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2405              		.loc 1 1759 0
 2406 01b4 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 2407              	.LVL234:
 2408              	.L213:
1601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2409              		.loc 1 1601 0
 2410 01b8 9B02     		lsls	r3, r3, #10
 2411              	.LVL235:
 2412 01ba 03F44063 		and	r3, r3, #3072
 2413 01be 0B61     		str	r3, [r1, #16]
 2414              	.LVL236:
1605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2415              		.loc 1 1605 0
 2416 01c0 0B69     		ldr	r3, [r1, #16]
1608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSize |= (tmp & 0xC0U) >> 6U;
 2417              		.loc 1 1608 0
 2418 01c2 156B     		ldr	r5, [r2, #48]
 2419              	.LVL237:
1605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2420              		.loc 1 1605 0
ARM GAS  /tmp/cceblRej.s 			page 114


 2421 01c4 A400     		lsls	r4, r4, #2
 2422 01c6 04F47F74 		and	r4, r4, #1020
 2423 01ca 1C43     		orrs	r4, r4, r3
 2424 01cc 0C61     		str	r4, [r1, #16]
1609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2425              		.loc 1 1609 0
 2426 01ce 0C69     		ldr	r4, [r1, #16]
1618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 10 */
 2427              		.loc 1 1618 0
 2428 01d0 EB0B     		lsrs	r3, r5, #15
1609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2429              		.loc 1 1609 0
 2430 01d2 44EA9574 		orr	r4, r4, r5, lsr #30
1616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.MaxWrCurrentVDDMax = (tmp & 0x1CU) >> 2U;
 2431              		.loc 1 1616 0
 2432 01d6 C5F34257 		ubfx	r7, r5, #21, #3
1618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 10 */
 2433              		.loc 1 1618 0
 2434 01da 03F00603 		and	r3, r3, #6
1617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSizeMul      = (tmp & 0x03U) << 1U;
 2435              		.loc 1 1617 0
 2436 01de C5F38246 		ubfx	r6, r5, #18, #3
1611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.MaxRdCurrentVDDMax = (tmp & 0x07U);
 2437              		.loc 1 1611 0
 2438 01e2 C5F3C26C 		ubfx	ip, r5, #27, #3
1612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2439              		.loc 1 1612 0
 2440 01e6 C5F3026E 		ubfx	lr, r5, #24, #3
1609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2441              		.loc 1 1609 0
 2442 01ea 0C61     		str	r4, [r1, #16]
1611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.MaxRdCurrentVDDMax = (tmp & 0x07U);
 2443              		.loc 1 1611 0
 2444 01ec 81F814C0 		strb	ip, [r1, #20]
1612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2445              		.loc 1 1612 0
 2446 01f0 81F815E0 		strb	lr, [r1, #21]
 2447              	.LVL238:
1616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.MaxWrCurrentVDDMax = (tmp & 0x1CU) >> 2U;
 2448              		.loc 1 1616 0
 2449 01f4 8F75     		strb	r7, [r1, #22]
1617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->SD_csd.DeviceSizeMul      = (tmp & 0x03U) << 1U;
 2450              		.loc 1 1617 0
 2451 01f6 CE75     		strb	r6, [r1, #23]
1618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 10 */
 2452              		.loc 1 1618 0
 2453 01f8 0B76     		strb	r3, [r1, #24]
1621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2454              		.loc 1 1621 0
 2455 01fa 0B7E     		ldrb	r3, [r1, #24]	@ zero_extendqisi2
 2456 01fc C5F3C034 		ubfx	r4, r5, #15, #1
 2457 0200 2343     		orrs	r3, r3, r4
 2458 0202 0B76     		strb	r3, [r1, #24]
1623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity *= (1U << (pCardInfo->SD_csd.DeviceSizeMul + 2U));
 2459              		.loc 1 1623 0
 2460 0204 0E69     		ldr	r6, [r1, #16]
1624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardBlockSize = 1U << (pCardInfo->SD_csd.RdBlockLen);
ARM GAS  /tmp/cceblRej.s 			page 115


 2461              		.loc 1 1624 0
 2462 0206 0F7E     		ldrb	r7, [r1, #24]	@ zero_extendqisi2
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity *= pCardInfo->CardBlockSize;
 2463              		.loc 1 1625 0
 2464 0208 0C7A     		ldrb	r4, [r1, #8]	@ zero_extendqisi2
 2465 020a 0123     		movs	r3, #1
1623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity *= (1U << (pCardInfo->SD_csd.DeviceSizeMul + 2U));
 2466              		.loc 1 1623 0
 2467 020c 06EB0308 		add	r8, r6, r3
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity *= pCardInfo->CardBlockSize;
 2468              		.loc 1 1625 0
 2469 0210 03FA04F4 		lsl	r4, r3, r4
1624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardBlockSize = 1U << (pCardInfo->SD_csd.RdBlockLen);
 2470              		.loc 1 1624 0
 2471 0214 BE1C     		adds	r6, r7, #2
 2472 0216 B340     		lsls	r3, r3, r6
1626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2473              		.loc 1 1626 0
 2474 0218 A8FB0489 		umull	r8, r9, r8, r4
 2475 021c A8FB0367 		umull	r6, r7, r8, r3
 2476 0220 03FB0977 		mla	r7, r3, r9, r7
 2477 0224 C5F30723 		ubfx	r3, r5, #8, #8
 2478              	.LVL239:
 2479 0228 C1E91267 		strd	r6, [r1, #72]
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardCapacity *= pCardInfo->CardBlockSize;
 2480              		.loc 1 1625 0
 2481 022c 0C65     		str	r4, [r1, #80]
 2482 022e C3F38016 		ubfx	r6, r3, #6, #1
 2483 0232 24E7     		b	.L210
 2484              	.L211:
 2485              	.LVL240:
1632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2486              		.loc 1 1632 0
 2487 0234 2404     		lsls	r4, r4, #16
 2488              	.LVL241:
 2489 0236 04F47C14 		and	r4, r4, #4128768
1635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2490              		.loc 1 1635 0
 2491 023a 156B     		ldr	r5, [r2, #48]
 2492              	.LVL242:
1632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2493              		.loc 1 1632 0
 2494 023c 0C61     		str	r4, [r1, #16]
1637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2495              		.loc 1 1637 0
 2496 023e 0B69     		ldr	r3, [r1, #16]
1635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2497              		.loc 1 1635 0
 2498 0240 2C0E     		lsrs	r4, r5, #24
 2499              	.LVL243:
1637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2500              		.loc 1 1637 0
 2501 0242 43EA0423 		orr	r3, r3, r4, lsl #8
 2502 0246 0B61     		str	r3, [r1, #16]
 2503              	.LVL244:
1642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2504              		.loc 1 1642 0
ARM GAS  /tmp/cceblRej.s 			page 116


 2505 0248 0C69     		ldr	r4, [r1, #16]
 2506 024a C5F30743 		ubfx	r3, r5, #16, #8
 2507 024e 2343     		orrs	r3, r3, r4
 2508 0250 0B61     		str	r3, [r1, #16]
1647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardBlockSize = 512U;    
 2509              		.loc 1 1647 0
 2510 0252 0E69     		ldr	r6, [r1, #16]
 2511 0254 0027     		movs	r7, #0
 2512 0256 0136     		adds	r6, r6, #1
 2513 0258 47F10007 		adc	r7, r7, #0
 2514 025c FC04     		lsls	r4, r7, #19
 2515 025e 44EA5634 		orr	r4, r4, r6, lsr #13
 2516 0262 C5F30723 		ubfx	r3, r5, #8, #8
 2517              	.LVL245:
 2518 0266 F604     		lsls	r6, r6, #19
1648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2519              		.loc 1 1648 0
 2520 0268 4FF40077 		mov	r7, #512
1647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCardInfo->CardBlockSize = 512U;    
 2521              		.loc 1 1647 0
 2522 026c 8E64     		str	r6, [r1, #72]
 2523 026e CC64     		str	r4, [r1, #76]
 2524 0270 C3F38016 		ubfx	r6, r3, #6, #1
1648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2525              		.loc 1 1648 0
 2526 0274 0F65     		str	r7, [r1, #80]
 2527 0276 02E7     		b	.L210
 2528              		.cfi_endproc
 2529              	.LFE144:
 2531              		.section	.text.HAL_SD_Init,"ax",%progbits
 2532              		.align	1
 2533              		.p2align 2,,3
 2534              		.global	HAL_SD_Init
 2535              		.syntax unified
 2536              		.thumb
 2537              		.thumb_func
 2538              		.fpu fpv4-sp-d16
 2540              	HAL_SD_Init:
 2541              	.LFB126:
 343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __IO HAL_SD_ErrorTypedef errorstate = SD_OK;
 2542              		.loc 1 343 0
 2543              		.cfi_startproc
 2544              		@ args = 0, pretend = 0, frame = 48
 2545              		@ frame_needed = 0, uses_anonymous_args = 0
 2546              	.LVL246:
 2547 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2548              	.LCFI36:
 2549              		.cfi_def_cfa_offset 36
 2550              		.cfi_offset 4, -36
 2551              		.cfi_offset 5, -32
 2552              		.cfi_offset 6, -28
 2553              		.cfi_offset 7, -24
 2554              		.cfi_offset 8, -20
 2555              		.cfi_offset 9, -16
 2556              		.cfi_offset 10, -12
 2557              		.cfi_offset 11, -8
 2558              		.cfi_offset 14, -4
ARM GAS  /tmp/cceblRej.s 			page 117


 344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_InitTypeDef tmpinit;
 2559              		.loc 1 344 0
 2560 0004 0026     		movs	r6, #0
 343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __IO HAL_SD_ErrorTypedef errorstate = SD_OK;
 2561              		.loc 1 343 0
 2562 0006 91B0     		sub	sp, sp, #68
 2563              	.LCFI37:
 2564              		.cfi_def_cfa_offset 104
 348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize the low level hardware (MSP) */
 2565              		.loc 1 348 0
 2566 0008 0677     		strb	r6, [r0, #28]
 343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __IO HAL_SD_ErrorTypedef errorstate = SD_OK;
 2567              		.loc 1 343 0
 2568 000a 0446     		mov	r4, r0
 2569 000c 0D46     		mov	r5, r1
 344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_InitTypeDef tmpinit;
 2570              		.loc 1 344 0
 2571 000e 8DF81260 		strb	r6, [sp, #18]
 350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2572              		.loc 1 350 0
 2573 0012 FFF7FEFF 		bl	HAL_SD_MspInit
 2574              	.LVL247:
 358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2575              		.loc 1 358 0
 2576 0016 7623     		movs	r3, #118
 356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.HardwareFlowControl = SDIO_HARDWARE_FLOW_CONTROL_DISABLE;
 2577              		.loc 1 356 0
 2578 0018 0D96     		str	r6, [sp, #52]
 357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.ClockDiv            = SDIO_INIT_CLK_DIV;
 2579              		.loc 1 357 0
 2580 001a 0E96     		str	r6, [sp, #56]
 358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2581              		.loc 1 358 0
 2582 001c 0F93     		str	r3, [sp, #60]
 361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2583              		.loc 1 361 0
 2584 001e 10AB     		add	r3, sp, #64
 2585 0020 13E90700 		ldmdb	r3, {r0, r1, r2}
 2586 0024 D4F800E0 		ldr	lr, [r4]
 353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.ClockBypass         = SDIO_CLOCK_BYPASS_DISABLE;
 2587              		.loc 1 353 0
 2588 0028 0A96     		str	r6, [sp, #40]
 361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2589              		.loc 1 361 0
 2590 002a 8DE80700 		stm	sp, {r0, r1, r2}
 354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.ClockPowerSave      = SDIO_CLOCK_POWER_SAVE_DISABLE;
 2591              		.loc 1 354 0
 2592 002e 0B96     		str	r6, [sp, #44]
 355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmpinit.BusWide             = SDIO_BUS_WIDE_1B;
 2593              		.loc 1 355 0
 2594 0030 0C96     		str	r6, [sp, #48]
 2595              	.LBB40:
 2596              	.LBB41:
2511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2597              		.loc 1 2511 0
 2598 0032 B84F     		ldr	r7, .L307
 2599              	.LBE41:
ARM GAS  /tmp/cceblRej.s 			page 118


 2600              	.LBE40:
 361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2601              		.loc 1 361 0
 2602 0034 0AAB     		add	r3, sp, #40
 2603 0036 0ECB     		ldm	r3, {r1, r2, r3}
 2604 0038 7046     		mov	r0, lr
 2605 003a FFF7FEFF 		bl	SDIO_Init
 2606              	.LVL248:
 2607              	.LBB62:
 2608              	.LBB58:
2505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t response = 0U, count = 0U, validvoltage = 0U;
 2609              		.loc 1 2505 0
 2610 003e 8DF81360 		strb	r6, [sp, #19]
 2611              	.LVL249:
2514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2612              		.loc 1 2514 0
 2613 0042 2068     		ldr	r0, [r4]
2511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2614              		.loc 1 2511 0
 2615 0044 3E60     		str	r6, [r7]
2514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2616              		.loc 1 2514 0
 2617 0046 FFF7FEFF 		bl	SDIO_PowerState_ON
 2618              	.LVL250:
2518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2619              		.loc 1 2518 0
 2620 004a 0120     		movs	r0, #1
 2621 004c FFF7FEFF 		bl	HAL_Delay
 2622              	.LVL251:
2521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2623              		.loc 1 2521 0
 2624 0050 0123     		movs	r3, #1
 2625 0052 3B60     		str	r3, [r7]
2530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2626              		.loc 1 2530 0
 2627 0054 2068     		ldr	r0, [r4]
2525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_GO_IDLE_STATE;
 2628              		.loc 1 2525 0
 2629 0056 0596     		str	r6, [sp, #20]
2529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2630              		.loc 1 2529 0
 2631 0058 4FF48063 		mov	r3, #1024
2530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2632              		.loc 1 2530 0
 2633 005c 05A9     		add	r1, sp, #20
2526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_NO;
 2634              		.loc 1 2526 0
 2635 005e 0696     		str	r6, [sp, #24]
2527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 2636              		.loc 1 2527 0
 2637 0060 0796     		str	r6, [sp, #28]
2528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 2638              		.loc 1 2528 0
 2639 0062 0896     		str	r6, [sp, #32]
2529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2640              		.loc 1 2529 0
 2641 0064 0993     		str	r3, [sp, #36]
ARM GAS  /tmp/cceblRej.s 			page 119


2530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2642              		.loc 1 2530 0
 2643 0066 FFF7FEFF 		bl	SDIO_SendCommand
 2644              	.LVL252:
 2645              	.LBB42:
 2646              	.LBB43:
2706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2647              		.loc 1 2706 0
 2648 006a 2068     		ldr	r0, [r4]
 2649 006c 436B     		ldr	r3, [r0, #52]
 2650              	.LVL253:
2708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2651              		.loc 1 2708 0
 2652 006e 1E06     		lsls	r6, r3, #24
 2653 0070 00F1A780 		bmi	.L215
2710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
 2654              		.loc 1 2710 0
 2655 0074 436B     		ldr	r3, [r0, #52]
 2656              	.LVL254:
 2657 0076 4FF6FF72 		movw	r2, #65535
 2658 007a C3F3C013 		ubfx	r3, r3, #7, #1
 2659              	.LVL255:
 2660              	.L216:
2708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2661              		.loc 1 2708 0
 2662 007e 002B     		cmp	r3, #0
 2663 0080 40F09F80 		bne	.L215
2710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
 2664              		.loc 1 2710 0
 2665 0084 436B     		ldr	r3, [r0, #52]
 2666              	.LVL256:
2708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2667              		.loc 1 2708 0
 2668 0086 013A     		subs	r2, r2, #1
 2669              	.LVL257:
2710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
 2670              		.loc 1 2710 0
 2671 0088 C3F3C013 		ubfx	r3, r3, #7, #1
 2672              	.LVL258:
2708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2673              		.loc 1 2708 0
 2674 008c F7D1     		bne	.L216
2717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2675              		.loc 1 2717 0
 2676 008e 0323     		movs	r3, #3
 2677              	.LVL259:
 2678              	.LBE43:
 2679              	.LBE42:
2533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2680              		.loc 1 2533 0
 2681 0090 8DF81330 		strb	r3, [sp, #19]
2535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2682              		.loc 1 2535 0
 2683 0094 9DF81330 		ldrb	r3, [sp, #19]	@ zero_extendqisi2
 2684 0098 002B     		cmp	r3, #0
 2685 009a 40F09D80 		bne	.L230
 2686              	.L300:
ARM GAS  /tmp/cceblRej.s 			page 120


2549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2687              		.loc 1 2549 0
 2688 009e 4023     		movs	r3, #64
2548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 2689              		.loc 1 2548 0
 2690 00a0 0822     		movs	r2, #8
2547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_SDIO_SEND_IF_COND;
 2691              		.loc 1 2547 0
 2692 00a2 4FF4D576 		mov	r6, #426
2550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2693              		.loc 1 2550 0
 2694 00a6 05A9     		add	r1, sp, #20
2549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2695              		.loc 1 2549 0
 2696 00a8 0793     		str	r3, [sp, #28]
2547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_SDIO_SEND_IF_COND;
 2697              		.loc 1 2547 0
 2698 00aa 0596     		str	r6, [sp, #20]
2548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 2699              		.loc 1 2548 0
 2700 00ac 0692     		str	r2, [sp, #24]
2550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2701              		.loc 1 2550 0
 2702 00ae FFF7FEFF 		bl	SDIO_SendCommand
 2703              	.LVL260:
 2704              	.LBB45:
 2705              	.LBB46:
2736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2706              		.loc 1 2736 0
 2707 00b2 2068     		ldr	r0, [r4]
 2708 00b4 436B     		ldr	r3, [r0, #52]
 2709              	.LVL261:
2738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2710              		.loc 1 2738 0
 2711 00b6 13F0450F 		tst	r3, #69
 2712 00ba 40F05481 		bne	.L221
 2713 00be 4FF48033 		mov	r3, #65536
 2714              	.LVL262:
 2715 00c2 02E0     		b	.L223
 2716              	.LVL263:
 2717              	.L296:
 2718 00c4 002B     		cmp	r3, #0
 2719 00c6 00F02B81 		beq	.L295
 2720              	.LVL264:
 2721              	.L223:
2740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
 2722              		.loc 1 2740 0
 2723 00ca 426B     		ldr	r2, [r0, #52]
 2724              	.LVL265:
2738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2725              		.loc 1 2738 0
 2726 00cc 12F0450F 		tst	r2, #69
2741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2727              		.loc 1 2741 0
 2728 00d0 03F1FF33 		add	r3, r3, #-1
 2729              	.LVL266:
2738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  /tmp/cceblRej.s 			page 121


 2730              		.loc 1 2738 0
 2731 00d4 F6D0     		beq	.L296
2744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2732              		.loc 1 2744 0
 2733 00d6 426B     		ldr	r2, [r0, #52]
 2734              	.LVL267:
2746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2735              		.loc 1 2746 0
 2736 00d8 002B     		cmp	r3, #0
 2737 00da 40F0BB80 		bne	.L297
 2738              	.LVL268:
 2739              	.L225:
2751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2740              		.loc 1 2751 0
 2741 00de 0423     		movs	r3, #4
 2742 00e0 8363     		str	r3, [r0, #56]
2753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2743              		.loc 1 2753 0
 2744 00e2 0323     		movs	r3, #3
 2745              	.LVL269:
 2746              	.L227:
 2747              	.LBE46:
 2748              	.LBE45:
2553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2749              		.loc 1 2553 0
 2750 00e4 8DF81330 		strb	r3, [sp, #19]
2555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2751              		.loc 1 2555 0
 2752 00e8 9DF81330 		ldrb	r3, [sp, #19]	@ zero_extendqisi2
 2753 00ec 002B     		cmp	r3, #0
 2754 00ee 00F0AC80 		beq	.L298
2507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2755              		.loc 1 2507 0
 2756 00f2 4FF00008 		mov	r8, #0
 2757              	.LVL270:
 2758              	.L228:
2563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 2759              		.loc 1 2563 0
 2760 00f6 0023     		movs	r3, #0
2564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2761              		.loc 1 2564 0
 2762 00f8 3726     		movs	r6, #55
2565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2763              		.loc 1 2565 0
 2764 00fa 05A9     		add	r1, sp, #20
2563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 2765              		.loc 1 2563 0
 2766 00fc 0593     		str	r3, [sp, #20]
2564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2767              		.loc 1 2564 0
 2768 00fe 0696     		str	r6, [sp, #24]
2565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2769              		.loc 1 2565 0
 2770 0100 FFF7FEFF 		bl	SDIO_SendCommand
 2771              	.LVL271:
2568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2772              		.loc 1 2568 0
ARM GAS  /tmp/cceblRej.s 			page 122


 2773 0104 3146     		mov	r1, r6
 2774 0106 2046     		mov	r0, r4
 2775 0108 FFF7FEFF 		bl	SD_CmdResp1Error
 2776              	.LVL272:
 2777 010c 8DF81300 		strb	r0, [sp, #19]
2573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2778              		.loc 1 2573 0
 2779 0110 9DF81330 		ldrb	r3, [sp, #19]	@ zero_extendqisi2
 2780 0114 03F0FF06 		and	r6, r3, #255
 2781 0118 002B     		cmp	r3, #0
 2782 011a 5DD1     		bne	.L230
2597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_APP_OP_COND;
 2783              		.loc 1 2597 0
 2784 011c 48F00048 		orr	r8, r8, #-2147483648
 2785              	.LVL273:
 2786 0120 48F48018 		orr	r8, r8, #1048576
2581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 2787              		.loc 1 2581 0
 2788 0124 3746     		mov	r7, r6
 2789              	.LVL274:
 2790              	.L239:
2582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 2791              		.loc 1 2582 0
 2792 0126 4FF03709 		mov	r9, #55
2586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 2793              		.loc 1 2586 0
 2794 012a 05A9     		add	r1, sp, #20
2583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 2795              		.loc 1 2583 0
 2796 012c 4FF0400B 		mov	fp, #64
2585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2797              		.loc 1 2585 0
 2798 0130 4FF4806A 		mov	r10, #1024
2586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 2799              		.loc 1 2586 0
 2800 0134 2068     		ldr	r0, [r4]
2581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 2801              		.loc 1 2581 0
 2802 0136 0597     		str	r7, [sp, #20]
2584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 2803              		.loc 1 2584 0
 2804 0138 0897     		str	r7, [sp, #32]
2582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 2805              		.loc 1 2582 0
 2806 013a CDF81890 		str	r9, [sp, #24]
2583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 2807              		.loc 1 2583 0
 2808 013e CDF81CB0 		str	fp, [sp, #28]
2585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2809              		.loc 1 2585 0
 2810 0142 CDF824A0 		str	r10, [sp, #36]
2586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 2811              		.loc 1 2586 0
 2812 0146 FFF7FEFF 		bl	SDIO_SendCommand
 2813              	.LVL275:
2589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 2814              		.loc 1 2589 0
ARM GAS  /tmp/cceblRej.s 			page 123


 2815 014a 4946     		mov	r1, r9
 2816 014c 2046     		mov	r0, r4
 2817 014e FFF7FEFF 		bl	SD_CmdResp1Error
 2818              	.LVL276:
 2819 0152 8DF81300 		strb	r0, [sp, #19]
2591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 2820              		.loc 1 2591 0
 2821 0156 9DF81330 		ldrb	r3, [sp, #19]	@ zero_extendqisi2
 2822 015a 03F0FF02 		and	r2, r3, #255
 2823 015e 002B     		cmp	r3, #0
 2824 0160 3AD1     		bne	.L230
2598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 2825              		.loc 1 2598 0
 2826 0162 2923     		movs	r3, #41
2602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 2827              		.loc 1 2602 0
 2828 0164 05A9     		add	r1, sp, #20
 2829 0166 2068     		ldr	r0, [r4]
2600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 2830              		.loc 1 2600 0
 2831 0168 0892     		str	r2, [sp, #32]
2597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_APP_OP_COND;
 2832              		.loc 1 2597 0
 2833 016a CDF81480 		str	r8, [sp, #20]
2599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 2834              		.loc 1 2599 0
 2835 016e CDF81CB0 		str	fp, [sp, #28]
2601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 2836              		.loc 1 2601 0
 2837 0172 CDF824A0 		str	r10, [sp, #36]
2598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 2838              		.loc 1 2598 0
 2839 0176 0693     		str	r3, [sp, #24]
2602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 2840              		.loc 1 2602 0
 2841 0178 FFF7FEFF 		bl	SDIO_SendCommand
 2842              	.LVL277:
 2843 017c 2268     		ldr	r2, [r4]
 2844              	.L232:
 2845              	.LBB50:
 2846              	.LBB51:
2927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2847              		.loc 1 2927 0
 2848 017e 536B     		ldr	r3, [r2, #52]
 2849 0180 13F0450F 		tst	r3, #69
 2850 0184 FBD0     		beq	.L232
2931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2851              		.loc 1 2931 0
 2852 0186 536B     		ldr	r3, [r2, #52]
 2853 0188 13F00403 		ands	r3, r3, #4
 2854 018c 6ED0     		beq	.L233
 2855              	.LVL278:
2935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 2856              		.loc 1 2935 0
 2857 018e 0423     		movs	r3, #4
 2858 0190 9363     		str	r3, [r2, #56]
2937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  /tmp/cceblRej.s 			page 124


 2859              		.loc 1 2937 0
 2860 0192 0323     		movs	r3, #3
 2861              	.LVL279:
 2862              	.L234:
 2863              	.LBE51:
 2864              	.LBE50:
2605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 2865              		.loc 1 2605 0
 2866 0194 8DF81330 		strb	r3, [sp, #19]
2607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 2867              		.loc 1 2607 0
 2868 0198 9DF81330 		ldrb	r3, [sp, #19]	@ zero_extendqisi2
 2869 019c 03F0FF00 		and	r0, r3, #255
 2870 01a0 D3B9     		cbnz	r3, .L230
2613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 2871              		.loc 1 2613 0
 2872 01a2 FFF7FEFF 		bl	SDIO_GetResponse
 2873              	.LVL280:
2616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 2874              		.loc 1 2616 0
 2875 01a6 0028     		cmp	r0, #0
 2876 01a8 64DB     		blt	.L299
2618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2877              		.loc 1 2618 0
 2878 01aa 0136     		adds	r6, r6, #1
 2879              	.LVL281:
2577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2880              		.loc 1 2577 0
 2881 01ac 4FF6FF73 		movw	r3, #65535
 2882 01b0 9E42     		cmp	r6, r3
 2883 01b2 B8D1     		bne	.L239
 2884              	.LVL282:
 2885              	.L237:
2623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 2886              		.loc 1 2623 0
 2887 01b4 1B23     		movs	r3, #27
 2888 01b6 8DF81330 		strb	r3, [sp, #19]
2625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2889              		.loc 1 2625 0
 2890 01ba 9DF81330 		ldrb	r3, [sp, #19]	@ zero_extendqisi2
 2891 01be DBB2     		uxtb	r3, r3
 2892 01c0 0DE0     		b	.L220
 2893              	.LVL283:
 2894              	.L215:
 2895              	.LBB53:
 2896              	.LBB44:
2721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2897              		.loc 1 2721 0
 2898 01c2 40F2FF53 		movw	r3, #1535
 2899 01c6 8363     		str	r3, [r0, #56]
2723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 2900              		.loc 1 2723 0
 2901 01c8 0023     		movs	r3, #0
 2902              	.LBE44:
 2903              	.LBE53:
2533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2904              		.loc 1 2533 0
ARM GAS  /tmp/cceblRej.s 			page 125


 2905 01ca 8DF81330 		strb	r3, [sp, #19]
2535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2906              		.loc 1 2535 0
 2907 01ce 9DF81330 		ldrb	r3, [sp, #19]	@ zero_extendqisi2
 2908 01d2 002B     		cmp	r3, #0
 2909 01d4 3FF463AF 		beq	.L300
 2910              	.LVL284:
 2911              	.L230:
2635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 2912              		.loc 1 2635 0
 2913 01d8 9DF81330 		ldrb	r3, [sp, #19]	@ zero_extendqisi2
 2914 01dc DBB2     		uxtb	r3, r3
 2915              	.L220:
 2916              	.LVL285:
 2917              	.LBE58:
 2918              	.LBE62:
 364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2919              		.loc 1 364 0
 2920 01de 8DF81230 		strb	r3, [sp, #18]
 366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2921              		.loc 1 366 0
 2922 01e2 9DF81230 		ldrb	r3, [sp, #18]	@ zero_extendqisi2
 2923 01e6 03F0FF06 		and	r6, r3, #255
 2924 01ea 2BB1     		cbz	r3, .L301
 2925              	.L293:
 391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 2926              		.loc 1 391 0
 2927 01ec 9DF81200 		ldrb	r0, [sp, #18]	@ zero_extendqisi2
 2928 01f0 C0B2     		uxtb	r0, r0
 392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2929              		.loc 1 392 0
 2930 01f2 11B0     		add	sp, sp, #68
 2931              	.LCFI38:
 2932              		.cfi_remember_state
 2933              		.cfi_def_cfa_offset 36
 2934              		@ sp needed
 2935 01f4 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2936              	.LVL286:
 2937              	.L301:
 2938              	.LCFI39:
 2939              		.cfi_restore_state
 2940              	.LBB63:
 2941              	.LBB64:
2390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2942              		.loc 1 2390 0
 2943 01f8 2068     		ldr	r0, [r4]
 2944 01fa FFF7FEFF 		bl	SDIO_GetPowerState
 2945              	.LVL287:
 2946 01fe 0028     		cmp	r0, #0
 2947 0200 41D1     		bne	.L302
2394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2948              		.loc 1 2394 0
 2949 0202 2526     		movs	r6, #37
 2950              	.LVL288:
 2951              	.L243:
 2952              	.LBE64:
 2953              	.LBE63:
ARM GAS  /tmp/cceblRej.s 			page 126


 372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2954              		.loc 1 372 0
 2955 0204 8DF81260 		strb	r6, [sp, #18]
 374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2956              		.loc 1 374 0
 2957 0208 9DF81230 		ldrb	r3, [sp, #18]	@ zero_extendqisi2
 2958 020c 002B     		cmp	r3, #0
 2959 020e EDD1     		bne	.L293
 380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2960              		.loc 1 380 0
 2961 0210 2946     		mov	r1, r5
 2962 0212 2046     		mov	r0, r4
 2963 0214 FFF7FEFF 		bl	HAL_SD_Get_CardInfo
 2964              	.LVL289:
 2965 0218 8DF81200 		strb	r0, [sp, #18]
 382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2966              		.loc 1 382 0
 2967 021c 9DF81230 		ldrb	r3, [sp, #18]	@ zero_extendqisi2
 2968 0220 03F0FF02 		and	r2, r3, #255
 2969 0224 002B     		cmp	r3, #0
 2970 0226 7DD0     		beq	.L303
 2971              	.LVL290:
 2972              	.L259:
 389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 2973              		.loc 1 389 0
 2974 0228 231D     		adds	r3, r4, #4
 2975 022a 54F8105B 		ldr	r5, [r4], #16
 2976              	.LVL291:
 2977 022e 94E80700 		ldm	r4, {r0, r1, r2}
 2978 0232 8DE80700 		stm	sp, {r0, r1, r2}
 2979 0236 2846     		mov	r0, r5
 2980 0238 0ECB     		ldm	r3, {r1, r2, r3}
 2981 023a FFF7FEFF 		bl	SDIO_Init
 2982              	.LVL292:
 391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 2983              		.loc 1 391 0
 2984 023e 9DF81200 		ldrb	r0, [sp, #18]	@ zero_extendqisi2
 2985 0242 C0B2     		uxtb	r0, r0
 392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2986              		.loc 1 392 0
 2987 0244 11B0     		add	sp, sp, #68
 2988              	.LCFI40:
 2989              		.cfi_remember_state
 2990              		.cfi_def_cfa_offset 36
 2991              		@ sp needed
 2992 0246 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2993              	.LVL293:
 2994              	.L298:
 2995              	.LCFI41:
 2996              		.cfi_restore_state
 2997              	.LBB84:
 2998              	.LBB59:
2558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdtype        = SD_HIGH_CAPACITY;
 2999              		.loc 1 2558 0
 3000 024a 0123     		movs	r3, #1
 3001 024c 2362     		str	r3, [r4, #32]
 3002              	.LVL294:
ARM GAS  /tmp/cceblRej.s 			page 127


2559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3003              		.loc 1 2559 0
 3004 024e 4FF08048 		mov	r8, #1073741824
 3005 0252 50E7     		b	.L228
 3006              	.LVL295:
 3007              	.L297:
 3008              	.LBB54:
 3009              	.LBB47:
2744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3010              		.loc 1 2744 0
 3011 0254 02F00403 		and	r3, r2, #4
 3012              	.LVL296:
2746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3013              		.loc 1 2746 0
 3014 0258 002B     		cmp	r3, #0
 3015 025a 7FF440AF 		bne	.L225
 3016              	.LVL297:
 3017              	.L226:
2756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3018              		.loc 1 2756 0
 3019 025e 426B     		ldr	r2, [r0, #52]
 3020 0260 5106     		lsls	r1, r2, #25
 3021              	.LVL298:
2761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3022              		.loc 1 2761 0
 3023 0262 46BF     		itte	mi
 3024 0264 4022     		movmi	r2, #64
 3025 0266 8263     		strmi	r2, [r0, #56]
2766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 3026              		.loc 1 2766 0
 3027 0268 2923     		movpl	r3, #41
 3028 026a 3BE7     		b	.L227
 3029              	.LVL299:
 3030              	.L233:
 3031              	.LBE47:
 3032              	.LBE54:
 3033              	.LBB55:
 3034              	.LBB52:
2941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3035              		.loc 1 2941 0
 3036 026c 40F2FF51 		movw	r1, #1535
 3037 0270 9163     		str	r1, [r2, #56]
 3038 0272 8FE7     		b	.L234
 3039              	.LVL300:
 3040              	.L299:
 3041              	.LBE52:
 3042              	.LBE55:
2621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3043              		.loc 1 2621 0
 3044 0274 4FF6FE73 		movw	r3, #65534
 3045 0278 9E42     		cmp	r6, r3
 3046 027a 9BD0     		beq	.L237
2628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3047              		.loc 1 2628 0
 3048 027c 4200     		lsls	r2, r0, #1
2630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3049              		.loc 1 2630 0
ARM GAS  /tmp/cceblRej.s 			page 128


 3050 027e 44BF     		itt	mi
 3051 0280 0223     		movmi	r3, #2
 3052 0282 2362     		strmi	r3, [r4, #32]
 3053 0284 A8E7     		b	.L230
 3054              	.LVL301:
 3055              	.L302:
 3056              	.LBE59:
 3057              	.LBE84:
 3058              	.LBB85:
 3059              	.LBB81:
2397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3060              		.loc 1 2397 0
 3061 0286 236A     		ldr	r3, [r4, #32]
 3062 0288 042B     		cmp	r3, #4
 3063 028a BBD0     		beq	.L243
2402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 3064              		.loc 1 2402 0
 3065 028c C022     		movs	r2, #192
2404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3066              		.loc 1 2404 0
 3067 028e 4FF48063 		mov	r3, #1024
2401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_LONG;
 3068              		.loc 1 2401 0
 3069 0292 0227     		movs	r7, #2
2405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3070              		.loc 1 2405 0
 3071 0294 05A9     		add	r1, sp, #20
 3072 0296 2068     		ldr	r0, [r4]
2402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 3073              		.loc 1 2402 0
 3074 0298 0792     		str	r2, [sp, #28]
2400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_ALL_SEND_CID;
 3075              		.loc 1 2400 0
 3076 029a 0596     		str	r6, [sp, #20]
2403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 3077              		.loc 1 2403 0
 3078 029c 0896     		str	r6, [sp, #32]
2401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_LONG;
 3079              		.loc 1 2401 0
 3080 029e 0697     		str	r7, [sp, #24]
2404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3081              		.loc 1 2404 0
 3082 02a0 0993     		str	r3, [sp, #36]
2405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3083              		.loc 1 2405 0
 3084 02a2 FFF7FEFF 		bl	SDIO_SendCommand
 3085              	.LVL302:
 3086 02a6 2268     		ldr	r2, [r4]
 3087              	.L244:
 3088              	.LBB65:
 3089              	.LBB66:
2955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3090              		.loc 1 2955 0
 3091 02a8 536B     		ldr	r3, [r2, #52]
 3092 02aa 13F0450F 		tst	r3, #69
 3093 02ae FBD0     		beq	.L244
2959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  /tmp/cceblRej.s 			page 129


 3094              		.loc 1 2959 0
 3095 02b0 536B     		ldr	r3, [r2, #52]
 3096 02b2 5B07     		lsls	r3, r3, #29
 3097 02b4 30D4     		bmi	.L291
2967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3098              		.loc 1 2967 0
 3099 02b6 506B     		ldr	r0, [r2, #52]
 3100 02b8 10F00100 		ands	r0, r0, #1
 3101 02bc 49D1     		bne	.L292
2981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3102              		.loc 1 2981 0
 3103 02be 40F2FF53 		movw	r3, #1535
 3104 02c2 9363     		str	r3, [r2, #56]
 3105              	.LVL303:
 3106              	.LBE66:
 3107              	.LBE65:
2416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CID[1U] = SDIO_GetResponse(SDIO_RESP2);
 3108              		.loc 1 2416 0
 3109 02c4 FFF7FEFF 		bl	SDIO_GetResponse
 3110              	.LVL304:
 3111 02c8 A063     		str	r0, [r4, #56]
2417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CID[2U] = SDIO_GetResponse(SDIO_RESP3);
 3112              		.loc 1 2417 0
 3113 02ca 0420     		movs	r0, #4
 3114 02cc FFF7FEFF 		bl	SDIO_GetResponse
 3115              	.LVL305:
 3116 02d0 E063     		str	r0, [r4, #60]
2418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CID[3U] = SDIO_GetResponse(SDIO_RESP4);
 3117              		.loc 1 2418 0
 3118 02d2 0820     		movs	r0, #8
 3119 02d4 FFF7FEFF 		bl	SDIO_GetResponse
 3120              	.LVL306:
 3121 02d8 2064     		str	r0, [r4, #64]
2419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3122              		.loc 1 2419 0
 3123 02da 0C20     		movs	r0, #12
 3124 02dc FFF7FEFF 		bl	SDIO_GetResponse
 3125              	.LVL307:
2422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****      (hsd->CardType == SECURE_DIGITAL_IO_COMBO_CARD) || (hsd->CardType == HIGH_CAPACITY_SD_CARD))
 3126              		.loc 1 2422 0
 3127 02e0 236A     		ldr	r3, [r4, #32]
2419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3128              		.loc 1 2419 0
 3129 02e2 6064     		str	r0, [r4, #68]
 3130              	.LVL308:
2422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****      (hsd->CardType == SECURE_DIGITAL_IO_COMBO_CARD) || (hsd->CardType == HIGH_CAPACITY_SD_CARD))
 3131              		.loc 1 2422 0
 3132 02e4 022B     		cmp	r3, #2
 3133 02e6 01D9     		bls	.L247
 3134 02e8 062B     		cmp	r3, #6
 3135 02ea 43D1     		bne	.L266
 3136              	.L247:
2427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3137              		.loc 1 2427 0
 3138 02ec 0322     		movs	r2, #3
2428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3139              		.loc 1 2428 0
ARM GAS  /tmp/cceblRej.s 			page 130


 3140 02ee 4023     		movs	r3, #64
2429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3141              		.loc 1 2429 0
 3142 02f0 05A9     		add	r1, sp, #20
 3143 02f2 2068     		ldr	r0, [r4]
2427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3144              		.loc 1 2427 0
 3145 02f4 0692     		str	r2, [sp, #24]
2428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3146              		.loc 1 2428 0
 3147 02f6 0793     		str	r3, [sp, #28]
2429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3148              		.loc 1 2429 0
 3149 02f8 FFF7FEFF 		bl	SDIO_SendCommand
 3150              	.LVL309:
 3151 02fc 2068     		ldr	r0, [r4]
 3152              	.L249:
 3153              	.LBB67:
 3154              	.LBB68:
2999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3155              		.loc 1 2999 0
 3156 02fe 436B     		ldr	r3, [r0, #52]
 3157 0300 13F0450F 		tst	r3, #69
 3158 0304 FBD0     		beq	.L249
3003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3159              		.loc 1 3003 0
 3160 0306 436B     		ldr	r3, [r0, #52]
 3161 0308 5F07     		lsls	r7, r3, #29
 3162 030a 25D5     		bpl	.L250
 3163              	.LVL310:
3007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3164              		.loc 1 3007 0
 3165 030c 0423     		movs	r3, #4
 3166 030e 8363     		str	r3, [r0, #56]
3009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3167              		.loc 1 3009 0
 3168 0310 0326     		movs	r6, #3
 3169 0312 77E7     		b	.L243
 3170              	.L308:
 3171              		.align	2
 3172              	.L307:
 3173 0314 A0802542 		.word	1109754016
 3174              	.LVL311:
 3175              	.L291:
 3176              	.LBE68:
 3177              	.LBE67:
 3178              	.LBB72:
 3179              	.LBB73:
2963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3180              		.loc 1 2963 0
 3181 0318 0423     		movs	r3, #4
 3182 031a 9363     		str	r3, [r2, #56]
2965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3183              		.loc 1 2965 0
 3184 031c 0326     		movs	r6, #3
 3185 031e 71E7     		b	.L243
 3186              	.LVL312:
ARM GAS  /tmp/cceblRej.s 			page 131


 3187              	.L295:
 3188              	.LBE73:
 3189              	.LBE72:
 3190              	.LBE81:
 3191              	.LBE85:
 3192              	.LBB86:
 3193              	.LBB60:
 3194              	.LBB56:
 3195              	.LBB48:
2744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3196              		.loc 1 2744 0
 3197 0320 436B     		ldr	r3, [r0, #52]
 3198              	.LVL313:
 3199 0322 DCE6     		b	.L225
 3200              	.LVL314:
 3201              	.L303:
 3202              	.LBE48:
 3203              	.LBE56:
 3204              	.LBE60:
 3205              	.LBE86:
 385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3206              		.loc 1 385 0
 3207 0324 B5F85430 		ldrh	r3, [r5, #84]
 3208              	.LBB87:
 3209              	.LBB88:
2485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 3210              		.loc 1 2485 0
 3211 0328 0892     		str	r2, [sp, #32]
 3212              	.LBE88:
 3213              	.LBE87:
 385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3214              		.loc 1 385 0
 3215 032a 1B04     		lsls	r3, r3, #16
 3216              	.LBB90:
 3217              	.LBB89:
2486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3218              		.loc 1 2486 0
 3219 032c 4FF48062 		mov	r2, #1024
2487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3220              		.loc 1 2487 0
 3221 0330 05A9     		add	r1, sp, #20
 3222              	.LVL315:
2483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3223              		.loc 1 2483 0
 3224 0332 0725     		movs	r5, #7
 3225              	.LVL316:
2487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3226              		.loc 1 2487 0
 3227 0334 2068     		ldr	r0, [r4]
2482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEL_DESEL_CARD;
 3228              		.loc 1 2482 0
 3229 0336 0593     		str	r3, [sp, #20]
2484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 3230              		.loc 1 2484 0
 3231 0338 4026     		movs	r6, #64
2486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3232              		.loc 1 2486 0
ARM GAS  /tmp/cceblRej.s 			page 132


 3233 033a 0992     		str	r2, [sp, #36]
2483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3234              		.loc 1 2483 0
 3235 033c 0695     		str	r5, [sp, #24]
2484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 3236              		.loc 1 2484 0
 3237 033e 0796     		str	r6, [sp, #28]
2487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3238              		.loc 1 2487 0
 3239 0340 FFF7FEFF 		bl	SDIO_SendCommand
 3240              	.LVL317:
2490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3241              		.loc 1 2490 0
 3242 0344 2946     		mov	r1, r5
 3243 0346 2046     		mov	r0, r4
 3244 0348 FFF7FEFF 		bl	SD_CmdResp1Error
 3245              	.LVL318:
 3246              	.LBE89:
 3247              	.LBE90:
 385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3248              		.loc 1 385 0
 3249 034c 8DF81200 		strb	r0, [sp, #18]
 3250 0350 6AE7     		b	.L259
 3251              	.LVL319:
 3252              	.L292:
 3253              	.LBB91:
 3254              	.LBB82:
 3255              	.LBB76:
 3256              	.LBB74:
2971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3257              		.loc 1 2971 0
 3258 0352 0126     		movs	r6, #1
 3259 0354 9663     		str	r6, [r2, #56]
 3260 0356 55E7     		b	.L243
 3261              	.LVL320:
 3262              	.L250:
 3263              	.LBE74:
 3264              	.LBE76:
 3265              	.LBB77:
 3266              	.LBB69:
3011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3267              		.loc 1 3011 0
 3268 0358 466B     		ldr	r6, [r0, #52]
 3269 035a 16F00106 		ands	r6, r6, #1
 3270 035e 37D0     		beq	.L251
 3271              	.LVL321:
3015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3272              		.loc 1 3015 0
 3273 0360 0126     		movs	r6, #1
 3274 0362 8663     		str	r6, [r0, #56]
 3275 0364 4EE7     		b	.L243
 3276              	.LVL322:
 3277              	.L221:
 3278              	.LBE69:
 3279              	.LBE77:
 3280              	.LBE82:
 3281              	.LBE91:
ARM GAS  /tmp/cceblRej.s 			page 133


 3282              	.LBB92:
 3283              	.LBB61:
 3284              	.LBB57:
 3285              	.LBB49:
2744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3286              		.loc 1 2744 0
 3287 0366 436B     		ldr	r3, [r0, #52]
 3288              	.LVL323:
 3289 0368 03F00403 		and	r3, r3, #4
 3290              	.LVL324:
2746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3291              		.loc 1 2746 0
 3292 036c 002B     		cmp	r3, #0
 3293 036e 7FF4B6AE 		bne	.L225
 3294 0372 74E7     		b	.L226
 3295              	.LVL325:
 3296              	.L266:
 3297              	.LBE49:
 3298              	.LBE57:
 3299              	.LBE61:
 3300              	.LBE92:
 3301              	.LBB93:
 3302              	.LBB83:
2388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3303              		.loc 1 2388 0
 3304 0374 0120     		movs	r0, #1
 3305              	.LVL326:
 3306              	.L248:
2440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3307              		.loc 1 2440 0
 3308 0376 042B     		cmp	r3, #4
 3309 0378 30D0     		beq	.L269
2446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_CSD;
 3310              		.loc 1 2446 0
 3311 037a 0304     		lsls	r3, r0, #16
2448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3312              		.loc 1 2448 0
 3313 037c C022     		movs	r2, #192
2443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3314              		.loc 1 2443 0
 3315 037e 6062     		str	r0, [r4, #36]
2447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_LONG;
 3316              		.loc 1 2447 0
 3317 0380 0926     		movs	r6, #9
2449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3318              		.loc 1 2449 0
 3319 0382 05A9     		add	r1, sp, #20
 3320 0384 2068     		ldr	r0, [r4]
 3321              	.LVL327:
2448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3322              		.loc 1 2448 0
 3323 0386 0792     		str	r2, [sp, #28]
2446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_CSD;
 3324              		.loc 1 2446 0
 3325 0388 0593     		str	r3, [sp, #20]
2447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_LONG;
 3326              		.loc 1 2447 0
ARM GAS  /tmp/cceblRej.s 			page 134


 3327 038a 0696     		str	r6, [sp, #24]
2449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3328              		.loc 1 2449 0
 3329 038c FFF7FEFF 		bl	SDIO_SendCommand
 3330              	.LVL328:
 3331 0390 2268     		ldr	r2, [r4]
 3332              	.L255:
 3333              	.LBB78:
 3334              	.LBB75:
2955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3335              		.loc 1 2955 0
 3336 0392 536B     		ldr	r3, [r2, #52]
 3337 0394 13F0450F 		tst	r3, #69
 3338 0398 FBD0     		beq	.L255
2959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3339              		.loc 1 2959 0
 3340 039a 536B     		ldr	r3, [r2, #52]
 3341 039c 5B07     		lsls	r3, r3, #29
 3342 039e BBD4     		bmi	.L291
2967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3343              		.loc 1 2967 0
 3344 03a0 566B     		ldr	r6, [r2, #52]
 3345 03a2 16F00106 		ands	r6, r6, #1
 3346 03a6 D4D1     		bne	.L292
2981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3347              		.loc 1 2981 0
 3348 03a8 40F2FF53 		movw	r3, #1535
 3349 03ac 9363     		str	r3, [r2, #56]
 3350              	.LVL329:
 3351              	.LBE75:
 3352              	.LBE78:
2460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CSD[1U] = SDIO_GetResponse(SDIO_RESP2);
 3353              		.loc 1 2460 0
 3354 03ae 3046     		mov	r0, r6
 3355 03b0 FFF7FEFF 		bl	SDIO_GetResponse
 3356              	.LVL330:
 3357 03b4 A062     		str	r0, [r4, #40]
2461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CSD[2U] = SDIO_GetResponse(SDIO_RESP3);
 3358              		.loc 1 2461 0
 3359 03b6 0420     		movs	r0, #4
 3360 03b8 FFF7FEFF 		bl	SDIO_GetResponse
 3361              	.LVL331:
 3362 03bc E062     		str	r0, [r4, #44]
2462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->CSD[3U] = SDIO_GetResponse(SDIO_RESP4);
 3363              		.loc 1 2462 0
 3364 03be 0820     		movs	r0, #8
 3365 03c0 FFF7FEFF 		bl	SDIO_GetResponse
 3366              	.LVL332:
 3367 03c4 2063     		str	r0, [r4, #48]
2463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3368              		.loc 1 2463 0
 3369 03c6 0C20     		movs	r0, #12
 3370 03c8 FFF7FEFF 		bl	SDIO_GetResponse
 3371              	.LVL333:
 3372 03cc 6063     		str	r0, [r4, #52]
 3373 03ce 19E7     		b	.L243
 3374              	.LVL334:
ARM GAS  /tmp/cceblRej.s 			page 135


 3375              	.L251:
 3376              	.LBB79:
 3377              	.LBB70:
3025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3378              		.loc 1 3025 0
 3379 03d0 FFF7FEFF 		bl	SDIO_GetCommandResponse
 3380              	.LVL335:
 3381 03d4 0328     		cmp	r0, #3
 3382 03d6 03D0     		beq	.L252
 3383              	.L254:
3029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3384              		.loc 1 3029 0
 3385 03d8 1026     		movs	r6, #16
 3386 03da 13E7     		b	.L243
 3387              	.LVL336:
 3388              	.L269:
 3389              	.LBE70:
 3390              	.LBE79:
2440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3391              		.loc 1 2440 0
 3392 03dc 0026     		movs	r6, #0
 3393 03de 11E7     		b	.L243
 3394              	.LVL337:
 3395              	.L252:
 3396              	.LBB80:
 3397              	.LBB71:
3033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3398              		.loc 1 3033 0
 3399 03e0 2368     		ldr	r3, [r4]
 3400 03e2 40F2FF52 		movw	r2, #1535
3036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3401              		.loc 1 3036 0
 3402 03e6 3046     		mov	r0, r6
3033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3403              		.loc 1 3033 0
 3404 03e8 9A63     		str	r2, [r3, #56]
3036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3405              		.loc 1 3036 0
 3406 03ea FFF7FEFF 		bl	SDIO_GetResponse
 3407              	.LVL338:
3038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3408              		.loc 1 3038 0
 3409 03ee 10F4604F 		tst	r0, #57344
 3410 03f2 03D0     		beq	.L304
3045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3411              		.loc 1 3045 0
 3412 03f4 8604     		lsls	r6, r0, #18
 3413 03f6 04D5     		bpl	.L305
3047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3414              		.loc 1 3047 0
 3415 03f8 1326     		movs	r6, #19
 3416 03fa 03E7     		b	.L243
 3417              	.L304:
3040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3418              		.loc 1 3040 0
 3419 03fc 000C     		lsrs	r0, r0, #16
 3420              	.LVL339:
ARM GAS  /tmp/cceblRej.s 			page 136


 3421 03fe 236A     		ldr	r3, [r4, #32]
 3422 0400 B9E7     		b	.L248
 3423              	.LVL340:
 3424              	.L305:
3050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3425              		.loc 1 3050 0
 3426 0402 4104     		lsls	r1, r0, #17
 3427 0404 E8D4     		bmi	.L254
3055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3428              		.loc 1 3055 0
 3429 0406 0204     		lsls	r2, r0, #16
 3430 0408 01D5     		bpl	.L306
3057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3431              		.loc 1 3057 0
 3432 040a 0F26     		movs	r6, #15
 3433 040c FAE6     		b	.L243
 3434              	.L306:
 3435 040e 236A     		ldr	r3, [r4, #32]
 3436              	.LBE71:
 3437              	.LBE80:
2388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3438              		.loc 1 2388 0
 3439 0410 0120     		movs	r0, #1
 3440              	.LVL341:
 3441 0412 B0E7     		b	.L248
 3442              	.LBE83:
 3443              	.LBE93:
 3444              		.cfi_endproc
 3445              	.LFE126:
 3447              		.section	.text.HAL_SD_WideBusOperation_Config,"ax",%progbits
 3448              		.align	1
 3449              		.p2align 2,,3
 3450              		.global	HAL_SD_WideBusOperation_Config
 3451              		.syntax unified
 3452              		.thumb
 3453              		.thumb_func
 3454              		.fpu fpv4-sp-d16
 3456              	HAL_SD_WideBusOperation_Config:
 3457              	.LFB145:
1773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 3458              		.loc 1 1773 0
 3459              		.cfi_startproc
 3460              		@ args = 0, pretend = 0, frame = 32
 3461              		@ frame_needed = 0, uses_anonymous_args = 0
 3462              	.LVL342:
 3463 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3464              	.LCFI42:
 3465              		.cfi_def_cfa_offset 24
 3466              		.cfi_offset 4, -24
 3467              		.cfi_offset 5, -20
 3468              		.cfi_offset 6, -16
 3469              		.cfi_offset 7, -12
 3470              		.cfi_offset 8, -8
 3471              		.cfi_offset 14, -4
1778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3472              		.loc 1 1778 0
 3473 0004 036A     		ldr	r3, [r0, #32]
ARM GAS  /tmp/cceblRej.s 			page 137


 3474 0006 032B     		cmp	r3, #3
1773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 3475              		.loc 1 1773 0
 3476 0008 8CB0     		sub	sp, sp, #48
 3477              	.LCFI43:
 3478              		.cfi_def_cfa_offset 72
1778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3479              		.loc 1 1778 0
 3480 000a 0FD0     		beq	.L317
1784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (hsd->CardType == HIGH_CAPACITY_SD_CARD))
 3481              		.loc 1 1784 0
 3482 000c 022B     		cmp	r3, #2
 3483 000e 12D8     		bhi	.L316
1787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3484              		.loc 1 1787 0
 3485 0010 B1F5805F 		cmp	r1, #4096
 3486 0014 0AD0     		beq	.L317
1791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3487              		.loc 1 1791 0
 3488 0016 B1F5006F 		cmp	r1, #2048
 3489 001a 0D46     		mov	r5, r1
 3490 001c 0446     		mov	r4, r0
 3491 001e 18D0     		beq	.L324
1795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3492              		.loc 1 1795 0
 3493 0020 71B1     		cbz	r1, .L325
1802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3494              		.loc 1 1802 0
 3495 0022 2626     		movs	r6, #38
1819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3496              		.loc 1 1819 0
 3497 0024 3046     		mov	r0, r6
 3498              	.LVL343:
 3499 0026 0CB0     		add	sp, sp, #48
 3500              	.LCFI44:
 3501              		.cfi_remember_state
 3502              		.cfi_def_cfa_offset 24
 3503              		@ sp needed
 3504 0028 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3505              	.LVL344:
 3506              	.L317:
 3507              	.LCFI45:
 3508              		.cfi_restore_state
1782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3509              		.loc 1 1782 0
 3510 002c 2726     		movs	r6, #39
 3511              	.LVL345:
 3512              	.L310:
1819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3513              		.loc 1 1819 0
 3514 002e 3046     		mov	r0, r6
 3515 0030 0CB0     		add	sp, sp, #48
 3516              	.LCFI46:
 3517              		.cfi_remember_state
 3518              		.cfi_def_cfa_offset 24
 3519              		@ sp needed
 3520 0032 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
ARM GAS  /tmp/cceblRej.s 			page 138


 3521              	.LVL346:
 3522              	.L316:
 3523              	.LCFI47:
 3524              		.cfi_restore_state
1774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_InitTypeDef tmpinit;
 3525              		.loc 1 1774 0
 3526 0036 0026     		movs	r6, #0
1819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3527              		.loc 1 1819 0
 3528 0038 3046     		mov	r0, r6
 3529              	.LVL347:
 3530 003a 0CB0     		add	sp, sp, #48
 3531              	.LCFI48:
 3532              		.cfi_remember_state
 3533              		.cfi_def_cfa_offset 24
 3534              		@ sp needed
 3535 003c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3536              	.LVL348:
 3537              	.L325:
 3538              	.LCFI49:
 3539              		.cfi_restore_state
 3540              	.LBB98:
 3541              	.LBB99:
3144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3542              		.loc 1 3144 0
 3543 0040 0846     		mov	r0, r1
 3544              	.LVL349:
3142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3545              		.loc 1 3142 0
 3546 0042 0491     		str	r1, [sp, #16]
 3547 0044 0591     		str	r1, [sp, #20]
3144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3548              		.loc 1 3144 0
 3549 0046 FFF7FEFF 		bl	SDIO_GetResponse
 3550              	.LVL350:
 3551 004a 8201     		lsls	r2, r0, #6
 3552 004c 15D5     		bpl	.L326
 3553              	.LVL351:
 3554              	.L321:
3148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3555              		.loc 1 3148 0
 3556 004e 0E26     		movs	r6, #14
 3557 0050 EDE7     		b	.L310
 3558              	.LVL352:
 3559              	.L324:
 3560              	.LBE99:
 3561              	.LBE98:
 3562              	.LBB101:
 3563              	.LBB102:
3073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3564              		.loc 1 3073 0
 3565 0052 0023     		movs	r3, #0
3075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3566              		.loc 1 3075 0
 3567 0054 1846     		mov	r0, r3
 3568              	.LVL353:
3073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
ARM GAS  /tmp/cceblRej.s 			page 139


 3569              		.loc 1 3073 0
 3570 0056 0493     		str	r3, [sp, #16]
 3571 0058 0593     		str	r3, [sp, #20]
3075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3572              		.loc 1 3075 0
 3573 005a FFF7FEFF 		bl	SDIO_GetResponse
 3574              	.LVL354:
 3575 005e 8001     		lsls	r0, r0, #6
 3576 0060 F5D4     		bmi	.L321
3083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3577              		.loc 1 3083 0
 3578 0062 04A9     		add	r1, sp, #16
 3579 0064 2046     		mov	r0, r4
 3580 0066 FFF7FEFF 		bl	SD_FindSCR
 3581              	.LVL355:
3085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3582              		.loc 1 3085 0
 3583 006a 0646     		mov	r6, r0
 3584 006c 0028     		cmp	r0, #0
 3585 006e DED1     		bne	.L310
3091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3586              		.loc 1 3091 0
 3587 0070 059B     		ldr	r3, [sp, #20]
 3588 0072 5903     		lsls	r1, r3, #13
 3589 0074 4CD4     		bmi	.L327
 3590              	.LVL356:
 3591              	.L322:
 3592              	.LBE102:
 3593              	.LBE101:
 3594              	.LBB104:
 3595              	.LBB100:
3197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3596              		.loc 1 3197 0
 3597 0076 2526     		movs	r6, #37
 3598              	.LVL357:
 3599 0078 D9E7     		b	.L310
 3600              	.LVL358:
 3601              	.L326:
3152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3602              		.loc 1 3152 0
 3603 007a 04A9     		add	r1, sp, #16
 3604 007c 2046     		mov	r0, r4
 3605 007e FFF7FEFF 		bl	SD_FindSCR
 3606              	.LVL359:
3154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3607              		.loc 1 3154 0
 3608 0082 0646     		mov	r6, r0
 3609 0084 0028     		cmp	r0, #0
 3610 0086 D2D1     		bne	.L310
3160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3611              		.loc 1 3160 0
 3612 0088 059B     		ldr	r3, [sp, #20]
 3613 008a DB03     		lsls	r3, r3, #15
 3614 008c F3D5     		bpl	.L322
3163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 3615              		.loc 1 3163 0
 3616 008e 636A     		ldr	r3, [r4, #36]
ARM GAS  /tmp/cceblRej.s 			page 140


3166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 3617              		.loc 1 3166 0
 3618 0090 0996     		str	r6, [sp, #36]
3163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 3619              		.loc 1 3163 0
 3620 0092 1B04     		lsls	r3, r3, #16
3168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3621              		.loc 1 3168 0
 3622 0094 06AF     		add	r7, sp, #24
3164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3623              		.loc 1 3164 0
 3624 0096 3726     		movs	r6, #55
3165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 3625              		.loc 1 3165 0
 3626 0098 4022     		movs	r2, #64
3168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3627              		.loc 1 3168 0
 3628 009a 3946     		mov	r1, r7
3163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 3629              		.loc 1 3163 0
 3630 009c 0693     		str	r3, [sp, #24]
3168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3631              		.loc 1 3168 0
 3632 009e 2068     		ldr	r0, [r4]
 3633              	.LVL360:
3164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3634              		.loc 1 3164 0
 3635 00a0 0796     		str	r6, [sp, #28]
3167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3636              		.loc 1 3167 0
 3637 00a2 4FF48063 		mov	r3, #1024
3165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 3638              		.loc 1 3165 0
 3639 00a6 0892     		str	r2, [sp, #32]
3167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3640              		.loc 1 3167 0
 3641 00a8 0A93     		str	r3, [sp, #40]
3168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3642              		.loc 1 3168 0
 3643 00aa FFF7FEFF 		bl	SDIO_SendCommand
 3644              	.LVL361:
3171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3645              		.loc 1 3171 0
 3646 00ae 3146     		mov	r1, r6
 3647 00b0 2046     		mov	r0, r4
 3648 00b2 FFF7FEFF 		bl	SD_CmdResp1Error
 3649              	.LVL362:
3173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3650              		.loc 1 3173 0
 3651 00b6 0646     		mov	r6, r0
 3652 00b8 0028     		cmp	r0, #0
 3653 00ba B8D1     		bne	.L310
3180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3654              		.loc 1 3180 0
 3655 00bc 4FF00608 		mov	r8, #6
3181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3656              		.loc 1 3181 0
ARM GAS  /tmp/cceblRej.s 			page 141


 3657 00c0 3946     		mov	r1, r7
 3658 00c2 2068     		ldr	r0, [r4]
 3659              	.LVL363:
3179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_SD_SET_BUSWIDTH;
 3660              		.loc 1 3179 0
 3661 00c4 0696     		str	r6, [sp, #24]
3180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3662              		.loc 1 3180 0
 3663 00c6 CDF81C80 		str	r8, [sp, #28]
3181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3664              		.loc 1 3181 0
 3665 00ca FFF7FEFF 		bl	SDIO_SendCommand
 3666              	.LVL364:
3184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3667              		.loc 1 3184 0
 3668 00ce 4146     		mov	r1, r8
 3669 00d0 2046     		mov	r0, r4
 3670 00d2 FFF7FEFF 		bl	SD_CmdResp1Error
 3671              	.LVL365:
 3672 00d6 0646     		mov	r6, r0
 3673              	.LVL366:
 3674              	.L313:
 3675              	.LBE100:
 3676              	.LBE104:
1805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3677              		.loc 1 1805 0
 3678 00d8 002E     		cmp	r6, #0
 3679 00da A8D1     		bne	.L310
1812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockDiv            = hsd->Init.ClockDiv;
 3680              		.loc 1 1812 0
 3681 00dc 6269     		ldr	r2, [r4, #20]
1813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       SDIO_Init(hsd->Instance, tmpinit);
 3682              		.loc 1 1813 0
 3683 00de A369     		ldr	r3, [r4, #24]
1811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.HardwareFlowControl = hsd->Init.HardwareFlowControl;
 3684              		.loc 1 1811 0
 3685 00e0 0995     		str	r5, [sp, #36]
1813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       SDIO_Init(hsd->Instance, tmpinit);
 3686              		.loc 1 1813 0
 3687 00e2 0B93     		str	r3, [sp, #44]
1812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockDiv            = hsd->Init.ClockDiv;
 3688              		.loc 1 1812 0
 3689 00e4 0A92     		str	r2, [sp, #40]
1814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3690              		.loc 1 1814 0
 3691 00e6 0CAB     		add	r3, sp, #48
 3692 00e8 13E90700 		ldmdb	r3, {r0, r1, r2}
1808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockBypass         = hsd->Init.ClockBypass;
 3693              		.loc 1 1808 0
 3694 00ec 6368     		ldr	r3, [r4, #4]
1809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockPowerSave      = hsd->Init.ClockPowerSave;
 3695              		.loc 1 1809 0
 3696 00ee A568     		ldr	r5, [r4, #8]
 3697              	.LVL367:
1808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockBypass         = hsd->Init.ClockBypass;
 3698              		.loc 1 1808 0
 3699 00f0 0693     		str	r3, [sp, #24]
ARM GAS  /tmp/cceblRej.s 			page 142


1810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.BusWide             = WideMode;
 3700              		.loc 1 1810 0
 3701 00f2 E368     		ldr	r3, [r4, #12]
1814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3702              		.loc 1 1814 0
 3703 00f4 2468     		ldr	r4, [r4]
 3704              	.LVL368:
1809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.ClockPowerSave      = hsd->Init.ClockPowerSave;
 3705              		.loc 1 1809 0
 3706 00f6 0795     		str	r5, [sp, #28]
1814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3707              		.loc 1 1814 0
 3708 00f8 8DE80700 		stm	sp, {r0, r1, r2}
1810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmpinit.BusWide             = WideMode;
 3709              		.loc 1 1810 0
 3710 00fc 0893     		str	r3, [sp, #32]
1814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3711              		.loc 1 1814 0
 3712 00fe 2046     		mov	r0, r4
 3713 0100 97E80E00 		ldm	r7, {r1, r2, r3}
 3714 0104 FFF7FEFF 		bl	SDIO_Init
 3715              	.LVL369:
1819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3716              		.loc 1 1819 0
 3717 0108 3046     		mov	r0, r6
 3718 010a 0CB0     		add	sp, sp, #48
 3719              	.LCFI50:
 3720              		.cfi_remember_state
 3721              		.cfi_def_cfa_offset 24
 3722              		@ sp needed
 3723 010c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3724              	.LVL370:
 3725              	.L327:
 3726              	.LCFI51:
 3727              		.cfi_restore_state
 3728              	.LBB105:
 3729              	.LBB103:
3094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 3730              		.loc 1 3094 0
 3731 0110 636A     		ldr	r3, [r4, #36]
3097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 3732              		.loc 1 3097 0
 3733 0112 0996     		str	r6, [sp, #36]
3094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 3734              		.loc 1 3094 0
 3735 0114 1B04     		lsls	r3, r3, #16
3099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3736              		.loc 1 3099 0
 3737 0116 06AF     		add	r7, sp, #24
3095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3738              		.loc 1 3095 0
 3739 0118 3726     		movs	r6, #55
3096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 3740              		.loc 1 3096 0
 3741 011a 4022     		movs	r2, #64
3099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3742              		.loc 1 3099 0
ARM GAS  /tmp/cceblRej.s 			page 143


 3743 011c 3946     		mov	r1, r7
3094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 3744              		.loc 1 3094 0
 3745 011e 0693     		str	r3, [sp, #24]
3099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3746              		.loc 1 3099 0
 3747 0120 2068     		ldr	r0, [r4]
 3748              	.LVL371:
3095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3749              		.loc 1 3095 0
 3750 0122 0796     		str	r6, [sp, #28]
3098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3751              		.loc 1 3098 0
 3752 0124 4FF48063 		mov	r3, #1024
3096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 3753              		.loc 1 3096 0
 3754 0128 0892     		str	r2, [sp, #32]
3098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3755              		.loc 1 3098 0
 3756 012a 0A93     		str	r3, [sp, #40]
3099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3757              		.loc 1 3099 0
 3758 012c FFF7FEFF 		bl	SDIO_SendCommand
 3759              	.LVL372:
3102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3760              		.loc 1 3102 0
 3761 0130 3146     		mov	r1, r6
 3762 0132 2046     		mov	r0, r4
 3763 0134 FFF7FEFF 		bl	SD_CmdResp1Error
 3764              	.LVL373:
3104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3765              		.loc 1 3104 0
 3766 0138 0646     		mov	r6, r0
 3767 013a 0028     		cmp	r0, #0
 3768 013c 7FF477AF 		bne	.L310
3110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_SD_SET_BUSWIDTH;
 3769              		.loc 1 3110 0
 3770 0140 0223     		movs	r3, #2
3111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3771              		.loc 1 3111 0
 3772 0142 0626     		movs	r6, #6
3112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3773              		.loc 1 3112 0
 3774 0144 3946     		mov	r1, r7
 3775 0146 2068     		ldr	r0, [r4]
 3776              	.LVL374:
3110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_SD_SET_BUSWIDTH;
 3777              		.loc 1 3110 0
 3778 0148 0693     		str	r3, [sp, #24]
3111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3779              		.loc 1 3111 0
 3780 014a 0796     		str	r6, [sp, #28]
3112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 3781              		.loc 1 3112 0
 3782 014c FFF7FEFF 		bl	SDIO_SendCommand
 3783              	.LVL375:
3115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
ARM GAS  /tmp/cceblRej.s 			page 144


 3784              		.loc 1 3115 0
 3785 0150 3146     		mov	r1, r6
 3786 0152 2046     		mov	r0, r4
 3787 0154 FFF7FEFF 		bl	SD_CmdResp1Error
 3788              	.LVL376:
 3789 0158 0646     		mov	r6, r0
 3790              	.LVL377:
 3791 015a BDE7     		b	.L313
 3792              	.LBE103:
 3793              	.LBE105:
 3794              		.cfi_endproc
 3795              	.LFE145:
 3797              		.section	.text.HAL_SD_StopTransfer,"ax",%progbits
 3798              		.align	1
 3799              		.p2align 2,,3
 3800              		.global	HAL_SD_StopTransfer
 3801              		.syntax unified
 3802              		.thumb
 3803              		.thumb_func
 3804              		.fpu fpv4-sp-d16
 3806              	HAL_SD_StopTransfer:
 3807              	.LFB146:
1827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 3808              		.loc 1 1827 0
 3809              		.cfi_startproc
 3810              		@ args = 0, pretend = 0, frame = 24
 3811              		@ frame_needed = 0, uses_anonymous_args = 0
 3812              	.LVL378:
 3813 0000 70B5     		push	{r4, r5, r6, lr}
 3814              	.LCFI52:
 3815              		.cfi_def_cfa_offset 16
 3816              		.cfi_offset 4, -16
 3817              		.cfi_offset 5, -12
 3818              		.cfi_offset 6, -8
 3819              		.cfi_offset 14, -4
 3820 0002 86B0     		sub	sp, sp, #24
 3821              	.LCFI53:
 3822              		.cfi_def_cfa_offset 40
1832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_STOP_TRANSMISSION;
 3823              		.loc 1 1832 0
 3824 0004 0023     		movs	r3, #0
1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3825              		.loc 1 1836 0
 3826 0006 4FF48062 		mov	r2, #1024
1827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 3827              		.loc 1 1827 0
 3828 000a 0446     		mov	r4, r0
1833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3829              		.loc 1 1833 0
 3830 000c 0C25     		movs	r5, #12
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3831              		.loc 1 1837 0
 3832 000e 01A9     		add	r1, sp, #4
1834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 3833              		.loc 1 1834 0
 3834 0010 4026     		movs	r6, #64
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
ARM GAS  /tmp/cceblRej.s 			page 145


 3835              		.loc 1 1837 0
 3836 0012 0068     		ldr	r0, [r0]
 3837              	.LVL379:
1832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_STOP_TRANSMISSION;
 3838              		.loc 1 1832 0
 3839 0014 0193     		str	r3, [sp, #4]
1835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 3840              		.loc 1 1835 0
 3841 0016 0493     		str	r3, [sp, #16]
1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3842              		.loc 1 1836 0
 3843 0018 0592     		str	r2, [sp, #20]
1833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3844              		.loc 1 1833 0
 3845 001a 0295     		str	r5, [sp, #8]
1834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 3846              		.loc 1 1834 0
 3847 001c 0396     		str	r6, [sp, #12]
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3848              		.loc 1 1837 0
 3849 001e FFF7FEFF 		bl	SDIO_SendCommand
 3850              	.LVL380:
1840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3851              		.loc 1 1840 0
 3852 0022 2946     		mov	r1, r5
 3853 0024 2046     		mov	r0, r4
 3854 0026 FFF7FEFF 		bl	SD_CmdResp1Error
 3855              	.LVL381:
1843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3856              		.loc 1 1843 0
 3857 002a 06B0     		add	sp, sp, #24
 3858              	.LCFI54:
 3859              		.cfi_def_cfa_offset 16
 3860              		@ sp needed
 3861 002c 70BD     		pop	{r4, r5, r6, pc}
 3862              		.cfi_endproc
 3863              	.LFE146:
 3865 002e 00BF     		.section	.text.HAL_SD_ReadBlocks,"ax",%progbits
 3866              		.align	1
 3867              		.p2align 2,,3
 3868              		.global	HAL_SD_ReadBlocks
 3869              		.syntax unified
 3870              		.thumb
 3871              		.thumb_func
 3872              		.fpu fpv4-sp-d16
 3874              	HAL_SD_ReadBlocks:
 3875              	.LFB130:
 471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef  sdio_cmdinitstructure;
 3876              		.loc 1 471 0
 3877              		.cfi_startproc
 3878              		@ args = 8, pretend = 0, frame = 48
 3879              		@ frame_needed = 0, uses_anonymous_args = 0
 3880              	.LVL382:
 3881 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 3882              	.LCFI55:
 3883              		.cfi_def_cfa_offset 28
 3884              		.cfi_offset 4, -28
ARM GAS  /tmp/cceblRej.s 			page 146


 3885              		.cfi_offset 5, -24
 3886              		.cfi_offset 6, -20
 3887              		.cfi_offset 7, -16
 3888              		.cfi_offset 8, -12
 3889              		.cfi_offset 9, -8
 3890              		.cfi_offset 14, -4
 3891 0004 0446     		mov	r4, r0
 3892 0006 8DB0     		sub	sp, sp, #52
 3893              	.LCFI56:
 3894              		.cfi_def_cfa_offset 80
 480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3895              		.loc 1 480 0
 3896 0008 256A     		ldr	r5, [r4, #32]
 478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3897              		.loc 1 478 0
 3898 000a 0068     		ldr	r0, [r0]
 3899              	.LVL383:
 3900 000c 0026     		movs	r6, #0
 480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3901              		.loc 1 480 0
 3902 000e 022D     		cmp	r5, #2
 478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3903              		.loc 1 478 0
 3904 0010 C662     		str	r6, [r0, #44]
 471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef  sdio_cmdinitstructure;
 3905              		.loc 1 471 0
 3906 0012 8846     		mov	r8, r1
 3907 0014 1746     		mov	r7, r2
 3908              	.LVL384:
 3909 0016 149E     		ldr	r6, [sp, #80]
 480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3910              		.loc 1 480 0
 3911 0018 53D0     		beq	.L369
 3912              	.LVL385:
 3913              	.L331:
 489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 3914              		.loc 1 489 0
 3915 001a 4023     		movs	r3, #64
 488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3916              		.loc 1 488 0
 3917 001c 1025     		movs	r5, #16
 490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 3918              		.loc 1 490 0
 3919 001e 0022     		movs	r2, #0
 492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3920              		.loc 1 492 0
 3921 0020 01A9     		add	r1, sp, #4
 3922              	.LVL386:
 489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 3923              		.loc 1 489 0
 3924 0022 0393     		str	r3, [sp, #12]
 491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3925              		.loc 1 491 0
 3926 0024 4FF48063 		mov	r3, #1024
 488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 3927              		.loc 1 488 0
 3928 0028 0295     		str	r5, [sp, #8]
ARM GAS  /tmp/cceblRej.s 			page 147


 490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 3929              		.loc 1 490 0
 3930 002a 0492     		str	r2, [sp, #16]
 491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 3931              		.loc 1 491 0
 3932 002c 0593     		str	r3, [sp, #20]
 487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 3933              		.loc 1 487 0
 3934 002e 0196     		str	r6, [sp, #4]
 492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3935              		.loc 1 492 0
 3936 0030 FFF7FEFF 		bl	SDIO_SendCommand
 3937              	.LVL387:
 495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3938              		.loc 1 495 0
 3939 0034 2946     		mov	r1, r5
 3940 0036 2046     		mov	r0, r4
 3941 0038 FFF7FEFF 		bl	SD_CmdResp1Error
 3942              	.LVL388:
 497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3943              		.loc 1 497 0
 3944 003c 0546     		mov	r5, r0
 3945 003e 18B1     		cbz	r0, .L370
 3946              	.LVL389:
 3947              	.L355:
 651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3948              		.loc 1 651 0
 3949 0040 2846     		mov	r0, r5
 3950 0042 0DB0     		add	sp, sp, #52
 3951              	.LCFI57:
 3952              		.cfi_remember_state
 3953              		.cfi_def_cfa_offset 28
 3954              		@ sp needed
 3955 0044 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 3956              	.LVL390:
 3957              	.L370:
 3958              	.LCFI58:
 3959              		.cfi_restore_state
 504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = DATA_BLOCK_SIZE;
 3960              		.loc 1 504 0
 3961 0048 159B     		ldr	r3, [sp, #84]
 507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 3962              		.loc 1 507 0
 3963 004a 0A95     		str	r5, [sp, #40]
 503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = NumberOfBlocks * BlockSize;
 3964              		.loc 1 503 0
 3965 004c 4FF0FF31 		mov	r1, #-1
 505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 3966              		.loc 1 505 0
 3967 0050 9020     		movs	r0, #144
 3968              	.LVL391:
 504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = DATA_BLOCK_SIZE;
 3969              		.loc 1 504 0
 3970 0052 03FB06F6 		mul	r6, r3, r6
 3971              	.LVL392:
 506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 3972              		.loc 1 506 0
ARM GAS  /tmp/cceblRej.s 			page 148


 3973 0056 0222     		movs	r2, #2
 508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 3974              		.loc 1 508 0
 3975 0058 0123     		movs	r3, #1
 503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = NumberOfBlocks * BlockSize;
 3976              		.loc 1 503 0
 3977 005a 0691     		str	r1, [sp, #24]
 505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 3978              		.loc 1 505 0
 3979 005c 0890     		str	r0, [sp, #32]
 509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3980              		.loc 1 509 0
 3981 005e 06A9     		add	r1, sp, #24
 3982 0060 2068     		ldr	r0, [r4]
 508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 3983              		.loc 1 508 0
 3984 0062 0B93     		str	r3, [sp, #44]
 504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = DATA_BLOCK_SIZE;
 3985              		.loc 1 504 0
 3986 0064 0796     		str	r6, [sp, #28]
 506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 3987              		.loc 1 506 0
 3988 0066 0992     		str	r2, [sp, #36]
 509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3989              		.loc 1 509 0
 3990 0068 FFF7FEFF 		bl	SDIO_DataConfig
 3991              	.LVL393:
 511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3992              		.loc 1 511 0
 3993 006c 159B     		ldr	r3, [sp, #84]
 3994 006e 012B     		cmp	r3, #1
 523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 3995              		.loc 1 523 0
 3996 0070 01A9     		add	r1, sp, #4
 511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3997              		.loc 1 511 0
 3998 0072 3CD9     		bls	.L333
 514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3999              		.loc 1 514 0
 4000 0074 1225     		movs	r5, #18
 523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4001              		.loc 1 523 0
 4002 0076 2068     		ldr	r0, [r4]
 514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4003              		.loc 1 514 0
 4004 0078 0295     		str	r5, [sp, #8]
 522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4005              		.loc 1 522 0
 4006 007a 0197     		str	r7, [sp, #4]
 523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4007              		.loc 1 523 0
 4008 007c FFF7FEFF 		bl	SDIO_SendCommand
 4009              	.LVL394:
 529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4010              		.loc 1 529 0
 4011 0080 2946     		mov	r1, r5
 4012 0082 2046     		mov	r0, r4
ARM GAS  /tmp/cceblRej.s 			page 149


 4013 0084 FFF7FEFF 		bl	SD_CmdResp1Error
 4014              	.LVL395:
 531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 4015              		.loc 1 531 0
 4016 0088 0546     		mov	r5, r0
 4017 008a 0028     		cmp	r0, #0
 4018 008c D8D1     		bne	.L355
 538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 4019              		.loc 1 538 0
 4020 008e 40F22A37 		movw	r7, #810
 4021              	.LVL396:
 4022              	.L334:
 4023 0092 2368     		ldr	r3, [r4]
 4024 0094 02E0     		b	.L336
 4025              	.LVL397:
 4026              	.L339:
 543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 4027              		.loc 1 543 0
 4028 0096 5A6B     		ldr	r2, [r3, #52]
 4029 0098 1604     		lsls	r6, r2, #16
 4030 009a 18D4     		bmi	.L371
 4031              	.L336:
 538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 4032              		.loc 1 538 0
 4033 009c 5A6B     		ldr	r2, [r3, #52]
 4034 009e 3A42     		tst	r2, r7
 4035 00a0 F9D0     		beq	.L339
 4036              	.LVL398:
 586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {    
 4037              		.loc 1 586 0
 4038 00a2 5A6B     		ldr	r2, [r3, #52]
 4039 00a4 D205     		lsls	r2, r2, #23
 4040 00a6 02D5     		bpl	.L346
 588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (hsd->CardType == STD_CAPACITY_SD_CARD_V2_0) ||\
 4041              		.loc 1 588 0
 4042 00a8 226A     		ldr	r2, [r4, #32]
 4043 00aa 022A     		cmp	r2, #2
 4044 00ac 55D9     		bls	.L372
 4045              	.LVL399:
 4046              	.L346:
 598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4047              		.loc 1 598 0
 4048 00ae 5A6B     		ldr	r2, [r3, #52]
 4049 00b0 1107     		lsls	r1, r2, #28
 4050 00b2 35D5     		bpl	.L347
 604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4051              		.loc 1 604 0
 4052 00b4 0425     		movs	r5, #4
 4053              	.LVL400:
 600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4054              		.loc 1 600 0
 4055 00b6 0822     		movs	r2, #8
 651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4056              		.loc 1 651 0
 4057 00b8 2846     		mov	r0, r5
 600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4058              		.loc 1 600 0
ARM GAS  /tmp/cceblRej.s 			page 150


 4059 00ba 9A63     		str	r2, [r3, #56]
 4060              	.LVL401:
 651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4061              		.loc 1 651 0
 4062 00bc 0DB0     		add	sp, sp, #52
 4063              	.LCFI59:
 4064              		.cfi_remember_state
 4065              		.cfi_def_cfa_offset 28
 4066              		@ sp needed
 4067 00be BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 4068              	.LVL402:
 4069              	.L369:
 4070              	.LCFI60:
 4071              		.cfi_restore_state
 483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4072              		.loc 1 483 0
 4073 00c2 570A     		lsrs	r7, r2, #9
 4074 00c4 47EAC357 		orr	r7, r7, r3, lsl #23
 4075              	.LVL403:
 482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     ReadAddr /= 512U;
 4076              		.loc 1 482 0
 4077 00c8 4FF40076 		mov	r6, #512
 4078 00cc A5E7     		b	.L331
 4079              	.LVL404:
 4080              	.L371:
 4081 00ce A8F10406 		sub	r6, r8, #4
 4082 00d2 08F11C09 		add	r9, r8, #28
 4083 00d6 00E0     		b	.L338
 4084              	.L373:
 4085 00d8 2368     		ldr	r3, [r4]
 4086              	.L338:
 548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 4087              		.loc 1 548 0 discriminator 3
 4088 00da 1846     		mov	r0, r3
 4089 00dc FFF7FEFF 		bl	SDIO_ReadFIFO
 4090              	.LVL405:
 4091 00e0 46F8040F 		str	r0, [r6, #4]!
 546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 4092              		.loc 1 546 0 discriminator 3
 4093 00e4 4E45     		cmp	r6, r9
 4094 00e6 F7D1     		bne	.L373
 551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 4095              		.loc 1 551 0
 4096 00e8 08F12008 		add	r8, r8, #32
 4097              	.LVL406:
 4098 00ec D1E7     		b	.L334
 4099              	.LVL407:
 4100              	.L333:
 519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4101              		.loc 1 519 0
 4102 00ee 1125     		movs	r5, #17
 523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4103              		.loc 1 523 0
 4104 00f0 2068     		ldr	r0, [r4]
 519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4105              		.loc 1 519 0
 4106 00f2 0295     		str	r5, [sp, #8]
ARM GAS  /tmp/cceblRej.s 			page 151


 522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4107              		.loc 1 522 0
 4108 00f4 0197     		str	r7, [sp, #4]
 523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4109              		.loc 1 523 0
 4110 00f6 FFF7FEFF 		bl	SDIO_SendCommand
 4111              	.LVL408:
 558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4112              		.loc 1 558 0
 4113 00fa 2946     		mov	r1, r5
 4114 00fc 2046     		mov	r0, r4
 4115 00fe FFF7FEFF 		bl	SD_CmdResp1Error
 4116              	.LVL409:
 560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 4117              		.loc 1 560 0
 4118 0102 0546     		mov	r5, r0
 4119 0104 0028     		cmp	r0, #0
 4120 0106 9BD1     		bne	.L355
 567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 4121              		.loc 1 567 0
 4122 0108 40F22A67 		movw	r7, #1578
 4123              	.LVL410:
 4124              	.L335:
 4125 010c 2368     		ldr	r3, [r4]
 4126 010e 02E0     		b	.L341
 4127              	.LVL411:
 4128              	.L344:
 572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 4129              		.loc 1 572 0
 4130 0110 5A6B     		ldr	r2, [r3, #52]
 4131 0112 1004     		lsls	r0, r2, #16
 4132 0114 0AD4     		bmi	.L374
 4133              	.L341:
 567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 4134              		.loc 1 567 0
 4135 0116 5A6B     		ldr	r2, [r3, #52]
 4136 0118 3A42     		tst	r2, r7
 4137 011a F9D0     		beq	.L344
 4138              	.LVL412:
 586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {    
 4139              		.loc 1 586 0
 4140 011c 5A6B     		ldr	r2, [r3, #52]
 4141 011e C6E7     		b	.L346
 4142              	.LVL413:
 4143              	.L347:
 606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4144              		.loc 1 606 0
 4145 0120 5A6B     		ldr	r2, [r3, #52]
 4146 0122 9207     		lsls	r2, r2, #30
 4147 0124 12D5     		bpl	.L348
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4148              		.loc 1 608 0
 4149 0126 0225     		movs	r5, #2
 4150              	.LVL414:
 4151 0128 9D63     		str	r5, [r3, #56]
 4152              	.LVL415:
 612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  /tmp/cceblRej.s 			page 152


 4153              		.loc 1 612 0
 4154 012a 89E7     		b	.L355
 4155              	.LVL416:
 4156              	.L374:
 4157 012c A8F10406 		sub	r6, r8, #4
 4158 0130 08F11C09 		add	r9, r8, #28
 4159 0134 00E0     		b	.L343
 4160              	.L375:
 4161 0136 2368     		ldr	r3, [r4]
 4162              	.L343:
 577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 4163              		.loc 1 577 0 discriminator 3
 4164 0138 1846     		mov	r0, r3
 4165 013a FFF7FEFF 		bl	SDIO_ReadFIFO
 4166              	.LVL417:
 4167 013e 46F8040F 		str	r0, [r6, #4]!
 575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 4168              		.loc 1 575 0 discriminator 3
 4169 0142 4E45     		cmp	r6, r9
 4170 0144 F7D1     		bne	.L375
 580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 4171              		.loc 1 580 0
 4172 0146 08F12008 		add	r8, r8, #32
 4173              	.LVL418:
 4174 014a DFE7     		b	.L335
 4175              	.LVL419:
 4176              	.L348:
 614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4177              		.loc 1 614 0
 4178 014c 5A6B     		ldr	r2, [r3, #52]
 4179 014e 9706     		lsls	r7, r2, #26
 4180 0150 09D5     		bpl	.L349
 616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4181              		.loc 1 616 0
 4182 0152 2022     		movs	r2, #32
 4183 0154 9A63     		str	r2, [r3, #56]
 4184              	.LVL420:
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4185              		.loc 1 620 0
 4186 0156 0625     		movs	r5, #6
 4187 0158 72E7     		b	.L355
 4188              	.LVL421:
 4189              	.L372:
 593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 4190              		.loc 1 593 0
 4191 015a 2046     		mov	r0, r4
 4192 015c FFF7FEFF 		bl	HAL_SD_StopTransfer
 4193              	.LVL422:
 4194 0160 2368     		ldr	r3, [r4]
 4195 0162 0546     		mov	r5, r0
 4196              	.LVL423:
 4197 0164 A3E7     		b	.L346
 4198              	.L349:
 623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4199              		.loc 1 623 0
 4200 0166 5A6B     		ldr	r2, [r3, #52]
 4201 0168 9605     		lsls	r6, r2, #22
ARM GAS  /tmp/cceblRej.s 			page 153


 4202 016a 04D5     		bpl	.L376
 625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4203              		.loc 1 625 0
 4204 016c 4FF40072 		mov	r2, #512
 4205 0170 9A63     		str	r2, [r3, #56]
 4206              	.LVL424:
 629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4207              		.loc 1 629 0
 4208 0172 0725     		movs	r5, #7
 4209 0174 64E7     		b	.L355
 4210              	.LVL425:
 4211              	.L376:
 640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4212              		.loc 1 640 0
 4213 0176 5A6B     		ldr	r2, [r3, #52]
 4214 0178 9002     		lsls	r0, r2, #10
 4215 017a 48BF     		it	mi
 4216 017c 4FF0FF36 		movmi	r6, #-1
 4217 0180 02D4     		bmi	.L353
 4218 0182 0AE0     		b	.L352
 4219              	.LVL426:
 4220              	.L377:
 640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4221              		.loc 1 640 0 is_stmt 0 discriminator 1
 4222 0184 013E     		subs	r6, r6, #1
 4223              	.LVL427:
 4224 0186 08D0     		beq	.L352
 4225              	.LVL428:
 4226              	.L353:
 642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tempbuff++;
 4227              		.loc 1 642 0 is_stmt 1
 4228 0188 1846     		mov	r0, r3
 4229 018a FFF7FEFF 		bl	SDIO_ReadFIFO
 4230              	.LVL429:
 640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4231              		.loc 1 640 0
 4232 018e 2368     		ldr	r3, [r4]
 642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tempbuff++;
 4233              		.loc 1 642 0
 4234 0190 48F8040B 		str	r0, [r8], #4
 4235              	.LVL430:
 640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4236              		.loc 1 640 0
 4237 0194 5A6B     		ldr	r2, [r3, #52]
 4238 0196 9102     		lsls	r1, r2, #10
 4239 0198 F4D4     		bmi	.L377
 4240              	.LVL431:
 4241              	.L352:
 648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4242              		.loc 1 648 0
 4243 019a 40F2FF52 		movw	r2, #1535
 4244 019e 9A63     		str	r2, [r3, #56]
 650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 4245              		.loc 1 650 0
 4246 01a0 4EE7     		b	.L355
 4247              		.cfi_endproc
 4248              	.LFE130:
ARM GAS  /tmp/cceblRej.s 			page 154


 4250 01a2 00BF     		.section	.text.HAL_SD_WriteBlocks,"ax",%progbits
 4251              		.align	1
 4252              		.p2align 2,,3
 4253              		.global	HAL_SD_WriteBlocks
 4254              		.syntax unified
 4255              		.thumb
 4256              		.thumb_func
 4257              		.fpu fpv4-sp-d16
 4259              	HAL_SD_WriteBlocks:
 4260              	.LFB131:
 665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 4261              		.loc 1 665 0
 4262              		.cfi_startproc
 4263              		@ args = 8, pretend = 0, frame = 48
 4264              		@ frame_needed = 0, uses_anonymous_args = 0
 4265              	.LVL432:
 4266 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 4267              	.LCFI61:
 4268              		.cfi_def_cfa_offset 32
 4269              		.cfi_offset 4, -32
 4270              		.cfi_offset 5, -28
 4271              		.cfi_offset 6, -24
 4272              		.cfi_offset 7, -20
 4273              		.cfi_offset 8, -16
 4274              		.cfi_offset 9, -12
 4275              		.cfi_offset 10, -8
 4276              		.cfi_offset 14, -4
 4277 0004 0446     		mov	r4, r0
 4278 0006 8CB0     		sub	sp, sp, #48
 4279              	.LCFI62:
 4280              		.cfi_def_cfa_offset 80
 676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4281              		.loc 1 676 0
 4282 0008 D4F820E0 		ldr	lr, [r4, #32]
 674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4283              		.loc 1 674 0
 4284 000c 0068     		ldr	r0, [r0]
 4285              	.LVL433:
 665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 4286              		.loc 1 665 0
 4287 000e 149F     		ldr	r7, [sp, #80]
 671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4288              		.loc 1 671 0
 4289 0010 0026     		movs	r6, #0
 676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4290              		.loc 1 676 0
 4291 0012 BEF1020F 		cmp	lr, #2
 674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4292              		.loc 1 674 0
 4293 0016 C662     		str	r6, [r0, #44]
 665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef sdio_cmdinitstructure;
 4294              		.loc 1 665 0
 4295 0018 0D46     		mov	r5, r1
 4296 001a 9146     		mov	r9, r2
 4297              	.LVL434:
 671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4298              		.loc 1 671 0
ARM GAS  /tmp/cceblRej.s 			page 155


 4299 001c 8DF80360 		strb	r6, [sp, #3]
 676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4300              		.loc 1 676 0
 4301 0020 57D0     		beq	.L432
 4302              	.LVL435:
 4303              	.L379:
 685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 4304              		.loc 1 685 0
 4305 0022 4023     		movs	r3, #64
 684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 4306              		.loc 1 684 0
 4307 0024 1026     		movs	r6, #16
 686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 4308              		.loc 1 686 0
 4309 0026 0022     		movs	r2, #0
 688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4310              		.loc 1 688 0
 4311 0028 01A9     		add	r1, sp, #4
 4312              	.LVL436:
 685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 4313              		.loc 1 685 0
 4314 002a 0393     		str	r3, [sp, #12]
 687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4315              		.loc 1 687 0
 4316 002c 4FF48063 		mov	r3, #1024
 684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 4317              		.loc 1 684 0
 4318 0030 0296     		str	r6, [sp, #8]
 686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 4319              		.loc 1 686 0
 4320 0032 0492     		str	r2, [sp, #16]
 687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4321              		.loc 1 687 0
 4322 0034 0593     		str	r3, [sp, #20]
 683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 4323              		.loc 1 683 0
 4324 0036 0197     		str	r7, [sp, #4]
 688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4325              		.loc 1 688 0
 4326 0038 FFF7FEFF 		bl	SDIO_SendCommand
 4327              	.LVL437:
 691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4328              		.loc 1 691 0
 4329 003c 3146     		mov	r1, r6
 4330 003e 2046     		mov	r0, r4
 4331 0040 FFF7FEFF 		bl	SD_CmdResp1Error
 4332              	.LVL438:
 693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4333              		.loc 1 693 0
 4334 0044 0646     		mov	r6, r0
 4335 0046 88B9     		cbnz	r0, .L417
 698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4336              		.loc 1 698 0
 4337 0048 159B     		ldr	r3, [sp, #84]
 710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4338              		.loc 1 710 0
 4339 004a 2068     		ldr	r0, [r4]
ARM GAS  /tmp/cceblRej.s 			page 156


 4340              	.LVL439:
 709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4341              		.loc 1 709 0
 4342 004c CDF80490 		str	r9, [sp, #4]
 698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4343              		.loc 1 698 0
 4344 0050 012B     		cmp	r3, #1
 701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4345              		.loc 1 701 0
 4346 0052 8CBF     		ite	hi
 4347 0054 1926     		movhi	r6, #25
 706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4348              		.loc 1 706 0
 4349 0056 1826     		movls	r6, #24
 710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4350              		.loc 1 710 0
 4351 0058 01A9     		add	r1, sp, #4
 706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4352              		.loc 1 706 0
 4353 005a 0296     		str	r6, [sp, #8]
 710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4354              		.loc 1 710 0
 4355 005c FFF7FEFF 		bl	SDIO_SendCommand
 4356              	.LVL440:
 719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }  
 4357              		.loc 1 719 0
 4358 0060 3146     		mov	r1, r6
 4359 0062 2046     		mov	r0, r4
 4360 0064 FFF7FEFF 		bl	SD_CmdResp1Error
 4361              	.LVL441:
 4362 0068 0646     		mov	r6, r0
 4363              	.LVL442:
 722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4364              		.loc 1 722 0
 4365 006a 18B1     		cbz	r0, .L433
 4366              	.LVL443:
 4367              	.L417:
 877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4368              		.loc 1 877 0
 4369 006c 3046     		mov	r0, r6
 4370 006e 0CB0     		add	sp, sp, #48
 4371              	.LCFI63:
 4372              		.cfi_remember_state
 4373              		.cfi_def_cfa_offset 32
 4374              		@ sp needed
 4375 0070 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 4376              	.LVL444:
 4377              	.L433:
 4378              	.LCFI64:
 4379              		.cfi_restore_state
 728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4380              		.loc 1 728 0
 4381 0074 159B     		ldr	r3, [sp, #84]
 734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 4382              		.loc 1 734 0
 4383 0076 0990     		str	r0, [sp, #36]
 731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = NumberOfBlocks * BlockSize;
ARM GAS  /tmp/cceblRej.s 			page 157


 4384              		.loc 1 731 0
 4385 0078 4FF0FF31 		mov	r1, #-1
 728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4386              		.loc 1 728 0
 4387 007c 03FB07F8 		mul	r8, r3, r7
 4388              	.LVL445:
 733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
 4389              		.loc 1 733 0
 4390 0080 9022     		movs	r2, #144
 736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 4391              		.loc 1 736 0
 4392 0082 0123     		movs	r3, #1
 735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 4393              		.loc 1 735 0
 4394 0084 0A90     		str	r0, [sp, #40]
 731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = NumberOfBlocks * BlockSize;
 4395              		.loc 1 731 0
 4396 0086 0691     		str	r1, [sp, #24]
 737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4397              		.loc 1 737 0
 4398 0088 2068     		ldr	r0, [r4]
 4399              	.LVL446:
 736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 4400              		.loc 1 736 0
 4401 008a 0B93     		str	r3, [sp, #44]
 737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4402              		.loc 1 737 0
 4403 008c 06A9     		add	r1, sp, #24
 732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 4404              		.loc 1 732 0
 4405 008e CDF81C80 		str	r8, [sp, #28]
 733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
 4406              		.loc 1 733 0
 4407 0092 0892     		str	r2, [sp, #32]
 737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4408              		.loc 1 737 0
 4409 0094 FFF7FEFF 		bl	SDIO_DataConfig
 4410              	.LVL447:
 740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4411              		.loc 1 740 0
 4412 0098 159B     		ldr	r3, [sp, #84]
 4413 009a 2068     		ldr	r0, [r4]
 4414 009c 012B     		cmp	r3, #1
 4415 009e 1FD9     		bls	.L434
 743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 4416              		.loc 1 743 0
 4417 00a0 40F21A37 		movw	r7, #794
 4418              	.LVL448:
 4419 00a4 02E0     		b	.L386
 4420              	.LVL449:
 4421              	.L395:
 748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 4422              		.loc 1 748 0
 4423 00a6 436B     		ldr	r3, [r0, #52]
 4424 00a8 5904     		lsls	r1, r3, #17
 4425 00aa 24D4     		bmi	.L435
 4426              	.L386:
ARM GAS  /tmp/cceblRej.s 			page 158


 743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 4427              		.loc 1 743 0
 4428 00ac 436B     		ldr	r3, [r0, #52]
 4429 00ae 3B42     		tst	r3, r7
 4430 00b0 F9D0     		beq	.L395
 815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {    
 4431              		.loc 1 815 0
 4432 00b2 436B     		ldr	r3, [r0, #52]
 4433 00b4 DB05     		lsls	r3, r3, #23
 4434 00b6 02D5     		bpl	.L408
 817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (hsd->CardType == HIGH_CAPACITY_SD_CARD))
 4435              		.loc 1 817 0
 4436 00b8 236A     		ldr	r3, [r4, #32]
 4437 00ba 022B     		cmp	r3, #2
 4438 00bc 73D9     		bls	.L436
 4439              	.L408:
 826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4440              		.loc 1 826 0
 4441 00be 436B     		ldr	r3, [r0, #52]
 4442 00c0 1E07     		lsls	r6, r3, #28
 4443 00c2 3CD5     		bpl	.L409
 828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4444              		.loc 1 828 0
 4445 00c4 0823     		movs	r3, #8
 832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4446              		.loc 1 832 0
 4447 00c6 0426     		movs	r6, #4
 828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4448              		.loc 1 828 0
 4449 00c8 8363     		str	r3, [r0, #56]
 4450              	.LVL450:
 877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4451              		.loc 1 877 0
 4452 00ca 3046     		mov	r0, r6
 4453 00cc 0CB0     		add	sp, sp, #48
 4454              	.LCFI65:
 4455              		.cfi_remember_state
 4456              		.cfi_def_cfa_offset 32
 4457              		@ sp needed
 4458 00ce BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 4459              	.LVL451:
 4460              	.L432:
 4461              	.LCFI66:
 4462              		.cfi_restore_state
 679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4463              		.loc 1 679 0
 4464 00d2 4FEA5229 		lsr	r9, r2, #9
 4465 00d6 49EAC359 		orr	r9, r9, r3, lsl #23
 4466              	.LVL452:
 678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     WriteAddr /= 512U;
 4467              		.loc 1 678 0
 4468 00da 4FF40077 		mov	r7, #512
 4469 00de A0E7     		b	.L379
 4470              	.LVL453:
 4471              	.L434:
 780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 4472              		.loc 1 780 0
ARM GAS  /tmp/cceblRej.s 			page 159


 4473 00e0 40F21A67 		movw	r7, #1562
 4474              	.LVL454:
 4475 00e4 02E0     		b	.L397
 4476              	.LVL455:
 4477              	.L406:
 785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 4478              		.loc 1 785 0
 4479 00e6 436B     		ldr	r3, [r0, #52]
 4480 00e8 5904     		lsls	r1, r3, #17
 4481 00ea 2ED4     		bmi	.L437
 4482              	.L397:
 780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 4483              		.loc 1 780 0
 4484 00ec 436B     		ldr	r3, [r0, #52]
 4485 00ee 3B42     		tst	r3, r7
 4486 00f0 F9D0     		beq	.L406
 815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {    
 4487              		.loc 1 815 0
 4488 00f2 436B     		ldr	r3, [r0, #52]
 4489 00f4 E3E7     		b	.L408
 4490              	.L435:
 750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 4491              		.loc 1 750 0
 4492 00f6 A8EB0603 		sub	r3, r8, r6
 4493 00fa 1F2B     		cmp	r3, #31
 4494 00fc 0BD9     		bls	.L387
 4495 00fe A946     		mov	r9, r5
 4496 0100 2035     		adds	r5, r5, #32
 4497              	.L388:
 767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           }
 4498              		.loc 1 767 0 discriminator 3
 4499 0102 4946     		mov	r1, r9
 4500 0104 09F10409 		add	r9, r9, #4
 4501 0108 FFF7FEFF 		bl	SDIO_WriteFIFO
 4502              	.LVL456:
 765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           {
 4503              		.loc 1 765 0 discriminator 3
 4504 010c A945     		cmp	r9, r5
 4505 010e 2068     		ldr	r0, [r4]
 4506 0110 F7D1     		bne	.L388
 4507              	.LVL457:
 771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 4508              		.loc 1 771 0
 4509 0112 2036     		adds	r6, r6, #32
 4510              	.LVL458:
 4511 0114 CAE7     		b	.L386
 4512              	.LVL459:
 4513              	.L387:
 752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           
 4514              		.loc 1 752 0
 4515 0116 9A07     		lsls	r2, r3, #30
 4516 0118 2ED1     		bne	.L389
 4517              	.LVL460:
 755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           {
 4518              		.loc 1 755 0 discriminator 1
 4519 011a 5FEA9309 		lsrs	r9, r3, #2
 4520              	.LVL461:
ARM GAS  /tmp/cceblRej.s 			page 160


 4521 011e C5D0     		beq	.L386
 4522              	.L390:
 4523 0120 4FEA8909 		lsl	r9, r9, #2
 4524              	.LVL462:
 4525 0124 05EB090A 		add	r10, r5, r9
 4526 0128 00E0     		b	.L393
 4527              	.LVL463:
 4528              	.L392:
 4529 012a 2068     		ldr	r0, [r4]
 4530              	.L393:
 757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             tempbuff++;
 4531              		.loc 1 757 0 discriminator 3
 4532 012c 2946     		mov	r1, r5
 758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             bytestransferred += 4U;
 4533              		.loc 1 758 0 discriminator 3
 4534 012e 0435     		adds	r5, r5, #4
 4535              	.LVL464:
 757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             tempbuff++;
 4536              		.loc 1 757 0 discriminator 3
 4537 0130 FFF7FEFF 		bl	SDIO_WriteFIFO
 4538              	.LVL465:
 755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           {
 4539              		.loc 1 755 0 discriminator 3
 4540 0134 5545     		cmp	r5, r10
 4541 0136 F8D1     		bne	.L392
 4542 0138 4E44     		add	r6, r6, r9
 4543 013a 2068     		ldr	r0, [r4]
 4544 013c B6E7     		b	.L386
 4545              	.LVL466:
 4546              	.L409:
 834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4547              		.loc 1 834 0
 4548 013e 436B     		ldr	r3, [r0, #52]
 4549 0140 9D07     		lsls	r5, r3, #30
 4550 0142 29D5     		bpl	.L410
 836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4551              		.loc 1 836 0
 4552 0144 0226     		movs	r6, #2
 4553 0146 8663     		str	r6, [r0, #56]
 4554              	.LVL467:
 840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4555              		.loc 1 840 0
 4556 0148 90E7     		b	.L417
 4557              	.LVL468:
 4558              	.L437:
 787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 4559              		.loc 1 787 0
 4560 014a A8EB0603 		sub	r3, r8, r6
 4561 014e 1F2B     		cmp	r3, #31
 4562 0150 16D8     		bhi	.L438
 789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           
 4563              		.loc 1 789 0
 4564 0152 9A07     		lsls	r2, r3, #30
 4565 0154 2CD1     		bne	.L400
 4566              	.LVL469:
 792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           {
 4567              		.loc 1 792 0 discriminator 1
ARM GAS  /tmp/cceblRej.s 			page 161


 4568 0156 9B08     		lsrs	r3, r3, #2
 4569              	.LVL470:
 4570 0158 C8D0     		beq	.L397
 4571              	.L401:
 4572 015a 4FEA8309 		lsl	r9, r3, #2
 4573 015e 05EB090A 		add	r10, r5, r9
 4574 0162 00E0     		b	.L404
 4575              	.LVL471:
 4576              	.L403:
 4577 0164 2068     		ldr	r0, [r4]
 4578              	.L404:
 794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             tempbuff++; 
 4579              		.loc 1 794 0 discriminator 3
 4580 0166 2946     		mov	r1, r5
 795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             bytestransferred += 4U;
 4581              		.loc 1 795 0 discriminator 3
 4582 0168 0435     		adds	r5, r5, #4
 4583              	.LVL472:
 794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             tempbuff++; 
 4584              		.loc 1 794 0 discriminator 3
 4585 016a FFF7FEFF 		bl	SDIO_WriteFIFO
 4586              	.LVL473:
 792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           {
 4587              		.loc 1 792 0 discriminator 3
 4588 016e 5545     		cmp	r5, r10
 4589 0170 F8D1     		bne	.L403
 4590 0172 4E44     		add	r6, r6, r9
 4591 0174 2068     		ldr	r0, [r4]
 4592 0176 B9E7     		b	.L397
 4593              	.LVL474:
 4594              	.L389:
 752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           
 4595              		.loc 1 752 0 discriminator 2
 4596 0178 9B08     		lsrs	r3, r3, #2
 4597 017a 03F10109 		add	r9, r3, #1
 4598              	.LVL475:
 4599 017e CFE7     		b	.L390
 4600              	.LVL476:
 4601              	.L438:
 4602 0180 A946     		mov	r9, r5
 4603 0182 2035     		adds	r5, r5, #32
 4604              	.L399:
 804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           }
 4605              		.loc 1 804 0 discriminator 3
 4606 0184 4946     		mov	r1, r9
 4607 0186 09F10409 		add	r9, r9, #4
 4608 018a FFF7FEFF 		bl	SDIO_WriteFIFO
 4609              	.LVL477:
 802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           {
 4610              		.loc 1 802 0 discriminator 3
 4611 018e A945     		cmp	r9, r5
 4612 0190 2068     		ldr	r0, [r4]
 4613 0192 F7D1     		bne	.L399
 4614              	.LVL478:
 808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 4615              		.loc 1 808 0
 4616 0194 2036     		adds	r6, r6, #32
ARM GAS  /tmp/cceblRej.s 			page 162


 4617              	.LVL479:
 4618 0196 A9E7     		b	.L397
 4619              	.LVL480:
 4620              	.L410:
 842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4621              		.loc 1 842 0
 4622 0198 436B     		ldr	r3, [r0, #52]
 4623 019a D906     		lsls	r1, r3, #27
 4624 019c 0BD5     		bpl	.L411
 844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4625              		.loc 1 844 0
 4626 019e 1023     		movs	r3, #16
 4627 01a0 8363     		str	r3, [r0, #56]
 4628              	.LVL481:
 848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4629              		.loc 1 848 0
 4630 01a2 0526     		movs	r6, #5
 4631 01a4 62E7     		b	.L417
 4632              	.LVL482:
 4633              	.L436:
 821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 4634              		.loc 1 821 0
 4635 01a6 2046     		mov	r0, r4
 4636 01a8 FFF7FEFF 		bl	HAL_SD_StopTransfer
 4637              	.LVL483:
 4638 01ac 2068     		ldr	r0, [r4]
 4639 01ae 86E7     		b	.L408
 4640              	.L400:
 789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           
 4641              		.loc 1 789 0 discriminator 2
 4642 01b0 9B08     		lsrs	r3, r3, #2
 4643 01b2 0133     		adds	r3, r3, #1
 4644              	.LVL484:
 4645 01b4 D1E7     		b	.L401
 4646              	.LVL485:
 4647              	.L411:
 851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4648              		.loc 1 851 0
 4649 01b6 436B     		ldr	r3, [r0, #52]
 4650 01b8 9A05     		lsls	r2, r3, #22
 4651 01ba 04D5     		bpl	.L412
 853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4652              		.loc 1 853 0
 4653 01bc 4FF40073 		mov	r3, #512
 4654 01c0 8363     		str	r3, [r0, #56]
 4655              	.LVL486:
 857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4656              		.loc 1 857 0
 4657 01c2 0726     		movs	r6, #7
 4658 01c4 52E7     		b	.L417
 4659              	.LVL487:
 4660              	.L412:
 866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4661              		.loc 1 866 0
 4662 01c6 40F2FF53 		movw	r3, #1535
 4663 01ca 8363     		str	r3, [r0, #56]
 869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
ARM GAS  /tmp/cceblRej.s 			page 163


 4664              		.loc 1 869 0
 4665 01cc 0DF10301 		add	r1, sp, #3
 4666 01d0 2046     		mov	r0, r4
 4667 01d2 FFF7FEFF 		bl	SD_IsCardProgramming
 4668              	.LVL488:
 871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4669              		.loc 1 871 0
 4670 01d6 0646     		mov	r6, r0
 4671 01d8 30B1     		cbz	r0, .L428
 4672 01da 47E7     		b	.L417
 4673              	.L440:
 4674              	.LVL489:
 873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4675              		.loc 1 873 0
 4676 01dc 0DF10301 		add	r1, sp, #3
 4677 01e0 2046     		mov	r0, r4
 4678 01e2 FFF7FEFF 		bl	SD_IsCardProgramming
 4679              	.LVL490:
 871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4680              		.loc 1 871 0
 4681 01e6 28B9     		cbnz	r0, .L439
 4682              	.L428:
 4683 01e8 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
 4684 01ec 063B     		subs	r3, r3, #6
 4685 01ee 012B     		cmp	r3, #1
 4686 01f0 F4D9     		bls	.L440
 4687 01f2 3BE7     		b	.L417
 4688              	.L439:
 873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4689              		.loc 1 873 0
 4690 01f4 0646     		mov	r6, r0
 4691 01f6 39E7     		b	.L417
 4692              		.cfi_endproc
 4693              	.LFE131:
 4695              		.section	.text.HAL_SD_CheckReadOperation,"ax",%progbits
 4696              		.align	1
 4697              		.p2align 2,,3
 4698              		.global	HAL_SD_CheckReadOperation
 4699              		.syntax unified
 4700              		.thumb
 4701              		.thumb_func
 4702              		.fpu fpv4-sp-d16
 4704              	HAL_SD_CheckReadOperation:
 4705              	.LFB134:
1140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 4706              		.loc 1 1140 0
 4707              		.cfi_startproc
 4708              		@ args = 0, pretend = 0, frame = 8
 4709              		@ frame_needed = 0, uses_anonymous_args = 0
 4710              	.LVL491:
 4711 0000 30B5     		push	{r4, r5, lr}
 4712              	.LCFI67:
 4713              		.cfi_def_cfa_offset 12
 4714              		.cfi_offset 4, -12
 4715              		.cfi_offset 5, -8
 4716              		.cfi_offset 14, -4
1147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp2 = hsd->SdTransferCplt;
ARM GAS  /tmp/cceblRej.s 			page 164


 4717              		.loc 1 1147 0
 4718 0002 026D     		ldr	r2, [r0, #80]
1148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;
 4719              		.loc 1 1148 0
 4720 0004 856C     		ldr	r5, [r0, #72]
1149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4721              		.loc 1 1149 0
 4722 0006 C36C     		ldr	r3, [r0, #76]
1140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 4723              		.loc 1 1140 0
 4724 0008 83B0     		sub	sp, sp, #12
 4725              	.LCFI68:
 4726              		.cfi_def_cfa_offset 24
1140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 4727              		.loc 1 1140 0
 4728 000a 0446     		mov	r4, r0
 4729              	.LVL492:
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4730              		.loc 1 1151 0
 4731 000c 002A     		cmp	r2, #0
 4732 000e 29D1     		bne	.L442
 4733 0010 45BB     		cbnz	r5, .L442
 4734 0012 DBB2     		uxtb	r3, r3
 4735 0014 33BB     		cbnz	r3, .L442
 4736 0016 0029     		cmp	r1, #0
 4737 0018 48D0     		beq	.L443
 4738 001a 0A46     		mov	r2, r1
 4739              	.LVL493:
 4740 001c 02E0     		b	.L449
 4741              	.LVL494:
 4742              	.L490:
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4743              		.loc 1 1151 0 is_stmt 0 discriminator 1
 4744 001e 45B9     		cbnz	r5, .L444
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4745              		.loc 1 1151 0 discriminator 2
 4746 0020 3BB9     		cbnz	r3, .L444
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4747              		.loc 1 1151 0 discriminator 3
 4748 0022 32B1     		cbz	r2, .L444
 4749              	.LVL495:
 4750              	.L449:
1153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp2 = hsd->SdTransferCplt;
 4751              		.loc 1 1153 0 is_stmt 1
 4752 0024 206D     		ldr	r0, [r4, #80]
 4753              	.LVL496:
1154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;    
 4754              		.loc 1 1154 0
 4755 0026 A56C     		ldr	r5, [r4, #72]
 4756              	.LVL497:
1155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
 4757              		.loc 1 1155 0
 4758 0028 E36C     		ldr	r3, [r4, #76]
1156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4759              		.loc 1 1156 0
 4760 002a 013A     		subs	r2, r2, #1
 4761              	.LVL498:
ARM GAS  /tmp/cceblRej.s 			page 165


1155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
 4762              		.loc 1 1155 0
 4763 002c DBB2     		uxtb	r3, r3
 4764              	.LVL499:
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4765              		.loc 1 1151 0
 4766 002e 0028     		cmp	r0, #0
 4767 0030 F5D0     		beq	.L490
 4768              	.L444:
 4769              	.LVL500:
1162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4770              		.loc 1 1162 0
 4771 0032 2268     		ldr	r2, [r4]
 4772 0034 536B     		ldr	r3, [r2, #52]
 4773              	.LVL501:
 4774 0036 9B04     		lsls	r3, r3, #18
 4775 0038 1546     		mov	r5, r2
 4776              	.LVL502:
 4777 003a 2FD5     		bpl	.L491
 4778              	.LVL503:
 4779              	.L450:
 4780 003c 536B     		ldr	r3, [r2, #52]
 4781 003e 9B04     		lsls	r3, r3, #18
1164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4782              		.loc 1 1164 0
 4783 0040 01F1FF31 		add	r1, r1, #-1
 4784              	.LVL504:
1162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4785              		.loc 1 1162 0
 4786 0044 13D5     		bpl	.L446
 4787              	.L485:
1162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4788              		.loc 1 1162 0 is_stmt 0 discriminator 1
 4789 0046 0029     		cmp	r1, #0
 4790 0048 F8D1     		bne	.L450
 4791              	.LVL505:
 4792              	.L448:
1168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4793              		.loc 1 1168 0 is_stmt 1
 4794 004a 636D     		ldr	r3, [r4, #84]
 4795 004c 012B     		cmp	r3, #1
 4796 004e 21D0     		beq	.L492
 4797              	.LVL506:
 4798              	.L455:
1175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4799              		.loc 1 1175 0
 4800 0050 0420     		movs	r0, #4
 4801              	.L454:
 4802              	.LVL507:
1179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4803              		.loc 1 1179 0
 4804 0052 40F2FF53 		movw	r3, #1535
 4805 0056 AB63     		str	r3, [r5, #56]
1182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4806              		.loc 1 1182 0
 4807 0058 E36C     		ldr	r3, [r4, #76]
 4808 005a 0BB1     		cbz	r3, .L465
ARM GAS  /tmp/cceblRej.s 			page 166


1184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4809              		.loc 1 1184 0
 4810 005c E06C     		ldr	r0, [r4, #76]
 4811              	.LVL508:
 4812 005e C0B2     		uxtb	r0, r0
 4813              	.L465:
1188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4814              		.loc 1 1188 0
 4815 0060 03B0     		add	sp, sp, #12
 4816              	.LCFI69:
 4817              		.cfi_remember_state
 4818              		.cfi_def_cfa_offset 12
 4819              		@ sp needed
 4820 0062 30BD     		pop	{r4, r5, pc}
 4821              	.LVL509:
 4822              	.L442:
 4823              	.LCFI70:
 4824              		.cfi_restore_state
1162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4825              		.loc 1 1162 0
 4826 0064 2268     		ldr	r2, [r4]
 4827              	.LVL510:
 4828 0066 536B     		ldr	r3, [r2, #52]
 4829 0068 9B04     		lsls	r3, r3, #18
 4830 006a 1546     		mov	r5, r2
 4831              	.LVL511:
 4832 006c EBD4     		bmi	.L485
 4833              	.LVL512:
 4834              	.L446:
1168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4835              		.loc 1 1168 0
 4836 006e 636D     		ldr	r3, [r4, #84]
 4837 0070 012B     		cmp	r3, #1
 4838 0072 05D0     		beq	.L493
 4839              	.LVL513:
 4840              	.L452:
1141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t timeout = Timeout;
 4841              		.loc 1 1141 0
 4842 0074 0029     		cmp	r1, #0
 4843 0076 1546     		mov	r5, r2
 4844 0078 0CBF     		ite	eq
 4845 007a 0420     		moveq	r0, #4
 4846 007c 0020     		movne	r0, #0
 4847 007e E8E7     		b	.L454
 4848              	.LVL514:
 4849              	.L493:
1170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4850              		.loc 1 1170 0
 4851 0080 2046     		mov	r0, r4
 4852 0082 0191     		str	r1, [sp, #4]
 4853 0084 FFF7FEFF 		bl	HAL_SD_StopTransfer
 4854              	.LVL515:
1173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4855              		.loc 1 1173 0
 4856 0088 0199     		ldr	r1, [sp, #4]
 4857 008a 69B9     		cbnz	r1, .L461
 4858              	.LVL516:
ARM GAS  /tmp/cceblRej.s 			page 167


 4859              	.L453:
 4860 008c 2568     		ldr	r5, [r4]
1173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4861              		.loc 1 1173 0 is_stmt 0 discriminator 1
 4862 008e 0028     		cmp	r0, #0
 4863 0090 DFD1     		bne	.L454
 4864 0092 DDE7     		b	.L455
 4865              	.LVL517:
 4866              	.L492:
1170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4867              		.loc 1 1170 0 is_stmt 1
 4868 0094 2046     		mov	r0, r4
 4869 0096 FFF7FEFF 		bl	HAL_SD_StopTransfer
 4870              	.LVL518:
 4871 009a F7E7     		b	.L453
 4872              	.LVL519:
 4873              	.L491:
1168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4874              		.loc 1 1168 0
 4875 009c 636D     		ldr	r3, [r4, #84]
 4876 009e 012B     		cmp	r3, #1
 4877 00a0 E8D1     		bne	.L452
1170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4878              		.loc 1 1170 0
 4879 00a2 2046     		mov	r0, r4
 4880              	.LVL520:
 4881 00a4 FFF7FEFF 		bl	HAL_SD_StopTransfer
 4882              	.LVL521:
 4883              	.L461:
 4884 00a8 2568     		ldr	r5, [r4]
 4885 00aa D2E7     		b	.L454
 4886              	.LVL522:
 4887              	.L443:
1162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4888              		.loc 1 1162 0
 4889 00ac 0268     		ldr	r2, [r0]
 4890              	.LVL523:
 4891 00ae 536B     		ldr	r3, [r2, #52]
 4892              	.LVL524:
 4893 00b0 9B04     		lsls	r3, r3, #18
 4894 00b2 1546     		mov	r5, r2
 4895              	.LVL525:
 4896 00b4 C9D4     		bmi	.L448
1168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4897              		.loc 1 1168 0
 4898 00b6 436D     		ldr	r3, [r0, #84]
 4899 00b8 012B     		cmp	r3, #1
 4900 00ba DBD1     		bne	.L452
1170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4901              		.loc 1 1170 0
 4902 00bc FFF7FEFF 		bl	HAL_SD_StopTransfer
 4903              	.LVL526:
 4904 00c0 E4E7     		b	.L453
 4905              		.cfi_endproc
 4906              	.LFE134:
 4908 00c2 00BF     		.section	.text.HAL_SD_HighSpeed,"ax",%progbits
 4909              		.align	1
ARM GAS  /tmp/cceblRej.s 			page 168


 4910              		.p2align 2,,3
 4911              		.global	HAL_SD_HighSpeed
 4912              		.syntax unified
 4913              		.thumb
 4914              		.thumb_func
 4915              		.fpu fpv4-sp-d16
 4917              	HAL_SD_HighSpeed:
 4918              	.LFB147:
1854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 4919              		.loc 1 1854 0
 4920              		.cfi_startproc
 4921              		@ args = 0, pretend = 0, frame = 120
 4922              		@ frame_needed = 0, uses_anonymous_args = 0
 4923              	.LVL527:
 4924 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 4925              	.LCFI71:
 4926              		.cfi_def_cfa_offset 28
 4927              		.cfi_offset 4, -28
 4928              		.cfi_offset 5, -24
 4929              		.cfi_offset 6, -20
 4930              		.cfi_offset 7, -16
 4931              		.cfi_offset 8, -12
 4932              		.cfi_offset 9, -8
 4933              		.cfi_offset 14, -4
 4934 0004 0446     		mov	r4, r0
 4935 0006 9FB0     		sub	sp, sp, #124
 4936              	.LCFI72:
 4937              		.cfi_def_cfa_offset 152
1859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t SD_scr[2U] = {0U, 0U};
 4938              		.loc 1 1859 0
 4939 0008 4026     		movs	r6, #64
 4940 000a 3246     		mov	r2, r6
 4941 000c 0021     		movs	r1, #0
 4942 000e 0EA8     		add	r0, sp, #56
 4943              	.LVL528:
 4944 0010 FFF7FEFF 		bl	memset
 4945              	.LVL529:
1865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4946              		.loc 1 1865 0
 4947 0014 2268     		ldr	r2, [r4]
1860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t SD_SPEC    = 0U;
 4948              		.loc 1 1860 0
 4949 0016 0023     		movs	r3, #0
1865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4950              		.loc 1 1865 0
 4951 0018 D362     		str	r3, [r2, #44]
1868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4952              		.loc 1 1868 0
 4953 001a 2046     		mov	r0, r4
 4954 001c 01A9     		add	r1, sp, #4
1860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t SD_SPEC    = 0U;
 4955              		.loc 1 1860 0
 4956 001e 0193     		str	r3, [sp, #4]
 4957 0020 0293     		str	r3, [sp, #8]
 4958              	.LVL530:
1868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4959              		.loc 1 1868 0
ARM GAS  /tmp/cceblRej.s 			page 169


 4960 0022 FFF7FEFF 		bl	SD_FindSCR
 4961              	.LVL531:
1870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4962              		.loc 1 1870 0
 4963 0026 0546     		mov	r5, r0
 4964 0028 18B9     		cbnz	r0, .L495
 4965              	.LVL532:
1876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 4966              		.loc 1 1876 0
 4967 002a 029B     		ldr	r3, [sp, #8]
1878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4968              		.loc 1 1878 0
 4969 002c 13F0407F 		tst	r3, #50331648
 4970 0030 03D1     		bne	.L519
 4971              	.LVL533:
 4972              	.L495:
1993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4973              		.loc 1 1993 0
 4974 0032 2846     		mov	r0, r5
 4975 0034 1FB0     		add	sp, sp, #124
 4976              	.LCFI73:
 4977              		.cfi_remember_state
 4978              		.cfi_def_cfa_offset 28
 4979              		@ sp needed
 4980 0036 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 4981              	.LVL534:
 4982              	.L519:
 4983              	.LCFI74:
 4984              		.cfi_restore_state
1886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4985              		.loc 1 1886 0
 4986 003a 03A9     		add	r1, sp, #12
1882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 4987              		.loc 1 1882 0
 4988 003c 1027     		movs	r7, #16
1885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 4989              		.loc 1 1885 0
 4990 003e 4FF48063 		mov	r3, #1024
 4991              	.LVL535:
1886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 4992              		.loc 1 1886 0
 4993 0042 2068     		ldr	r0, [r4]
 4994              	.LVL536:
1881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 4995              		.loc 1 1881 0
 4996 0044 0396     		str	r6, [sp, #12]
1883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 4997              		.loc 1 1883 0
 4998 0046 0596     		str	r6, [sp, #20]
1884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 4999              		.loc 1 1884 0
 5000 0048 0695     		str	r5, [sp, #24]
1882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 5001              		.loc 1 1882 0
 5002 004a 0497     		str	r7, [sp, #16]
1885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 5003              		.loc 1 1885 0
ARM GAS  /tmp/cceblRej.s 			page 170


 5004 004c 0793     		str	r3, [sp, #28]
1886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5005              		.loc 1 1886 0
 5006 004e FFF7FEFF 		bl	SDIO_SendCommand
 5007              	.LVL537:
1889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5008              		.loc 1 1889 0
 5009 0052 3946     		mov	r1, r7
 5010 0054 2046     		mov	r0, r4
 5011 0056 FFF7FEFF 		bl	SD_CmdResp1Error
 5012              	.LVL538:
1891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 5013              		.loc 1 1891 0
 5014 005a 20B1     		cbz	r0, .L520
 5015              	.L511:
 5016 005c 0546     		mov	r5, r0
1993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5017              		.loc 1 1993 0
 5018 005e 2846     		mov	r0, r5
 5019              	.LVL539:
 5020 0060 1FB0     		add	sp, sp, #124
 5021              	.LCFI75:
 5022              		.cfi_remember_state
 5023              		.cfi_def_cfa_offset 28
 5024              		@ sp needed
 5025 0062 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 5026              	.LVL540:
 5027              	.L520:
 5028              	.LCFI76:
 5029              		.cfi_restore_state
1897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.DataLength    = 64U;
 5030              		.loc 1 1897 0
 5031 0066 4FF0FF31 		mov	r1, #-1
1899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 5032              		.loc 1 1899 0
 5033 006a 6020     		movs	r0, #96
 5034              	.LVL541:
1900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 5035              		.loc 1 1900 0
 5036 006c 0222     		movs	r2, #2
1902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 5037              		.loc 1 1902 0
 5038 006e 0123     		movs	r3, #1
1897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.DataLength    = 64U;
 5039              		.loc 1 1897 0
 5040 0070 0891     		str	r1, [sp, #32]
1899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 5041              		.loc 1 1899 0
 5042 0072 0A90     		str	r0, [sp, #40]
1903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5043              		.loc 1 1903 0
 5044 0074 08A9     		add	r1, sp, #32
 5045 0076 2068     		ldr	r0, [r4]
1898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_64B ;
 5046              		.loc 1 1898 0
 5047 0078 0996     		str	r6, [sp, #36]
1900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
ARM GAS  /tmp/cceblRej.s 			page 171


 5048              		.loc 1 1900 0
 5049 007a 0B92     		str	r2, [sp, #44]
1902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 5050              		.loc 1 1902 0
 5051 007c 0D93     		str	r3, [sp, #52]
1907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure); 
 5052              		.loc 1 1907 0
 5053 007e 0626     		movs	r6, #6
1901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 5054              		.loc 1 1901 0
 5055 0080 0C95     		str	r5, [sp, #48]
1903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5056              		.loc 1 1903 0
 5057 0082 FFF7FEFF 		bl	SDIO_DataConfig
 5058              	.LVL542:
1908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5059              		.loc 1 1908 0
 5060 0086 03A9     		add	r1, sp, #12
1906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_HS_SWITCH;
 5061              		.loc 1 1906 0
 5062 0088 2E4B     		ldr	r3, .L525
1908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5063              		.loc 1 1908 0
 5064 008a 2068     		ldr	r0, [r4]
1906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     sdio_cmdinitstructure.CmdIndex         = SD_CMD_HS_SWITCH;
 5065              		.loc 1 1906 0
 5066 008c 0393     		str	r3, [sp, #12]
1907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure); 
 5067              		.loc 1 1907 0
 5068 008e 0496     		str	r6, [sp, #16]
1908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5069              		.loc 1 1908 0
 5070 0090 FFF7FEFF 		bl	SDIO_SendCommand
 5071              	.LVL543:
1911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5072              		.loc 1 1911 0
 5073 0094 3146     		mov	r1, r6
 5074 0096 2046     		mov	r0, r4
 5075 0098 FFF7FEFF 		bl	SD_CmdResp1Error
 5076              	.LVL544:
1913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 5077              		.loc 1 1913 0
 5078 009c 0028     		cmp	r0, #0
 5079 009e DDD1     		bne	.L511
 5080 00a0 0EAE     		add	r6, sp, #56
 5081              	.LVL545:
1918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR */
 5082              		.loc 1 1918 0
 5083 00a2 40F22A68 		movw	r8, #1578
 5084              	.LVL546:
 5085              	.L497:
 5086 00a6 2368     		ldr	r3, [r4]
 5087 00a8 01E0     		b	.L498
 5088              	.LVL547:
 5089              	.L501:
1923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 5090              		.loc 1 1923 0
ARM GAS  /tmp/cceblRej.s 			page 172


 5091 00aa 1004     		lsls	r0, r2, #16
 5092 00ac 0AD4     		bmi	.L521
 5093              	.L498:
1918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR */
 5094              		.loc 1 1918 0
 5095 00ae 5A6B     		ldr	r2, [r3, #52]
 5096 00b0 12EA080F 		tst	r2, r8
1923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 5097              		.loc 1 1923 0
 5098 00b4 5A6B     		ldr	r2, [r3, #52]
1918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR */
 5099              		.loc 1 1918 0
 5100 00b6 F8D0     		beq	.L501
1934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 5101              		.loc 1 1934 0
 5102 00b8 1107     		lsls	r1, r2, #28
 5103 00ba 11D5     		bpl	.L502
1936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 5104              		.loc 1 1936 0
 5105 00bc 0822     		movs	r2, #8
 5106 00be 9A63     		str	r2, [r3, #56]
 5107              	.LVL548:
1940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 5108              		.loc 1 1940 0
 5109 00c0 0425     		movs	r5, #4
 5110 00c2 B6E7     		b	.L495
 5111              	.LVL549:
 5112              	.L521:
 5113 00c4 371F     		subs	r7, r6, #4
 5114 00c6 06F11C09 		add	r9, r6, #28
 5115 00ca 00E0     		b	.L500
 5116              	.L522:
 5117 00cc 2368     		ldr	r3, [r4]
 5118              	.L500:
1927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 5119              		.loc 1 1927 0 discriminator 3
 5120 00ce 1846     		mov	r0, r3
 5121 00d0 FFF7FEFF 		bl	SDIO_ReadFIFO
 5122              	.LVL550:
 5123 00d4 47F8040F 		str	r0, [r7, #4]!
1925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 5124              		.loc 1 1925 0 discriminator 3
 5125 00d8 4F45     		cmp	r7, r9
 5126 00da F7D1     		bne	.L522
1930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 5127              		.loc 1 1930 0
 5128 00dc 2036     		adds	r6, r6, #32
 5129              	.LVL551:
 5130 00de E2E7     		b	.L497
 5131              	.LVL552:
 5132              	.L502:
1942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 5133              		.loc 1 1942 0
 5134 00e0 5A6B     		ldr	r2, [r3, #52]
 5135 00e2 9207     		lsls	r2, r2, #30
 5136 00e4 02D5     		bpl	.L503
1944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
ARM GAS  /tmp/cceblRej.s 			page 173


 5137              		.loc 1 1944 0
 5138 00e6 0225     		movs	r5, #2
 5139 00e8 9D63     		str	r5, [r3, #56]
 5140              	.LVL553:
1948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 5141              		.loc 1 1948 0
 5142 00ea A2E7     		b	.L495
 5143              	.LVL554:
 5144              	.L503:
1950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 5145              		.loc 1 1950 0
 5146 00ec 5A6B     		ldr	r2, [r3, #52]
 5147 00ee 9706     		lsls	r7, r2, #26
 5148 00f0 03D5     		bpl	.L504
1952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 5149              		.loc 1 1952 0
 5150 00f2 2022     		movs	r2, #32
 5151 00f4 9A63     		str	r2, [r3, #56]
 5152              	.LVL555:
1956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 5153              		.loc 1 1956 0
 5154 00f6 0625     		movs	r5, #6
 5155 00f8 9BE7     		b	.L495
 5156              	.LVL556:
 5157              	.L504:
1959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 5158              		.loc 1 1959 0
 5159 00fa 5A6B     		ldr	r2, [r3, #52]
 5160 00fc 9005     		lsls	r0, r2, #22
 5161 00fe 04D5     		bpl	.L523
1961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       
 5162              		.loc 1 1961 0
 5163 0100 4FF40072 		mov	r2, #512
 5164 0104 9A63     		str	r2, [r3, #56]
 5165              	.LVL557:
1965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 5166              		.loc 1 1965 0
 5167 0106 0725     		movs	r5, #7
 5168 0108 93E7     		b	.L495
 5169              	.LVL558:
 5170              	.L523:
1975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 5171              		.loc 1 1975 0
 5172 010a 5A6B     		ldr	r2, [r3, #52]
 5173 010c 9102     		lsls	r1, r2, #10
 5174 010e 48BF     		it	mi
 5175 0110 4FF0FF37 		movmi	r7, #-1
 5176 0114 02D4     		bmi	.L508
 5177 0116 0AE0     		b	.L507
 5178              	.LVL559:
 5179              	.L524:
1975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 5180              		.loc 1 1975 0 is_stmt 0 discriminator 1
 5181 0118 013F     		subs	r7, r7, #1
 5182              	.LVL560:
 5183 011a 08D0     		beq	.L507
 5184              	.LVL561:
ARM GAS  /tmp/cceblRej.s 			page 174


 5185              	.L508:
1977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tempbuff++;
 5186              		.loc 1 1977 0 is_stmt 1
 5187 011c 1846     		mov	r0, r3
 5188 011e FFF7FEFF 		bl	SDIO_ReadFIFO
 5189              	.LVL562:
1975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 5190              		.loc 1 1975 0
 5191 0122 2368     		ldr	r3, [r4]
1977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tempbuff++;
 5192              		.loc 1 1977 0
 5193 0124 46F8040B 		str	r0, [r6], #4
 5194              	.LVL563:
1975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 5195              		.loc 1 1975 0
 5196 0128 5A6B     		ldr	r2, [r3, #52]
 5197 012a 9202     		lsls	r2, r2, #10
 5198 012c F4D4     		bmi	.L524
 5199              	.LVL564:
 5200              	.L507:
1986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 5201              		.loc 1 1986 0
 5202 012e 9DF84510 		ldrb	r1, [sp, #69]	@ zero_extendqisi2
1983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5203              		.loc 1 1983 0
 5204 0132 40F2FF52 		movw	r2, #1535
1988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     } 
 5205              		.loc 1 1988 0
 5206 0136 11F0020F 		tst	r1, #2
 5207 013a 08BF     		it	eq
 5208 013c 2725     		moveq	r5, #39
1983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5209              		.loc 1 1983 0
 5210 013e 9A63     		str	r2, [r3, #56]
 5211 0140 77E7     		b	.L495
 5212              	.L526:
 5213 0142 00BF     		.align	2
 5214              	.L525:
 5215 0144 01FFFF80 		.word	-2130706687
 5216              		.cfi_endproc
 5217              	.LFE147:
 5219              		.section	.text.HAL_SD_SendSDStatus,"ax",%progbits
 5220              		.align	1
 5221              		.p2align 2,,3
 5222              		.global	HAL_SD_SendSDStatus
 5223              		.syntax unified
 5224              		.thumb
 5225              		.thumb_func
 5226              		.fpu fpv4-sp-d16
 5228              	HAL_SD_SendSDStatus:
 5229              	.LFB148:
2022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef  sdio_cmdinitstructure;
 5230              		.loc 1 2022 0
 5231              		.cfi_startproc
 5232              		@ args = 0, pretend = 0, frame = 48
 5233              		@ frame_needed = 0, uses_anonymous_args = 0
 5234              	.LVL565:
ARM GAS  /tmp/cceblRej.s 			page 175


 5235 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 5236              	.LCFI77:
 5237              		.cfi_def_cfa_offset 28
 5238              		.cfi_offset 4, -28
 5239              		.cfi_offset 5, -24
 5240              		.cfi_offset 6, -20
 5241              		.cfi_offset 7, -16
 5242              		.cfi_offset 8, -12
 5243              		.cfi_offset 9, -8
 5244              		.cfi_offset 14, -4
 5245 0004 0546     		mov	r5, r0
 5246 0006 8DB0     		sub	sp, sp, #52
 5247              	.LCFI78:
 5248              		.cfi_def_cfa_offset 80
2029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5249              		.loc 1 2029 0
 5250 0008 0020     		movs	r0, #0
 5251              	.LVL566:
2022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_CmdInitTypeDef  sdio_cmdinitstructure;
 5252              		.loc 1 2022 0
 5253 000a 0E46     		mov	r6, r1
2029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5254              		.loc 1 2029 0
 5255 000c FFF7FEFF 		bl	SDIO_GetResponse
 5256              	.LVL567:
 5257 0010 10F00070 		ands	r0, r0, #33554432
 5258 0014 04D0     		beq	.L550
2033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5259              		.loc 1 2033 0
 5260 0016 0E24     		movs	r4, #14
 5261              	.LVL568:
 5262              	.L528:
2156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5263              		.loc 1 2156 0
 5264 0018 2046     		mov	r0, r4
 5265 001a 0DB0     		add	sp, sp, #52
 5266              	.LCFI79:
 5267              		.cfi_remember_state
 5268              		.cfi_def_cfa_offset 28
 5269              		@ sp needed
 5270 001c BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 5271              	.LVL569:
 5272              	.L550:
 5273              	.LCFI80:
 5274              		.cfi_restore_state
 5275              	.LBB108:
 5276              	.LBB109:
2038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 5277              		.loc 1 2038 0
 5278 0020 1024     		movs	r4, #16
2041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 5279              		.loc 1 2041 0
 5280 0022 4FF48063 		mov	r3, #1024
2042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5281              		.loc 1 2042 0
 5282 0026 01A9     		add	r1, sp, #4
2037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
ARM GAS  /tmp/cceblRej.s 			page 176


 5283              		.loc 1 2037 0
 5284 0028 4027     		movs	r7, #64
2040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 5285              		.loc 1 2040 0
 5286 002a 0490     		str	r0, [sp, #16]
2042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5287              		.loc 1 2042 0
 5288 002c 2868     		ldr	r0, [r5]
2038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 5289              		.loc 1 2038 0
 5290 002e 0294     		str	r4, [sp, #8]
2041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 5291              		.loc 1 2041 0
 5292 0030 0593     		str	r3, [sp, #20]
2037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SET_BLOCKLEN;
 5293              		.loc 1 2037 0
 5294 0032 0197     		str	r7, [sp, #4]
2039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 5295              		.loc 1 2039 0
 5296 0034 0397     		str	r7, [sp, #12]
2042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5297              		.loc 1 2042 0
 5298 0036 FFF7FEFF 		bl	SDIO_SendCommand
 5299              	.LVL570:
2045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5300              		.loc 1 2045 0
 5301 003a 2146     		mov	r1, r4
 5302 003c 2846     		mov	r0, r5
 5303 003e FFF7FEFF 		bl	SD_CmdResp1Error
 5304              	.LVL571:
2047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5305              		.loc 1 2047 0
 5306 0042 0446     		mov	r4, r0
 5307 0044 0028     		cmp	r0, #0
 5308 0046 E7D1     		bne	.L528
2053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 5309              		.loc 1 2053 0
 5310 0048 6B6A     		ldr	r3, [r5, #36]
2055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5311              		.loc 1 2055 0
 5312 004a 2868     		ldr	r0, [r5]
 5313              	.LVL572:
2053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 5314              		.loc 1 2053 0
 5315 004c 1B04     		lsls	r3, r3, #16
2054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 5316              		.loc 1 2054 0
 5317 004e 3724     		movs	r4, #55
2055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5318              		.loc 1 2055 0
 5319 0050 01A9     		add	r1, sp, #4
2053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_APP_CMD;
 5320              		.loc 1 2053 0
 5321 0052 0193     		str	r3, [sp, #4]
2054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 5322              		.loc 1 2054 0
 5323 0054 0294     		str	r4, [sp, #8]
ARM GAS  /tmp/cceblRej.s 			page 177


2055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5324              		.loc 1 2055 0
 5325 0056 FFF7FEFF 		bl	SDIO_SendCommand
 5326              	.LVL573:
2058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5327              		.loc 1 2058 0
 5328 005a 2146     		mov	r1, r4
 5329 005c 2846     		mov	r0, r5
 5330 005e FFF7FEFF 		bl	SD_CmdResp1Error
 5331              	.LVL574:
2060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5332              		.loc 1 2060 0
 5333 0062 0446     		mov	r4, r0
 5334 0064 0028     		cmp	r0, #0
 5335 0066 D7D1     		bne	.L528
2066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = 64U;
 5336              		.loc 1 2066 0
 5337 0068 4FF0FF31 		mov	r1, #-1
2068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 5338              		.loc 1 2068 0
 5339 006c 6020     		movs	r0, #96
 5340              	.LVL575:
2069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 5341              		.loc 1 2069 0
 5342 006e 0222     		movs	r2, #2
2071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 5343              		.loc 1 2071 0
 5344 0070 0123     		movs	r3, #1
2066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataLength    = 64U;
 5345              		.loc 1 2066 0
 5346 0072 0691     		str	r1, [sp, #24]
2068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 5347              		.loc 1 2068 0
 5348 0074 0890     		str	r0, [sp, #32]
2072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5349              		.loc 1 2072 0
 5350 0076 06A9     		add	r1, sp, #24
 5351 0078 2868     		ldr	r0, [r5]
2069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 5352              		.loc 1 2069 0
 5353 007a 0992     		str	r2, [sp, #36]
2071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataConfig(hsd->Instance, &sdio_datainitstructure);
 5354              		.loc 1 2071 0
 5355 007c 0B93     		str	r3, [sp, #44]
2067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DataBlockSize = SDIO_DATABLOCK_SIZE_64B;
 5356              		.loc 1 2067 0
 5357 007e 0797     		str	r7, [sp, #28]
2070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_datainitstructure.DPSM          = SDIO_DPSM_ENABLE;
 5358              		.loc 1 2070 0
 5359 0080 0A94     		str	r4, [sp, #40]
2076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 5360              		.loc 1 2076 0
 5361 0082 0D27     		movs	r7, #13
2072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5362              		.loc 1 2072 0
 5363 0084 FFF7FEFF 		bl	SDIO_DataConfig
 5364              	.LVL576:
ARM GAS  /tmp/cceblRej.s 			page 178


2077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5365              		.loc 1 2077 0
 5366 0088 01A9     		add	r1, sp, #4
 5367 008a 2868     		ldr	r0, [r5]
2075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SD_APP_STATUS;
 5368              		.loc 1 2075 0
 5369 008c 0194     		str	r4, [sp, #4]
2076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 5370              		.loc 1 2076 0
 5371 008e 0297     		str	r7, [sp, #8]
2077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5372              		.loc 1 2077 0
 5373 0090 FFF7FEFF 		bl	SDIO_SendCommand
 5374              	.LVL577:
2080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5375              		.loc 1 2080 0
 5376 0094 3946     		mov	r1, r7
 5377 0096 2846     		mov	r0, r5
 5378 0098 FFF7FEFF 		bl	SD_CmdResp1Error
 5379              	.LVL578:
2082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5380              		.loc 1 2082 0
 5381 009c 0446     		mov	r4, r0
 5382 009e 0028     		cmp	r0, #0
 5383 00a0 BAD1     		bne	.L528
2089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 5384              		.loc 1 2089 0
 5385 00a2 40F22A68 		movw	r8, #1578
 5386              	.LVL579:
 5387              	.L530:
 5388 00a6 2B68     		ldr	r3, [r5]
 5389 00a8 01E0     		b	.L531
 5390              	.LVL580:
 5391              	.L534:
2094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 5392              		.loc 1 2094 0
 5393 00aa 1004     		lsls	r0, r2, #16
 5394 00ac 0AD4     		bmi	.L551
 5395              	.L531:
2089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 5396              		.loc 1 2089 0
 5397 00ae 5A6B     		ldr	r2, [r3, #52]
 5398 00b0 12EA080F 		tst	r2, r8
2094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 5399              		.loc 1 2094 0
 5400 00b4 5A6B     		ldr	r2, [r3, #52]
2089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 5401              		.loc 1 2089 0
 5402 00b6 F8D0     		beq	.L534
2105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5403              		.loc 1 2105 0
 5404 00b8 1107     		lsls	r1, r2, #28
 5405 00ba 11D5     		bpl	.L535
2107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5406              		.loc 1 2107 0
 5407 00bc 0822     		movs	r2, #8
 5408 00be 9A63     		str	r2, [r3, #56]
ARM GAS  /tmp/cceblRej.s 			page 179


 5409              	.LVL581:
2111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5410              		.loc 1 2111 0
 5411 00c0 0424     		movs	r4, #4
 5412 00c2 A9E7     		b	.L528
 5413              	.LVL582:
 5414              	.L551:
 5415 00c4 371F     		subs	r7, r6, #4
 5416 00c6 06F11C09 		add	r9, r6, #28
 5417 00ca 00E0     		b	.L533
 5418              	.LVL583:
 5419              	.L552:
 5420 00cc 2B68     		ldr	r3, [r5]
 5421              	.L533:
2098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 5422              		.loc 1 2098 0
 5423 00ce 1846     		mov	r0, r3
 5424 00d0 FFF7FEFF 		bl	SDIO_ReadFIFO
 5425              	.LVL584:
 5426 00d4 47F8040F 		str	r0, [r7, #4]!
2096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 5427              		.loc 1 2096 0
 5428 00d8 4F45     		cmp	r7, r9
 5429 00da F7D1     		bne	.L552
2101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 5430              		.loc 1 2101 0
 5431 00dc 2036     		adds	r6, r6, #32
 5432              	.LVL585:
 5433 00de E2E7     		b	.L530
 5434              	.LVL586:
 5435              	.L535:
2113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5436              		.loc 1 2113 0
 5437 00e0 5A6B     		ldr	r2, [r3, #52]
 5438 00e2 9207     		lsls	r2, r2, #30
 5439 00e4 02D5     		bpl	.L536
2115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5440              		.loc 1 2115 0
 5441 00e6 0224     		movs	r4, #2
 5442 00e8 9C63     		str	r4, [r3, #56]
 5443              	.LVL587:
 5444 00ea 95E7     		b	.L528
 5445              	.LVL588:
 5446              	.L536:
2121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5447              		.loc 1 2121 0
 5448 00ec 5A6B     		ldr	r2, [r3, #52]
 5449 00ee 9706     		lsls	r7, r2, #26
 5450 00f0 03D5     		bpl	.L537
2123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5451              		.loc 1 2123 0
 5452 00f2 2022     		movs	r2, #32
 5453 00f4 9A63     		str	r2, [r3, #56]
 5454              	.LVL589:
2127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5455              		.loc 1 2127 0
 5456 00f6 0624     		movs	r4, #6
ARM GAS  /tmp/cceblRej.s 			page 180


 5457 00f8 8EE7     		b	.L528
 5458              	.LVL590:
 5459              	.L537:
2130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5460              		.loc 1 2130 0
 5461 00fa 5A6B     		ldr	r2, [r3, #52]
 5462 00fc 9005     		lsls	r0, r2, #22
 5463 00fe 04D5     		bpl	.L553
2132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5464              		.loc 1 2132 0
 5465 0100 4FF40072 		mov	r2, #512
 5466 0104 9A63     		str	r2, [r3, #56]
 5467              	.LVL591:
2136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5468              		.loc 1 2136 0
 5469 0106 0724     		movs	r4, #7
 5470 0108 86E7     		b	.L528
 5471              	.LVL592:
 5472              	.L553:
2145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5473              		.loc 1 2145 0
 5474 010a 5A6B     		ldr	r2, [r3, #52]
 5475 010c 9102     		lsls	r1, r2, #10
 5476 010e 48BF     		it	mi
 5477 0110 4FF0FF37 		movmi	r7, #-1
 5478 0114 02D4     		bmi	.L541
 5479 0116 0AE0     		b	.L540
 5480              	.LVL593:
 5481              	.L554:
 5482 0118 013F     		subs	r7, r7, #1
 5483              	.LVL594:
 5484 011a 08D0     		beq	.L540
 5485              	.LVL595:
 5486              	.L541:
2147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pSDstatus++;
 5487              		.loc 1 2147 0
 5488 011c 1846     		mov	r0, r3
 5489 011e FFF7FEFF 		bl	SDIO_ReadFIFO
 5490              	.LVL596:
2145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5491              		.loc 1 2145 0
 5492 0122 2B68     		ldr	r3, [r5]
2147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pSDstatus++;
 5493              		.loc 1 2147 0
 5494 0124 46F8040B 		str	r0, [r6], #4
 5495              	.LVL597:
2145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5496              		.loc 1 2145 0
 5497 0128 5A6B     		ldr	r2, [r3, #52]
 5498 012a 9202     		lsls	r2, r2, #10
 5499 012c F4D4     		bmi	.L554
 5500              	.LVL598:
 5501              	.L540:
2153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5502              		.loc 1 2153 0
 5503 012e 40F2FF52 		movw	r2, #1535
 5504 0132 9A63     		str	r2, [r3, #56]
ARM GAS  /tmp/cceblRej.s 			page 181


 5505              	.LVL599:
 5506 0134 70E7     		b	.L528
 5507              	.LBE109:
 5508              	.LBE108:
 5509              		.cfi_endproc
 5510              	.LFE148:
 5512 0136 00BF     		.section	.text.HAL_SD_GetStatus,"ax",%progbits
 5513              		.align	1
 5514              		.p2align 2,,3
 5515              		.global	HAL_SD_GetStatus
 5516              		.syntax unified
 5517              		.thumb
 5518              		.thumb_func
 5519              		.fpu fpv4-sp-d16
 5521              	HAL_SD_GetStatus:
 5522              	.LFB149:
2164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_CardStateTypedef cardstate =  SD_CARD_TRANSFER;
 5523              		.loc 1 2164 0
 5524              		.cfi_startproc
 5525              		@ args = 0, pretend = 0, frame = 24
 5526              		@ frame_needed = 0, uses_anonymous_args = 0
 5527              	.LVL600:
 5528 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 5529              	.LCFI81:
 5530              		.cfi_def_cfa_offset 20
 5531              		.cfi_offset 4, -20
 5532              		.cfi_offset 5, -16
 5533              		.cfi_offset 6, -12
 5534              		.cfi_offset 7, -8
 5535              		.cfi_offset 14, -4
 5536              	.LBB114:
 5537              	.LBB115:
 5538              	.LBB116:
 5539              	.LBB117:
2673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_STATUS;
 5540              		.loc 1 2673 0
 5541 0002 436A     		ldr	r3, [r0, #36]
 5542              	.LBE117:
 5543              	.LBE116:
 5544              	.LBE115:
 5545              	.LBE114:
2164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_CardStateTypedef cardstate =  SD_CARD_TRANSFER;
 5546              		.loc 1 2164 0
 5547 0004 87B0     		sub	sp, sp, #28
 5548              	.LCFI82:
 5549              		.cfi_def_cfa_offset 48
2164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_CardStateTypedef cardstate =  SD_CARD_TRANSFER;
 5550              		.loc 1 2164 0
 5551 0006 0446     		mov	r4, r0
 5552              	.LVL601:
 5553              	.LBB124:
 5554              	.LBB122:
 5555              	.LBB120:
 5556              	.LBB118:
2674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 5557              		.loc 1 2674 0
 5558 0008 0D25     		movs	r5, #13
ARM GAS  /tmp/cceblRej.s 			page 182


2673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_STATUS;
 5559              		.loc 1 2673 0
 5560 000a 1B04     		lsls	r3, r3, #16
2677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 5561              		.loc 1 2677 0
 5562 000c 4FF48062 		mov	r2, #1024
2678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5563              		.loc 1 2678 0
 5564 0010 01A9     		add	r1, sp, #4
 5565 0012 0068     		ldr	r0, [r0]
 5566              	.LVL602:
2674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.Response         = SDIO_RESPONSE_SHORT;
 5567              		.loc 1 2674 0
 5568 0014 0295     		str	r5, [sp, #8]
2675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 5569              		.loc 1 2675 0
 5570 0016 4027     		movs	r7, #64
2676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 5571              		.loc 1 2676 0
 5572 0018 0026     		movs	r6, #0
2673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CmdIndex         = SD_CMD_SEND_STATUS;
 5573              		.loc 1 2673 0
 5574 001a 0193     		str	r3, [sp, #4]
2675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.WaitForInterrupt = SDIO_WAIT_NO;
 5575              		.loc 1 2675 0
 5576 001c 0397     		str	r7, [sp, #12]
2676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   sdio_cmdinitstructure.CPSM             = SDIO_CPSM_ENABLE;
 5577              		.loc 1 2676 0
 5578 001e 0496     		str	r6, [sp, #16]
2677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_SendCommand(hsd->Instance, &sdio_cmdinitstructure);
 5579              		.loc 1 2677 0
 5580 0020 0592     		str	r2, [sp, #20]
2678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5581              		.loc 1 2678 0
 5582 0022 FFF7FEFF 		bl	SDIO_SendCommand
 5583              	.LVL603:
2681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5584              		.loc 1 2681 0
 5585 0026 2946     		mov	r1, r5
 5586 0028 2046     		mov	r0, r4
 5587 002a FFF7FEFF 		bl	SD_CmdResp1Error
 5588              	.LVL604:
2683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5589              		.loc 1 2683 0
 5590 002e 10B1     		cbz	r0, .L560
 5591              	.LVL605:
 5592              	.LBE118:
 5593              	.LBE120:
 5594              	.LBE122:
 5595              	.LBE124:
2177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5596              		.loc 1 2177 0
 5597 0030 0220     		movs	r0, #2
2183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5598              		.loc 1 2183 0
 5599 0032 07B0     		add	sp, sp, #28
 5600              	.LCFI83:
ARM GAS  /tmp/cceblRej.s 			page 183


 5601              		.cfi_remember_state
 5602              		.cfi_def_cfa_offset 20
 5603              		@ sp needed
 5604 0034 F0BD     		pop	{r4, r5, r6, r7, pc}
 5605              	.LVL606:
 5606              	.L560:
 5607              	.LCFI84:
 5608              		.cfi_restore_state
 5609              	.LBB125:
 5610              	.LBB123:
 5611              	.LBB121:
 5612              	.LBB119:
2689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5613              		.loc 1 2689 0
 5614 0036 FFF7FEFF 		bl	SDIO_GetResponse
 5615              	.LVL607:
 5616              	.LBE119:
 5617              	.LBE121:
 5618              	.LBE123:
 5619              	.LBE125:
2171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5620              		.loc 1 2171 0
 5621 003a C0F34320 		ubfx	r0, r0, #9, #4
2173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5622              		.loc 1 2173 0
 5623 003e 0438     		subs	r0, r0, #4
 5624 0040 18BF     		it	ne
 5625 0042 0120     		movne	r0, #1
2183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5626              		.loc 1 2183 0
 5627 0044 07B0     		add	sp, sp, #28
 5628              	.LCFI85:
 5629              		.cfi_def_cfa_offset 20
 5630              		@ sp needed
 5631 0046 F0BD     		pop	{r4, r5, r6, r7, pc}
 5632              		.cfi_endproc
 5633              	.LFE149:
 5635              		.section	.text.HAL_SD_CheckWriteOperation,"ax",%progbits
 5636              		.align	1
 5637              		.p2align 2,,3
 5638              		.global	HAL_SD_CheckWriteOperation
 5639              		.syntax unified
 5640              		.thumb
 5641              		.thumb_func
 5642              		.fpu fpv4-sp-d16
 5644              	HAL_SD_CheckWriteOperation:
 5645              	.LFB135:
1200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 5646              		.loc 1 1200 0
 5647              		.cfi_startproc
 5648              		@ args = 0, pretend = 0, frame = 8
 5649              		@ frame_needed = 0, uses_anonymous_args = 0
 5650              	.LVL608:
 5651 0000 70B5     		push	{r4, r5, r6, lr}
 5652              	.LCFI86:
 5653              		.cfi_def_cfa_offset 16
 5654              		.cfi_offset 4, -16
ARM GAS  /tmp/cceblRej.s 			page 184


 5655              		.cfi_offset 5, -12
 5656              		.cfi_offset 6, -8
 5657              		.cfi_offset 14, -4
1207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp2 = hsd->SdTransferCplt;
 5658              		.loc 1 1207 0
 5659 0002 026D     		ldr	r2, [r0, #80]
1208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;
 5660              		.loc 1 1208 0
 5661 0004 856C     		ldr	r5, [r0, #72]
1209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 5662              		.loc 1 1209 0
 5663 0006 C36C     		ldr	r3, [r0, #76]
1200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 5664              		.loc 1 1200 0
 5665 0008 82B0     		sub	sp, sp, #8
 5666              	.LCFI87:
 5667              		.cfi_def_cfa_offset 24
1200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 5668              		.loc 1 1200 0
 5669 000a 0446     		mov	r4, r0
 5670              	.LVL609:
1211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5671              		.loc 1 1211 0
 5672 000c 002A     		cmp	r2, #0
 5673 000e 2FD1     		bne	.L562
 5674 0010 002D     		cmp	r5, #0
 5675 0012 2DD1     		bne	.L562
 5676 0014 DBB2     		uxtb	r3, r3
 5677 0016 002B     		cmp	r3, #0
 5678 0018 2AD1     		bne	.L562
 5679 001a 0029     		cmp	r1, #0
 5680 001c 59D0     		beq	.L563
 5681 001e 0A46     		mov	r2, r1
 5682              	.LVL610:
 5683 0020 02E0     		b	.L569
 5684              	.LVL611:
 5685              	.L611:
1211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5686              		.loc 1 1211 0 is_stmt 0 discriminator 1
 5687 0022 45B9     		cbnz	r5, .L564
1211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5688              		.loc 1 1211 0 discriminator 2
 5689 0024 3BB9     		cbnz	r3, .L564
1211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5690              		.loc 1 1211 0 discriminator 3
 5691 0026 32B1     		cbz	r2, .L564
 5692              	.LVL612:
 5693              	.L569:
1213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp2 = hsd->SdTransferCplt;
 5694              		.loc 1 1213 0 is_stmt 1
 5695 0028 206D     		ldr	r0, [r4, #80]
 5696              	.LVL613:
1214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     tmp3 = (HAL_SD_ErrorTypedef)hsd->SdTransferErr;
 5697              		.loc 1 1214 0
 5698 002a A56C     		ldr	r5, [r4, #72]
 5699              	.LVL614:
1215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
ARM GAS  /tmp/cceblRej.s 			page 185


 5700              		.loc 1 1215 0
 5701 002c E36C     		ldr	r3, [r4, #76]
1216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5702              		.loc 1 1216 0
 5703 002e 013A     		subs	r2, r2, #1
 5704              	.LVL615:
1215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     timeout--;
 5705              		.loc 1 1215 0
 5706 0030 DBB2     		uxtb	r3, r3
 5707              	.LVL616:
1211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5708              		.loc 1 1211 0
 5709 0032 0028     		cmp	r0, #0
 5710 0034 F5D0     		beq	.L611
 5711              	.L564:
 5712              	.LVL617:
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5713              		.loc 1 1222 0
 5714 0036 2268     		ldr	r2, [r4]
 5715 0038 536B     		ldr	r3, [r2, #52]
 5716              	.LVL618:
 5717 003a D804     		lsls	r0, r3, #19
 5718              	.LVL619:
 5719 003c 1646     		mov	r6, r2
 5720 003e 3FD5     		bpl	.L612
 5721              	.LVL620:
 5722              	.L570:
 5723 0040 536B     		ldr	r3, [r2, #52]
 5724 0042 DB04     		lsls	r3, r3, #19
1224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5725              		.loc 1 1224 0
 5726 0044 01F1FF31 		add	r1, r1, #-1
 5727              	.LVL621:
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5728              		.loc 1 1222 0
 5729 0048 17D5     		bpl	.L566
 5730              	.L606:
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5731              		.loc 1 1222 0 is_stmt 0 discriminator 1
 5732 004a 0029     		cmp	r1, #0
 5733 004c F8D1     		bne	.L570
 5734              	.LVL622:
 5735              	.L568:
1228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5736              		.loc 1 1228 0 is_stmt 1
 5737 004e 636D     		ldr	r3, [r4, #84]
 5738 0050 032B     		cmp	r3, #3
 5739 0052 30D0     		beq	.L613
 5740              	.LVL623:
 5741              	.L575:
1235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5742              		.loc 1 1235 0
 5743 0054 0425     		movs	r5, #4
 5744              	.L574:
 5745              	.LVL624:
1239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5746              		.loc 1 1239 0
ARM GAS  /tmp/cceblRej.s 			page 186


 5747 0056 40F2FF53 		movw	r3, #1535
 5748 005a B363     		str	r3, [r6, #56]
1242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5749              		.loc 1 1242 0
 5750 005c E36C     		ldr	r3, [r4, #76]
 5751 005e D3B9     		cbnz	r3, .L614
 5752              	.L576:
1248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {    
 5753              		.loc 1 1248 0 discriminator 1
 5754 0060 2046     		mov	r0, r4
 5755 0062 FFF7FEFF 		bl	HAL_SD_GetStatus
 5756              	.LVL625:
 5757 0066 0028     		cmp	r0, #0
 5758 0068 FAD1     		bne	.L576
1253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5759              		.loc 1 1253 0
 5760 006a 2846     		mov	r0, r5
 5761 006c 02B0     		add	sp, sp, #8
 5762              	.LCFI88:
 5763              		.cfi_remember_state
 5764              		.cfi_def_cfa_offset 16
 5765              		@ sp needed
 5766 006e 70BD     		pop	{r4, r5, r6, pc}
 5767              	.LVL626:
 5768              	.L562:
 5769              	.LCFI89:
 5770              		.cfi_restore_state
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5771              		.loc 1 1222 0
 5772 0070 2268     		ldr	r2, [r4]
 5773              	.LVL627:
 5774 0072 536B     		ldr	r3, [r2, #52]
 5775 0074 D804     		lsls	r0, r3, #19
 5776              	.LVL628:
 5777 0076 1646     		mov	r6, r2
 5778 0078 E7D4     		bmi	.L606
 5779              	.LVL629:
 5780              	.L566:
1228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5781              		.loc 1 1228 0
 5782 007a 636D     		ldr	r3, [r4, #84]
 5783 007c 032B     		cmp	r3, #3
 5784 007e 0FD0     		beq	.L615
 5785              	.LVL630:
 5786              	.L572:
 5787 0080 1646     		mov	r6, r2
1239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5788              		.loc 1 1239 0
 5789 0082 40F2FF53 		movw	r3, #1535
 5790 0086 B363     		str	r3, [r6, #56]
1242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5791              		.loc 1 1242 0
 5792 0088 E36C     		ldr	r3, [r4, #76]
1201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t timeout = Timeout;
 5793              		.loc 1 1201 0
 5794 008a 0029     		cmp	r1, #0
 5795 008c 0CBF     		ite	eq
ARM GAS  /tmp/cceblRej.s 			page 187


 5796 008e 0425     		moveq	r5, #4
 5797              	.LVL631:
 5798 0090 0025     		movne	r5, #0
 5799              	.LVL632:
1242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5800              		.loc 1 1242 0
 5801 0092 002B     		cmp	r3, #0
 5802 0094 E4D0     		beq	.L576
 5803              	.L614:
1244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5804              		.loc 1 1244 0
 5805 0096 E56C     		ldr	r5, [r4, #76]
 5806              	.LVL633:
 5807 0098 EDB2     		uxtb	r5, r5
1253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5808              		.loc 1 1253 0
 5809 009a 2846     		mov	r0, r5
 5810 009c 02B0     		add	sp, sp, #8
 5811              	.LCFI90:
 5812              		.cfi_remember_state
 5813              		.cfi_def_cfa_offset 16
 5814              		@ sp needed
 5815 009e 70BD     		pop	{r4, r5, r6, pc}
 5816              	.LVL634:
 5817              	.L615:
 5818              	.LCFI91:
 5819              		.cfi_restore_state
1230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5820              		.loc 1 1230 0
 5821 00a0 2046     		mov	r0, r4
 5822 00a2 0191     		str	r1, [sp, #4]
 5823 00a4 FFF7FEFF 		bl	HAL_SD_StopTransfer
 5824              	.LVL635:
1233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5825              		.loc 1 1233 0
 5826 00a8 0199     		ldr	r1, [sp, #4]
1230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5827              		.loc 1 1230 0
 5828 00aa 0546     		mov	r5, r0
 5829              	.LVL636:
1233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5830              		.loc 1 1233 0
 5831 00ac 79B9     		cbnz	r1, .L582
 5832              	.LVL637:
 5833              	.L573:
 5834 00ae 2668     		ldr	r6, [r4]
1233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5835              		.loc 1 1233 0 is_stmt 0 discriminator 1
 5836 00b0 002D     		cmp	r5, #0
 5837 00b2 D0D1     		bne	.L574
 5838 00b4 CEE7     		b	.L575
 5839              	.LVL638:
 5840              	.L613:
1230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5841              		.loc 1 1230 0 is_stmt 1
 5842 00b6 2046     		mov	r0, r4
 5843 00b8 FFF7FEFF 		bl	HAL_SD_StopTransfer
ARM GAS  /tmp/cceblRej.s 			page 188


 5844              	.LVL639:
 5845 00bc 0546     		mov	r5, r0
 5846              	.LVL640:
 5847 00be F6E7     		b	.L573
 5848              	.LVL641:
 5849              	.L612:
1228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5850              		.loc 1 1228 0
 5851 00c0 636D     		ldr	r3, [r4, #84]
 5852 00c2 032B     		cmp	r3, #3
 5853 00c4 DCD1     		bne	.L572
1230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5854              		.loc 1 1230 0
 5855 00c6 2046     		mov	r0, r4
 5856 00c8 FFF7FEFF 		bl	HAL_SD_StopTransfer
 5857              	.LVL642:
 5858 00cc 0546     		mov	r5, r0
 5859              	.LVL643:
 5860              	.L582:
 5861 00ce 2668     		ldr	r6, [r4]
 5862 00d0 C1E7     		b	.L574
 5863              	.LVL644:
 5864              	.L563:
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5865              		.loc 1 1222 0
 5866 00d2 0268     		ldr	r2, [r0]
 5867              	.LVL645:
 5868 00d4 536B     		ldr	r3, [r2, #52]
 5869              	.LVL646:
 5870 00d6 DB04     		lsls	r3, r3, #19
 5871 00d8 1646     		mov	r6, r2
 5872 00da B8D4     		bmi	.L568
1228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5873              		.loc 1 1228 0
 5874 00dc 436D     		ldr	r3, [r0, #84]
 5875 00de 032B     		cmp	r3, #3
 5876 00e0 CED1     		bne	.L572
1230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5877              		.loc 1 1230 0
 5878 00e2 FFF7FEFF 		bl	HAL_SD_StopTransfer
 5879              	.LVL647:
 5880 00e6 0546     		mov	r5, r0
 5881              	.LVL648:
 5882 00e8 E1E7     		b	.L573
 5883              		.cfi_endproc
 5884              	.LFE135:
 5886 00ea 00BF     		.section	.text.HAL_SD_GetCardStatus,"ax",%progbits
 5887              		.align	1
 5888              		.p2align 2,,3
 5889              		.global	HAL_SD_GetCardStatus
 5890              		.syntax unified
 5891              		.thumb
 5892              		.thumb_func
 5893              		.fpu fpv4-sp-d16
 5895              	HAL_SD_GetCardStatus:
 5896              	.LFB150:
2193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
ARM GAS  /tmp/cceblRej.s 			page 189


 5897              		.loc 1 2193 0
 5898              		.cfi_startproc
 5899              		@ args = 0, pretend = 0, frame = 64
 5900              		@ frame_needed = 0, uses_anonymous_args = 0
 5901              	.LVL649:
 5902 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 5903              	.LCFI92:
 5904              		.cfi_def_cfa_offset 20
 5905              		.cfi_offset 4, -20
 5906              		.cfi_offset 5, -16
 5907              		.cfi_offset 6, -12
 5908              		.cfi_offset 7, -8
 5909              		.cfi_offset 14, -4
 5910 0002 91B0     		sub	sp, sp, #68
 5911              	.LCFI93:
 5912              		.cfi_def_cfa_offset 88
2193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_ErrorTypedef errorstate = SD_OK;
 5913              		.loc 1 2193 0
 5914 0004 0C46     		mov	r4, r1
2198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5915              		.loc 1 2198 0
 5916 0006 6946     		mov	r1, sp
 5917              	.LVL650:
 5918 0008 FFF7FEFF 		bl	HAL_SD_SendSDStatus
 5919              	.LVL651:
2200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5920              		.loc 1 2200 0
 5921 000c 0028     		cmp	r0, #0
 5922 000e 30D1     		bne	.L617
2206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->DAT_BUS_WIDTH = (uint8_t)tmp;
 5923              		.loc 1 2206 0
 5924 0010 009A     		ldr	r2, [sp]
 5925              	.LVL652:
2219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5926              		.loc 1 2219 0
 5927 0012 9DF80C60 		ldrb	r6, [sp, #12]	@ zero_extendqisi2
2234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->SIZE_OF_PROTECTED_AREA |= (uint8_t)tmp;
 5928              		.loc 1 2234 0
 5929 0016 9DF81C50 		ldrb	r5, [sp, #28]	@ zero_extendqisi2
2246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->AU_SIZE = (uint8_t)tmp;
 5930              		.loc 1 2246 0
 5931 001a 0A99     		ldr	r1, [sp, #40]
2239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5932              		.loc 1 2239 0
 5933 001c 9DF820E0 		ldrb	lr, [sp, #32]	@ zero_extendqisi2
2243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5934              		.loc 1 2243 0
 5935 0020 9DF82470 		ldrb	r7, [sp, #36]	@ zero_extendqisi2
2207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5936              		.loc 1 2207 0
 5937 0024 C2F38113 		ubfx	r3, r2, #6, #2
2211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5938              		.loc 1 2211 0
 5939 0028 C2F34012 		ubfx	r2, r2, #5, #1
 5940              	.LVL653:
2207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5941              		.loc 1 2207 0
ARM GAS  /tmp/cceblRej.s 			page 190


 5942 002c 2370     		strb	r3, [r4]
 5943              	.LVL654:
2211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5944              		.loc 1 2211 0
 5945 002e 6270     		strb	r2, [r4, #1]
 5946              	.LVL655:
2215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5947              		.loc 1 2215 0
 5948 0030 6080     		strh	r0, [r4, #2]	@ movhi
 5949              	.LVL656:
2219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5950              		.loc 1 2219 0
 5951 0032 6388     		ldrh	r3, [r4, #2]
 5952 0034 9BB2     		uxth	r3, r3
 5953 0036 3343     		orrs	r3, r3, r6
 5954 0038 6380     		strh	r3, [r4, #2]	@ movhi
 5955              	.LVL657:
2223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5956              		.loc 1 2223 0
 5957 003a 6060     		str	r0, [r4, #4]
 5958              	.LVL658:
2227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5959              		.loc 1 2227 0
 5960 003c 6368     		ldr	r3, [r4, #4]
 5961 003e 6360     		str	r3, [r4, #4]
 5962              	.LVL659:
2231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5963              		.loc 1 2231 0
 5964 0040 6368     		ldr	r3, [r4, #4]
 5965 0042 6360     		str	r3, [r4, #4]
 5966              	.LVL660:
2235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5967              		.loc 1 2235 0
 5968 0044 6268     		ldr	r2, [r4, #4]
2255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5969              		.loc 1 2255 0
 5970 0046 9DF83060 		ldrb	r6, [sp, #48]	@ zero_extendqisi2
2235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5971              		.loc 1 2235 0
 5972 004a 2A43     		orrs	r2, r2, r5
2247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5973              		.loc 1 2247 0
 5974 004c C1F30311 		ubfx	r1, r1, #4, #4
2235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5975              		.loc 1 2235 0
 5976 0050 6260     		str	r2, [r4, #4]
 5977              	.LVL661:
2239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5978              		.loc 1 2239 0
 5979 0052 84F808E0 		strb	lr, [r4, #8]
 5980              	.LVL662:
2243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5981              		.loc 1 2243 0
 5982 0056 6772     		strb	r7, [r4, #9]
 5983              	.LVL663:
2247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5984              		.loc 1 2247 0
ARM GAS  /tmp/cceblRej.s 			page 191


 5985 0058 A172     		strb	r1, [r4, #10]
 5986              	.LVL664:
2251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5987              		.loc 1 2251 0
 5988 005a A081     		strh	r0, [r4, #12]	@ movhi
 5989              	.LVL665:
2255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5990              		.loc 1 2255 0
 5991 005c A389     		ldrh	r3, [r4, #12]
2258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardStatus->ERASE_TIMEOUT = (uint8_t)tmp;
 5992              		.loc 1 2258 0
 5993 005e 0D9A     		ldr	r2, [sp, #52]
 5994              	.LVL666:
2255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5995              		.loc 1 2255 0
 5996 0060 9BB2     		uxth	r3, r3
2259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5997              		.loc 1 2259 0
 5998 0062 C2F38501 		ubfx	r1, r2, #2, #6
2255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5999              		.loc 1 2255 0
 6000 0066 3343     		orrs	r3, r3, r6
2263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6001              		.loc 1 2263 0
 6002 0068 02F00302 		and	r2, r2, #3
 6003              	.LVL667:
2255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6004              		.loc 1 2255 0
 6005 006c A381     		strh	r3, [r4, #12]	@ movhi
2259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6006              		.loc 1 2259 0
 6007 006e A173     		strb	r1, [r4, #14]
 6008              	.LVL668:
2263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 6009              		.loc 1 2263 0
 6010 0070 E273     		strb	r2, [r4, #15]
 6011              	.LVL669:
 6012              	.L617:
2266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****          
 6013              		.loc 1 2266 0
 6014 0072 11B0     		add	sp, sp, #68
 6015              	.LCFI94:
 6016              		.cfi_def_cfa_offset 20
 6017              		@ sp needed
 6018 0074 F0BD     		pop	{r4, r5, r6, r7, pc}
 6019              		.cfi_endproc
 6020              	.LFE150:
 6022 0076 00BF     		.text
 6023              	.Letext0:
 6024              		.file 2 "/usr/arm-none-eabi/include/machine/_default_types.h"
 6025              		.file 3 "/usr/arm-none-eabi/include/sys/_stdint.h"
 6026              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 6027              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 6028              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f401xe.h"
 6029              		.file 7 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 6030              		.file 8 "/usr/arm-none-eabi/include/sys/lock.h"
 6031              		.file 9 "/usr/arm-none-eabi/include/sys/_types.h"
ARM GAS  /tmp/cceblRej.s 			page 192


 6032              		.file 10 "/usr/lib/gcc/arm-none-eabi/6.3.0/include/stddef.h"
 6033              		.file 11 "/usr/arm-none-eabi/include/sys/reent.h"
 6034              		.file 12 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 6035              		.file 13 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 6036              		.file 14 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_ll_sdmmc.h"
 6037              		.file 15 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_sd.h"
 6038              		.file 16 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  /tmp/cceblRej.s 			page 193


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f4xx_hal_sd.c
     /tmp/cceblRej.s:18     .text.SD_IsCardProgramming:0000000000000000 $t
     /tmp/cceblRej.s:25     .text.SD_IsCardProgramming:0000000000000000 SD_IsCardProgramming
     /tmp/cceblRej.s:328    .text.SD_IsCardProgramming:0000000000000148 $d
     /tmp/cceblRej.s:333    .text.SD_CmdResp1Error:0000000000000000 $t
     /tmp/cceblRej.s:340    .text.SD_CmdResp1Error:0000000000000000 SD_CmdResp1Error
     /tmp/cceblRej.s:597    .text.SD_CmdResp1Error:00000000000000ec $d
     /tmp/cceblRej.s:604    .text.SD_FindSCR:0000000000000000 $t
     /tmp/cceblRej.s:611    .text.SD_FindSCR:0000000000000000 SD_FindSCR
     /tmp/cceblRej.s:856    .text.HAL_SD_MspInit:0000000000000000 $t
     /tmp/cceblRej.s:864    .text.HAL_SD_MspInit:0000000000000000 HAL_SD_MspInit
     /tmp/cceblRej.s:875    .text.HAL_SD_MspDeInit:0000000000000000 $t
     /tmp/cceblRej.s:883    .text.HAL_SD_MspDeInit:0000000000000000 HAL_SD_MspDeInit
     /tmp/cceblRej.s:894    .text.HAL_SD_DeInit:0000000000000000 $t
     /tmp/cceblRej.s:902    .text.HAL_SD_DeInit:0000000000000000 HAL_SD_DeInit
     /tmp/cceblRej.s:938    .text.HAL_SD_ReadBlocks_DMA:0000000000000000 $t
     /tmp/cceblRej.s:946    .text.HAL_SD_ReadBlocks_DMA:0000000000000000 HAL_SD_ReadBlocks_DMA
     /tmp/cceblRej.s:1143   .text.HAL_SD_ReadBlocks_DMA:00000000000000ec $d
     /tmp/cceblRej.s:1872   .text.SD_DMA_RxCplt:0000000000000000 SD_DMA_RxCplt
     /tmp/cceblRej.s:1934   .text.SD_DMA_RxError:0000000000000000 SD_DMA_RxError
     /tmp/cceblRej.s:1150   .text.HAL_SD_WriteBlocks_DMA:0000000000000000 $t
     /tmp/cceblRej.s:1158   .text.HAL_SD_WriteBlocks_DMA:0000000000000000 HAL_SD_WriteBlocks_DMA
     /tmp/cceblRej.s:1372   .text.HAL_SD_WriteBlocks_DMA:00000000000000e8 $d
     /tmp/cceblRej.s:1984   .text.SD_DMA_TxCplt:0000000000000000 SD_DMA_TxCplt
     /tmp/cceblRej.s:2048   .text.SD_DMA_TxError:0000000000000000 SD_DMA_TxError
     /tmp/cceblRej.s:1379   .text.HAL_SD_Erase:0000000000000000 $t
     /tmp/cceblRej.s:1387   .text.HAL_SD_Erase:0000000000000000 HAL_SD_Erase
     /tmp/cceblRej.s:1650   .text.HAL_SD_Erase:0000000000000128 $d
     /tmp/cceblRej.s:1655   .text.HAL_SD_XferCpltCallback:0000000000000000 $t
     /tmp/cceblRej.s:1663   .text.HAL_SD_XferCpltCallback:0000000000000000 HAL_SD_XferCpltCallback
     /tmp/cceblRej.s:1674   .text.HAL_SD_XferErrorCallback:0000000000000000 $t
     /tmp/cceblRej.s:1682   .text.HAL_SD_XferErrorCallback:0000000000000000 HAL_SD_XferErrorCallback
     /tmp/cceblRej.s:1693   .text.HAL_SD_IRQHandler:0000000000000000 $t
     /tmp/cceblRej.s:1701   .text.HAL_SD_IRQHandler:0000000000000000 HAL_SD_IRQHandler
     /tmp/cceblRej.s:1846   .text.HAL_SD_DMA_RxCpltCallback:0000000000000000 $t
     /tmp/cceblRej.s:1854   .text.HAL_SD_DMA_RxCpltCallback:0000000000000000 HAL_SD_DMA_RxCpltCallback
     /tmp/cceblRej.s:1865   .text.SD_DMA_RxCplt:0000000000000000 $t
     /tmp/cceblRej.s:1908   .text.HAL_SD_DMA_RxErrorCallback:0000000000000000 $t
     /tmp/cceblRej.s:1916   .text.HAL_SD_DMA_RxErrorCallback:0000000000000000 HAL_SD_DMA_RxErrorCallback
     /tmp/cceblRej.s:1927   .text.SD_DMA_RxError:0000000000000000 $t
     /tmp/cceblRej.s:1958   .text.HAL_SD_DMA_TxCpltCallback:0000000000000000 $t
     /tmp/cceblRej.s:1966   .text.HAL_SD_DMA_TxCpltCallback:0000000000000000 HAL_SD_DMA_TxCpltCallback
     /tmp/cceblRej.s:1977   .text.SD_DMA_TxCplt:0000000000000000 $t
     /tmp/cceblRej.s:2020   .text.HAL_SD_DMA_TxErrorCallback:0000000000000000 $t
     /tmp/cceblRej.s:2028   .text.HAL_SD_DMA_TxErrorCallback:0000000000000000 HAL_SD_DMA_TxErrorCallback
     /tmp/cceblRej.s:2041   .text.SD_DMA_TxError:0000000000000000 $t
     /tmp/cceblRej.s:2072   .text.HAL_SD_Get_CardInfo:0000000000000000 $t
     /tmp/cceblRej.s:2080   .text.HAL_SD_Get_CardInfo:0000000000000000 HAL_SD_Get_CardInfo
     /tmp/cceblRej.s:2532   .text.HAL_SD_Init:0000000000000000 $t
     /tmp/cceblRej.s:2540   .text.HAL_SD_Init:0000000000000000 HAL_SD_Init
     /tmp/cceblRej.s:3173   .text.HAL_SD_Init:0000000000000314 $d
     /tmp/cceblRej.s:3181   .text.HAL_SD_Init:0000000000000318 $t
     /tmp/cceblRej.s:3448   .text.HAL_SD_WideBusOperation_Config:0000000000000000 $t
     /tmp/cceblRej.s:3456   .text.HAL_SD_WideBusOperation_Config:0000000000000000 HAL_SD_WideBusOperation_Config
     /tmp/cceblRej.s:3798   .text.HAL_SD_StopTransfer:0000000000000000 $t
     /tmp/cceblRej.s:3806   .text.HAL_SD_StopTransfer:0000000000000000 HAL_SD_StopTransfer
ARM GAS  /tmp/cceblRej.s 			page 194


     /tmp/cceblRej.s:3866   .text.HAL_SD_ReadBlocks:0000000000000000 $t
     /tmp/cceblRej.s:3874   .text.HAL_SD_ReadBlocks:0000000000000000 HAL_SD_ReadBlocks
     /tmp/cceblRej.s:4251   .text.HAL_SD_WriteBlocks:0000000000000000 $t
     /tmp/cceblRej.s:4259   .text.HAL_SD_WriteBlocks:0000000000000000 HAL_SD_WriteBlocks
     /tmp/cceblRej.s:4696   .text.HAL_SD_CheckReadOperation:0000000000000000 $t
     /tmp/cceblRej.s:4704   .text.HAL_SD_CheckReadOperation:0000000000000000 HAL_SD_CheckReadOperation
     /tmp/cceblRej.s:4909   .text.HAL_SD_HighSpeed:0000000000000000 $t
     /tmp/cceblRej.s:4917   .text.HAL_SD_HighSpeed:0000000000000000 HAL_SD_HighSpeed
     /tmp/cceblRej.s:5215   .text.HAL_SD_HighSpeed:0000000000000144 $d
     /tmp/cceblRej.s:5220   .text.HAL_SD_SendSDStatus:0000000000000000 $t
     /tmp/cceblRej.s:5228   .text.HAL_SD_SendSDStatus:0000000000000000 HAL_SD_SendSDStatus
     /tmp/cceblRej.s:5513   .text.HAL_SD_GetStatus:0000000000000000 $t
     /tmp/cceblRej.s:5521   .text.HAL_SD_GetStatus:0000000000000000 HAL_SD_GetStatus
     /tmp/cceblRej.s:5636   .text.HAL_SD_CheckWriteOperation:0000000000000000 $t
     /tmp/cceblRej.s:5644   .text.HAL_SD_CheckWriteOperation:0000000000000000 HAL_SD_CheckWriteOperation
     /tmp/cceblRej.s:5887   .text.HAL_SD_GetCardStatus:0000000000000000 $t
     /tmp/cceblRej.s:5895   .text.HAL_SD_GetCardStatus:0000000000000000 HAL_SD_GetCardStatus
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
SDIO_SendCommand
SDIO_GetCommandResponse
SDIO_GetResponse
SDIO_DataConfig
SDIO_ReadFIFO
SDIO_PowerState_OFF
HAL_DMA_Start_IT
HAL_DMA_Abort
SDIO_Init
SDIO_PowerState_ON
HAL_Delay
SDIO_GetPowerState
SDIO_WriteFIFO
memset
